{"version":3,"sources":["webpack://tapering-antidepressant/webpack/runtime/chunk loaded","webpack://tapering-antidepressant/./src/App.tsx","webpack://tapering-antidepressant/./src/assets/icons.tsx","webpack://tapering-antidepressant/./src/components/Header.tsx","webpack://tapering-antidepressant/./src/components/NavBar.tsx","webpack://tapering-antidepressant/./src/components/PatientsList.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/CapsuleOrTabletDosages.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/CapsuleOrTabletUnit.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/Dosages.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/OralFormDosage.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/PrescriptionForm.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/PrescriptionSettingsForm.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/SelectInterval.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/TargetDosageSettingForm.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/actions.ts","webpack://tapering-antidepressant/./src/components/PrescriptionForm/reducer.ts","webpack://tapering-antidepressant/./src/components/Schedule/DateEditor.tsx","webpack://tapering-antidepressant/./src/components/Schedule/Modal/ProjectedScheduleTableRowEditingModal.tsx","webpack://tapering-antidepressant/./src/components/Schedule/Modal/modalReducer.ts","webpack://tapering-antidepressant/./src/components/Schedule/NotesToShare.tsx","webpack://tapering-antidepressant/./src/components/Schedule/NumberEditor.tsx","webpack://tapering-antidepressant/./src/components/Schedule/PrescribedQuantitiesForDrug.tsx","webpack://tapering-antidepressant/./src/components/Schedule/ProjectedSchedule.tsx","webpack://tapering-antidepressant/./src/components/Schedule/ProjectedScheduleChart.tsx","webpack://tapering-antidepressant/./src/components/Schedule/ProjectedScheduleTable.tsx","webpack://tapering-antidepressant/./src/components/Schedule/index.ts","webpack://tapering-antidepressant/./src/hooks/useDosageSumDifferenceMessage.ts","webpack://tapering-antidepressant/./src/index.tsx","webpack://tapering-antidepressant/./src/pages/HomePage.tsx","webpack://tapering-antidepressant/./src/pages/LoggingConfigurationPage.tsx","webpack://tapering-antidepressant/./src/pages/LoginPage.tsx","webpack://tapering-antidepressant/./src/pages/PatientLandingPage.tsx","webpack://tapering-antidepressant/./src/pages/PatientPage.tsx","webpack://tapering-antidepressant/./src/pages/SymptomReportPage.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/ConfirmTaperConfiguration.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/CreateTaperConfiguration.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/EditTaperConfiguration.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/TaperConfigurationPage.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/index.ts","webpack://tapering-antidepressant/./src/pages/utils.tsx","webpack://tapering-antidepressant/./src/redux/actions/taperConfig.ts","webpack://tapering-antidepressant/./src/redux/actions/user.ts","webpack://tapering-antidepressant/./src/redux/reducers/drugs.ts","webpack://tapering-antidepressant/./src/redux/reducers/index.ts","webpack://tapering-antidepressant/./src/redux/reducers/taperConfig/index.ts","webpack://tapering-antidepressant/./src/redux/reducers/taperConfig/taperConfig.ts","webpack://tapering-antidepressant/./src/redux/reducers/user.ts","webpack://tapering-antidepressant/./src/redux/reducers/utils.ts","webpack://tapering-antidepressant/./src/redux/sagas/dummies.ts","webpack://tapering-antidepressant/./src/redux/sagas/index.ts","webpack://tapering-antidepressant/./src/redux/sagas/taperConfigSaga.ts","webpack://tapering-antidepressant/./src/redux/sagas/userSaga.ts","webpack://tapering-antidepressant/./src/redux/store.ts","webpack://tapering-antidepressant/./src/types/index.ts","webpack://tapering-antidepressant/webpack/bootstrap","webpack://tapering-antidepressant/webpack/runtime/compat get default export","webpack://tapering-antidepressant/webpack/runtime/define property getters","webpack://tapering-antidepressant/webpack/runtime/global","webpack://tapering-antidepressant/webpack/runtime/hasOwnProperty shorthand","webpack://tapering-antidepressant/webpack/runtime/make namespace object","webpack://tapering-antidepressant/webpack/runtime/node module decorator","webpack://tapering-antidepressant/webpack/runtime/publicPath","webpack://tapering-antidepressant/webpack/runtime/jsonp chunk loading","webpack://tapering-antidepressant/webpack/startup"],"names":["deferred","mainStyle","css","useSelector","state","user","me","currentPatient","useDispatch","Switch","Route","path","render","checkCurrentPatientAndRender","component","PatientsMenuIcon","xmlns","xmlnsXlink","width","height","viewBox","xlinkHref","SymptomTemplatesMenuIcon","id","preserveAspectRatio","rx","fill","HelpIcon","LogOutIcon","ScoredTabletIcon","value","transform","stroke","strokeWidth","cx","cy","r","textAnchor","alignmentBaseline","fontSize","fontFamily","x","y","x2","UnscoredTabletIcon","ry","CapsuleIcon","strokeLinejoin","y2","d","ArrowUp","ArrowDown","CopyToClipboardIcon","ShareWithAppIcon","ShareWithEmailIcon","ShareWithPdfIcon","StyledHeader","header","Logo","div","DisplayUser","history","useHistory","onClick","push","name","NavBarStyle","helpAndLogoutStyle","location","useLocation","useState","currentMenu","setCurrentMenu","useEffect","pathname","includes","TabStyle","match","subMenuStyle","boldOnRoute","menu","headerStyle","titleStyle","searchStyle","buttonStyle","patients","dispatch","type","SET_CURRENT_PATIENT","data","Search","placeholder","columns","title","dataIndex","key","dataSource","map","onRow","record","time","editable","context","useContext","PrescriptionFormContext","chosenDrugForm","dosageOptions","priorDosagesQty","upcomingDosagesQty","dosageDifferenceMessage","dosageSum","v","form","dosage","isScored","undefined","measureUnit","wrapperStyle","formActionDispatch","intervalDurationDays","allowSplittingUnscoredTablet","isModal","modalDispatch","dosages","taperConfigActionDispatch","action","quantity","change","onIncrement","useCallback","actionData","upcomingDosageChange","priorDosageChange","onDecrement","className","drugForm","containerStyle","useRef","isCapsuleOrTablet","current","inputStyle","oralDosageInfo","mlDosage","setmlDosage","mgOnChange","e","mg","parseInt","target","ml","rate","mlOnChange","onChange","readOnly","min","style","createContext","initialState","modal","Prior","Upcoming","prescribedDrug","addNewPrescriptionForm","numberOfMedications","useReducer","reducer","init","externalDispatchWrapper","chosenBrand","drugFormOptions","drugs","taperConfig","FETCH_DRUGS","LOAD_PRESCRIPTION_DATA","Provider","dosageChangeAction","onBrandChange","CHOOSE_BRAND","brand","onFormChange","chooseFormActionData","minDosageUnit","availableDosageOptions","regularDosageOptions","newChosenDrugForm","find","minDosage","Math","parseFloat","option","Set","flatMap","CHOOSE_FORM","toggleAllowSplittingUnscoredTabletCheckbox","toggleAllowSplittingUnscoredTablet","allow","checked","allowChangePriorDosage","danger","REMOVE_DRUG_FORM","CLEAR_SCHEDULE","OptGroup","Option","setDrugFormOptions","forms","showSearch","drug","label","options","halfLife","overlayStyle","whiteSpace","GrCircleInformation","size","selectIntervalStyle","intervalCount","intervalUnit","intervalStartDate","intervalEndDate","units","calcIntervalDurationDays","startDate","endDate","onIntervalStartDateChange","date","Date","alert","intervalStartDateChange","onIntervalEndDateChange","tempEndDate","newEndDate","valueOf","getTimezoneOffset","intervalEndDateChange","onIntervalUnitChange","toLowerCase","days","intervalUnitChange","unit","onIntervalCountChange","count","intervalCountChange","onWheel","currentTarget","blur","targetDosage","targetDosageValid","setTargetDosageValid","dosageChange","setDosageChange","priorDosageSum","Object","entries","reduce","prev","qty","upcomingDosageSum","SET_IS_INPUT_COMPLETE","isComplete","VALIDATE_INPUT_COMPLETION","SET_TARGET_DOSAGE","PRIOR_DOSAGE_CHANGE","UPCOMING_DOSAGE_CHANGE","ALLOW_SPLITTING_UNSCORED_TABLET","INTERVAL_START_DATE_CHANGE","INTERVAL_END_DATE_CHANGE","INTERVAL_COUNT_CHANGE","INTERVAL_UNIT_CHANGE","chosenDrug","brandOptions","draft","priorDosages","currentDosage","upcomingDosages","nextDosage","forEach","keys","chosenBrandOption","chosenDrugIdx","findIndex","splice","k","floor","forwardRef","props","ref","setDate","useImperativeHandle","getValue","isCancelAfterEnd","afterGuiAttached","tempDate","newDate","doubleClickedRowAndBefore","visible","onCancel","onOk","POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE","prevRow","doubleClickedRow","EDIT_PROJECTED_SCHEDULE_FROM_MODAL","isModalInputComplete","prescriptionToDosages","row","prescription","dos","applyInSchedule","correspondingDrugData","idx","curDosage","validateCompleteInputs","instructionsForPatient","instructionsForPharmacy","taperConfigs","currentTaperConfigId","patientInstructions","config","pharmacyInstructions","onChangeMessageForPatient","changeMessageForPatient","onChangeInstructionsForPharmacy","changeNoteAndInstructions","instructionsForPatientPlaceholder","onInstructionsForPatientCopied","onInstructionsForPharmacyCopied","defaultValue","rows","CopyToClipboard","text","onCopy","setValue","qtyOrZero","round","onPrescribedQuantityChange","finalPrescriptionQuantityChange","onWheelEventHandler","renderForms","dosageQty","step","bottles","projectedSchedule","scheduleChartData","finalPrescription","length","ProjectedScheduleTable","ProjectedScheduleChart","CustomizedAxisTick","payload","dy","lineColors","Fluoxetine","Citalopram","Sertraline","Paroxetine","Escitalopram","ResponsiveContainer","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","tick","tickFormatter","domain","scale","YAxis","Tooltip","formatter","labelFormatter","Legend","i","Line","tableSelectedRows","setGridApi","setGridColumnApi","showModal","setShowModal","setDoubleClickedRowAndBefore","rowStyle","defaultColumnDef","resizable","suppressMovable","columnDefs","headerName","field","hide","checkboxSelection","params","isPriorDosage","cellStyle","display","justifyContent","alignItems","suppressSizeToFit","sortable","unSortIcon","minWidth","cellEditor","valueFormatter","valueSetter","newValue","maxWidth","flex","rowClassRules","PriorDosage","AgGridReact","rowData","defaultColDef","rowSelection","rowHeight","onRowSelected","onRowDoubleClicked","event","rowIndexInPrescribedDrug","api","forEachNode","prescribedDrugId","onRowDataChanged","rowIndex","setSelected","onSelectionChanged","selectedNodes","getSelectedNodes","SCHEDULE_ROW_SELECTED","onFirstDataRendered","columnApi","autoSizeColumn","onGridReady","selectedRows","res","selected","frameworkComponents","datePicker","numberEditor","suppressDragLeaveHidesColumns","suppressRowClickSelection","ProjectedSchedule","priorDosageQty","upcomingDosageQty","setDosageDifferenceMessage","calculateDosageSum","acc","setDosageSum","abs","toFixed","AppComponent","store","ReactDOM","mode","StateInspector","document","querySelector","LOAD_PATIENTS_REQUEST","exact","useForm","register","handleSubmit","onSubmit","LOGIN_REQUEST","required","htmlType","onClickNewSchedule","onClickAdjustSchedule","renderMedicationSchedule","taperingConfiguration","onChangePatientNotes","CHANGE_PATIENT_NOTES","onClickNotesSaveButton","SAVE_PATIENT_NOTES_REQUEST","notes","patientId","renderChart","chartAreaStyle","renderButton","TextArea","pageStyle","patientPageHeaderStyle","useRouteMatch","FETCH_TAPER_CONFIG_REQUEST","clinicianId","EMPTY_PRESCRIBED_DRUGS","format","recentVisit","scheduleStyle","url","URLSearchParams","search","shareWithApp","SHARE_WITH_PATIENT_APP_REQUEST","shareWithEmail","SHARE_WITH_PATIENT_EMAIL_REQUEST","replace","buttonsStyle","prescribedDrugs","isInputComplete","ADD_NEW_DRUG_FORM","prescriptionFormStyle","drugsToRender","filter","prevVisit","renderPrescriptionForms","disabled","projectedScheduleStyle","MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE","goBack","ADD_OR_UPDATE_TAPER_CONFIG_REQUEST","urlSearchParams","setStep","titles","get","INIT_NEW_TAPER_CONFIG","CreateTaperConfiguration","EditTaperConfiguration","ConfirmTaperConfiguration","TaperConfigurationPage","Component","Redirect","to","checkAndRenderLink","link","Link","GENERATE_SCHEDULE","UPDATE_CHART","EMPTY_TAPER_CONFIG_PAGE","ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS","ADD_OR_UPDATE_TAPER_CONFIG_FAILURE","addOrUpdateTaperConfigRequest","FETCH_TAPER_CONFIG_SUCCESS","FETCH_TAPER_CONFIG_FAILURE","FETCH_PRESCRIBED_DRUGS_REQUEST","FETCH_PRESCRIBED_DRUGS_SUCCESS","FETCH_PRESCRIBED_DRUGS_FAILURE","SHARE_WITH_PATIENT_APP_SUCCESS","SHARE_WITH_PATIENT_APP_FAILURE","SHARE_WITH_PATIENT_EMAIL_SUCCESS","SHARE_WITH_PATIENT_EMAIL_FAILURE","TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT","CHANGE_MESSAGE_FOR_PATIENT","CHANGE_NOTE_AND_INSTRUCTIONS","FINAL_PRESCRIPTION_QUANTITY_CHANGE","TABLE_START_DATE_EDITED","TABLE_END_DATE_EDITED","TABLE_DOSAGE_EDITED","OPEN_MODAL","LOGIN_SUCCESS","LOGIN_FAILURE","ADD_NEW_PATIENT_REQUEST","ADD_NEW_PATIENT_SUCCESS","ADD_NEW_PATIENT_FAILURE","LOAD_PATIENTS_SUCCESS","LOAD_PATIENTS_FAILURE","SAVE_PATIENT_NOTES_SUCCESS","SAVE_PATIENT_NOTES_FAILURE","rootReducer","combineReducers","emptyPrescribedDrug","prescribedAt","taperConfigCreatedAt","lastPrescriptionFormId","prescriptionFormIds","isSaved","shareProjectedScheduleWithPatient","showInstructionsForPatient","fetchingTaperConfig","fetchedTaperConfig","fetchingTaperConfigError","fetchingPrescribedDrugs","fetchedPrescribedDrugs","fetchingPrescribedDrugsError","addingTaperConfig","addedTaperConfig","addingTaperConfigError","sharingWithPatientApp","sharedWithPatientApp","sharingWithPatientAppError","sharingWithPatientEmail","sharedWithPatientEmail","sharingWithPatientEmailError","isCompleteDrugInput","pop","scheduleGenerator","chartDataConverter","generateInstructionsForPatientFromSchedule","generateInstructionsForPharmacy","calcFinalPrescription","editedRow","unitDosages","calcMinimumQuantityForDosage","converted","convert","intervalOverlapChecked","generateTableRows","drugNames","concat","sorted","sort","taperConfigIdx","error","loggingIn","loggedIn","logInError","addingPatient","addedPatient","addPatientError","loadingPatients","loadedPatients","loadPatientsError","savingPatientNotes","savedPatientNotes","savingPatientNotesError","patient","every","completePrescribedDrugs","cond","changeDirection","changeAmount","changeRate","subtractDosageOptionsFromDosage","a","b","quot","availableOptions","putZeros","dosageToAdd","values","message","arr","startRowIndexInPrescribedDrug","tableRowsByDrug","durationInDaysCount","lengthOfProjection","increasingLength","Number","isInteger","log","projectionLengthOfEachDrug","prescribedDosage","Array","_","nextTemp","remainder","ceiling","ceil","calcProjectedDosages","addedInCurrentVisit","projectionStartDate","newRowData","Drug","Prescription","lastEndDate","endDates","lastEndDateAndIndex","curr","j","checkIntervalOverlappingRows","rowsAddedInCurrentVisit","rowsFromPreviousVisits","fromCurrent","fromPrev","start","end","inclusive","rowIntervalIsAfter","drugsToApplyInSchedule","tableDataSorted","unshift","schedule","rowsGroupByDrug","changeDirections","split","drugName","drugBrand","chartData","el","timestamp","getTime","dosagesPrescribed","instructionsForPatients","instruction","line","instructionsArr","prescriptionArr","dosageArr","scheduleData","obj","dosageInMl","sally","email","john","xiao","christian","all","fork","taperConfigId","generateOrClearSchedule","select","taperConfigState","validPrescribedDrugsInputs","put","addOrUpdateTaperConfig","existingTaperConfigIndex","createdAt","response","watchAddOrUpdateTaperConfig","takeLatest","fetchTaperConfig","taperConfigIndex","watchFetchTaperConfig","updateChart","watchTaperConfigFormChange","watchProjectedScheduleTableEdit","logIn","result","loginAPI","addPatient","loadPatients","savePatientNotes","savePatientNotesApi","watchLogIn","watchAddPatient","watchLoadPatients","watchSavePatientNotes","sagaMiddleware","middlewares","enhancer","compose","applyMiddleware","createStore","sagaTask","run","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","this","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","p","installedChunks","143","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"app.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import * as React from 'react';\r\nimport {\r\n  HashRouter as Router, Switch, Route,\r\n} from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport { css } from '@emotion/react';\r\nimport HomePage from './pages/HomePage';\r\nimport LoggingConfigurationPage from './pages/LoggingConfigurationPage';\r\nimport SymptomReportPage from './pages/SymptomReportPage';\r\nimport { RootState } from './redux/reducers';\r\nimport { UserState } from './redux/reducers/user';\r\nimport LoginPage from './pages/LoginPage';\r\nimport { LOGIN_REQUEST, LoginRequestAction } from './redux/actions/user';\r\nimport 'antd/dist/antd.css';\r\nimport { checkCurrentPatientAndRender } from './pages/utils';\r\nimport NavBar from './components/NavBar';\r\nimport Header from './components/Header';\r\n\r\nconst mainStyle = css`\r\n  flex: 1;\r\n  padding: 0 35px 34px 35px;\r\n\r\n  & > div {\r\n    background-color: #fafafa;\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\r\n    border-radius: 20px;\r\n    height: 100%;\r\n    padding: 31px 45px 21px 45px;\r\n  }\r\n`;\r\nconst App = () => {\r\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\r\n  const dispatch = useDispatch();\r\n  /*\r\n  useEffect(() => {\r\n    // dispatch<LoginRequestAction>({\r\n    //   type: LOGIN_REQUEST,\r\n    //   data: { email: 'clinician@gmail.com', password: '1234' },\r\n    // });\r\n  }, []);\r\n   */\r\n\r\n  return (\r\n    <>\r\n      {!me ? <LoginPage/>\r\n        : (\r\n          <Router>\r\n            <div css={css`\r\n              height: 100%;\r\n              display: flex;\r\n              font-family: Verdana;\r\n              flex-direction: column;\r\n\r\n              input[type=number]::-webkit-inner-spin-button,\r\n              input[type=number]::-webkit-outer-spin-button {\r\n                opacity: 1;\r\n              }`}>\r\n              <Header/>\r\n              <section css={css`\r\n                display: flex;\r\n                height: 95%;\r\n                padding-top: 2%;\r\n              `}>\r\n                <NavBar/>\r\n                <main css={mainStyle}>\r\n                  <div>\r\n                    <Switch>\r\n                      <Route path='/logging-configuration'\r\n                             render={checkCurrentPatientAndRender(currentPatient, LoggingConfigurationPage)}/>\r\n                      <Route path='/symptom-report'\r\n                             render={checkCurrentPatientAndRender(currentPatient, SymptomReportPage)}/>\r\n                      <Route path=\"/\" component={HomePage}/>\r\n                    </Switch>\r\n                  </div>\r\n                </main>\r\n              </section>\r\n            </div>\r\n          </Router>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import * as React from 'react';\r\n\r\nexport const PatientsMenuIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\"\r\n       viewBox=\"0 0 40 40\">\r\n    <image width=\"40\" height=\"40\"\r\n           xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAJ50lEQVR4nO2ceWwc5RXAf9/s6ftYX3Hs4NhOSmKHkhhwExzIQXwk5AQnIMEftCKiUFCk0pCkRUU9QgtqAKlVK4pUtSoqYM5QSNMAKQQaDoVDgKFAiHPYcWJsY8f27no98/WPQMg6jndmdmbXQfOT/MfOvu+9N+/td833xuDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg8G1GJMPo5nVLp0tNrUcyWwgxA8gBkQMyB/CeJqoC8+9u+dfeZPiZCBKWgLtWrcoe9oZuQMobJWKGgaYfh8iYc19LS9A255KI224D69fXeAI9BbeERehOJLkmcn6+X574BfATG9xLOrb2gE1XLSsXivoP4BIL1PUDHV/97QKx/e6WHa0W6E0qtiXgjubGOgX5LIhsu2wALwqU27e2PP+ujTZsxWWH0k1XNy5QBM+DyLRD/2mUg1x/2cxp7j2tn/3HZlu2YHkP2Lxu6XQ09Q2bf/lnInmsO7frugcf3BdJqN04UaxUtnHFigyhqU8nPPgAgrWBnrw/JNxunFiaAMUX+aXBJaa1CHHjpuaGHyXNvgksG4K2XNV4gVTYRwKWtjEYcqFV/6rl3weS7IcuLOsBUmEbNgS/LE9y0yKNikKpt0mqithmtR92YUkP2LSu8WKh8aYVur4mkAH1VRrVJRIhYCAEv9/loj+kr71QZM3WR3e+baVPdmBJArY0Nz0ukVdZoSvVB4tmatRWSFyjvNt/XPCXVxQ0HZ3BX1JBVs1iK1wyxIbr1hiKadxDxubmpnyJXBmvHpcCteWSK6okfu/YEa4okCycIXmxNfY9htsPoM0KoXj98bpmK3EnQAhtrZTCtB4hoLpE0lAtyU2P/dNeVKVxsNvFZ8fGl5NSI9y+n5SpVWZdSwhxT8JSinVm25blSW5aqHHt9zRdwYeTY+baWpUMf2z5YPvnZl1LGHHNAZtXLw7g9hzHYCIDGdBYrVFVontlcwY654OIxkj+b1te6DNtyGbi6wEe73wjOlJ9cOVsjQ0NalzBh2/mg1geKsKzMC5DNhPnEKRdrkfKpcC8SsntjRrzKs9c3Zilpix2EqWU86yxZg/xTcJSjJsAIWBWqaShWiMnLS5LplGQtcmxrA/TCbhrwQJ3GMZdYmSlSq6p1aKu7fu0lx1vdJLqd7N2QQkleSnj2jEqPxqJ+K6hBgnG9BAUDngriT5Aj0lkROPp1zoYDKt09YV57vWjlsqfhawfX7s8z0zDRGC6B0hFmWF4KBcGWxiVPwtF85Z13b/sBkt0xcLoTjiOSVjMNNrC4xKsvrSYNJ+L/Gwfy2onWSp/NtSBflPtEoH5HazUzjPzC50zLYc503Jskx+LkcEJuw0w3wOkEEVWOmInMjxxS4rM9wAotNIROxlq+/DRO+/ddk2y/RiLeDZi50wCknJGrZN4EpBvmRf2E98kYiNmEyCA1FhCmsaISf0WI2L6mixMJeDWpiZdG7DgMLau/yKa1PVETyI9dvoRD6YSEMjFp0duWBXB1iP21Um99EFwQI+cgAmbAFOroPCwvgQA3LP9S353fS6BDGurIN9tC/PcB66MkhjTqxCC9AsuLb9/5fr4nn/rJCE7YVXVn4DeAY2tT/URilh3/0e6R7h3ez+aNr7cV8Entczwpj1hmErAPU/uaBfIDYCu8eWzzgh3PNzD8b4YEdNB65EIWx7pZSA0vq5zIfhgfhUkt7bsfEBB1gFtehq0HR9h49+7ef9g2JxB4Jm3hvjZIz30DX47gg8W1AVtXr04IN2evwpYNvo7Ce2tBzomn34tL03wwNosUrI9uDx68i+JBCVHjw5z6+PRz3R8bndHZWlB8egGUsibf/PYzj8ZvpkkEHdZyt1PvdgNLN/S3HCbRNyLjhXHSEjjRGcYl0fBk6Lg9iu4PApCEUgJUpWoIxojQZVIUENTJcPD+lac51LwwbraUMNDEoAa0Qj1jzBwfJi+9hBfHg7SdyRI/9EQg13DhAdUNFX35H3OBR8sLk//dcvONxmJXCThOSv16uCcDD7Y946Y2NLccJuG2NB6oKMsnDOZoxX1HBWFnBga4b1LtlMQ6jSk8HExl5vfnklOppci9RjF+3eRMXCso7K0YNK5Gnyw6R0xgD2t+9+ovG7jULDplvKXugoLOk4oDAUjqCMqS6uGmRzqROh7kkAwPYcnhmfz+mEXQ8EIx0M+hqrq5ZQlTYc84RMPbXvob/fYdR92Y8vLFGt2D5WobrG1F64XQGZeO12HvzlQ39VTxuziTnzth0+uL8dBcUF6roe9B/OAwVPXswoDYnh6dfXh6XOrv994y0+nd7fiV5N/8JLAM+EzWbBbulfsCf5cdYtPgOu/vp5bXBAlt+tYAYXiC8jPYbxRUCgCivLxaUE+7Ije8wVO09mdUsCbk+dzMKscmZz/vmAayxKw4tXB4kx3aLeAu4Co4p3C86K2Anx0KMjRkSyyfSH8ef4xj5YVt8BXlE6mMsCfe2oJBYdPfefxeskpiq40UYWLz7O/w3uFFxNxGaqWSSqWJGD5y8GpQiqvCKgb6/vs/FxSM9NPfVZVlTs7Tr484U+B9EkpeNPcCOVk4P2ZHtKLUvC7Th4n/LFtepS+SeWlKMrYrvf6A+wrmkfQPWGPAKKIu78ufzU4RZHsBUbvSKP4dN+HfLT3nVOf/SleDtU/RZ57cJxW8GT/BVz9wvlRc8X85kZyCmPWWh2SQpu7vS6tI5ZgMomrBzS9LjMV+Ccxgg8wZWYlbu83m+RQcJhVH189bpteLZUfvlMTFfzcSXl6gg8wRZGuZ+t3yiRVpeojrgT4IqH7kMzSJZviY9qc6qhr//1fkB8cXD2m/KDm5fK319H1xWk9RMDMS2t0+yeRc1JSgxN6iWp6CFrxamiJkHKnER2aqvLyI89zojf6odqsqWlsrHifpemtDOLj4Z4L2dZaFh18YMqMCi5cPNeoq1IKFm+vS9lttGEiMJ2AlXuCbwEXGW038GU/e1p2EAkbO6rMys+hbk0DLo+ZrYvY90yd72KESMipmBFMDUEr94SWYyL4AOnZmVyybCFev+5DNbLyc6m9cpHJ4APImlWvhRtNNrYVUwmQaOvjMRooLuCytU3kFAbGFxRQOqOcujX1+NOMvRcwGim5MS4FNmF4CFq1uzdbuv2doP9c+KxI6Gw7TPsnbfR2fkFoKIQQgtTMdPImFzKlqpKsPMtqqkLekL+oZYmYUJW6hvu05vYtEVYEH0BA0dRSiqaWWqIuBv6IL3gF8EQijOnF8BAkUPSvAycYUhFzku3DaEwkQE64m9CNZML5bjgBEs6zw5EEUZZsB0ZjZhU0YUu9dTDhfDeTgCzLvUgcE7ZM3cHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHh28n/AWUFHsUyGy7QAAAAAElFTkSuQmCC\"/>\r\n  </svg>\r\n\r\n);\r\n\r\nexport const SymptomTemplatesMenuIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\">\r\n    <defs>\r\n      <pattern id=\"pattern\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\" viewBox=\"0 0 40 40\">\r\n        <image width=\"40\" height=\"40\" xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAABCklEQVR4nO3bzU1CQRSAUTCaUIe9SKzEBtyyZEsDVmKkF+swYQENGGAxvI+fc9YvNzfvy6wmM5sBAAAAADyC+akPtr+7/RSL3Ku315ej//hpqkX4nwAxAWICxASICRATICZATIDY86hB68+fUaNuwmqzHDLHCYgJEBMgJkBMgJgAMQFiAsQEiLkTvjB3wldOgJgAMQFiAsQEiAkQG3Yj9vH9N2rUUV/vi5vY41xOQEyAmAAxAWICxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxASICRDzTvjCvBO+cgLEBIgJEBMgJkBMAAAAAAAAJnAAkGkVij992MQAAAAASUVORK5CYII=\"/>\r\n      </pattern>\r\n    </defs>\r\n    <rect width=\"40\" height=\"40\" rx=\"20\" fill=\"url(#pattern)\" viewBox=\"0 0 40 40\"/>\r\n  </svg>\r\n);\r\n\r\nexport const HelpIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\"\r\n       viewBox=\"0 0 40 40\">\r\n    <image id=\"icons8-help-96\" width=\"40\" height=\"40\"\r\n           xlinkHref=\"data:image/png;base64,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\"/>\r\n  </svg>\r\n\r\n);\r\n\r\nexport const LogOutIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\"\r\n       viewBox=\"0 0 40 40\">\r\n    <image width=\"40\" height=\"40\"\r\n           xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAEEklEQVR4nO2d22sVVxSHf2vmHE5MFTwq+mKrQkIrQQUNglJitUnTxrSogYgvPhixjwX1T+hr8YIFDQb6VHxQbCGeliSVKpaWUEIfvBSON9QXxZyAl1ydWT6YiBcmOpc9a5K9vvez9mJ/Z/bvsM/MHkBRFEVRFMVGKG6B3htjq5icvSB8TozlAD5IoC8JnjLhtuOjz2P/ZHNN4XIag0YWUCpzIZ/zDoH5WwBOgj1lAY9Axysj7v72Oho3OVAkAaUyF/LOs99A2Jx0Q1mCCOcrw7mvTEqI9M3NO97h2T75AMCMLcU53g8mxwh9BfTeGFsFcv7D7Ft2gvBcz1+zpbZwxUTx0JPI5OyN8rkZjOvlnA5TxUNPJDEaTTSSaRhNpkqH/yYTPjLQR9ZZZqpwlKVkbuJdZJ95pgrbtJZnEhUgjAoQRgUIowKEUQHCqABhVIAwKkAYFSCMChBGBQijAoSxRkDp9FV4Pku38RbWCBj4+x5OdQ5gdHhCupXXsEYAANwqD6LryD94eP+pdCsvsUoAAAw9HMFPx/pxqzwo3QoACwUAwOjwBH7uHED/xTvSrdgpAADYZ/T8+r94OFsrYArpcLZeACAbzipgEqlwVgGvIBHOKuAN0g5nFRBAWuGsAqYhjXBWAe9gKpw/a+s2clNy+OcDbk7EWhi/P9AT5+OSeMw4cPGXrUeSLKpXwPvjEuHwph2lE+v2/ZtPqqgKCAvzvrkP7pc+3dpdTKKcCogCodEtoL9he/fKuKVUQFSYagj0V9xwVgHxKLJPvzdsO/dd1AIqQJicdAMznCFyuP3Cmda+qAVUQFSIrzPjmwtnWq/FKaMCosDo88bRfulc61DcUpoBYSHqfLJ4SUsSkw/oFRCGF1sRZ1sS3YpIfS9Iijh7UFXVeYyNjjf9GSNsg9Ar4B0UF83Bzj1rsWvD/MQnH1AB07KidiHadq9GVXVie29voQICWLthKZp3rITrxD7VbVpUwBuQQ2j6+mOsb0jnTBIV8ApV1Xm07V6NFbULUxtTBUwyFbaLlqR76KMKQDphG4T1AtIK2yCsFZB22AZhpQCJsA3COgFSYRuEVQIkwzYIawTUb/wQX2z/BI5Q2AZhjYAv22LfQWIE/UNGGBUgjAoQRgUIowKEUQHCqABhVIAwKkAYFSCMChBGBQijAoSJIuBx4l1kn0emCocXwLhroI+sY+z4lPDvEQN6TTSSZRgw9nh/aAEe+ycBeAZ6ySqe4/pdpoqHFtBcU7hMoOMmmskiDPzYuKxw1VT9SL+CKiPufgB/JNxLFulbUMkdNDlAJAHtdTQ+NJJrAegYZudy5DFwtFjJtdTXk9ETm2LfInC+PFbn5ZyOyRdeLsfMfdXhEwC3GehxXL/L5LKjKIqiKIqiPAelnivtCghPTAAAAABJRU5ErkJggg==\"/>\r\n  </svg>\r\n\r\n);\r\n\r\nexport const ScoredTabletIcon = ({ value }: { value: number }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"59\" height=\"58\" viewBox=\"0 0 59 58\">\r\n    <g transform=\"translate(-426 -49)\">\r\n      <g>\r\n        <g transform=\"translate(426 52)\" fill=\"#fff\" stroke=\"#707070\" strokeWidth=\"1\">\r\n          <circle cx=\"27.5\" cy=\"27.5\" r=\"27.5\" stroke=\"none\"/>\r\n          <circle cx=\"27.5\" cy=\"27.5\" r=\"27\" fill=\"none\"/>\r\n        </g>\r\n      </g>\r\n      <g transform=\"translate(460 49)\" fill={value > 0 ? '#0984E3' : '#707070'}\r\n         stroke={value > 0 ? '#0984E3' : '#707070'} strokeWidth=\"1\">\r\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12.5\" stroke=\"none\"/>\r\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12\" fill=\"none\"/>\r\n      </g>\r\n      <text transform=\"translate(469 67)\" textAnchor=\"middle\" alignmentBaseline=\"middle\" fill=\"#ffffff\" fontSize=\"13\"\r\n            fontFamily=\"SegoeUI, Segoe UI\">\r\n        <tspan x=\"3\" y=\"0\">{value}</tspan>\r\n      </text>\r\n      <line x2=\"53.385\" transform=\"translate(426.817 79.833)\" fill=\"none\" stroke=\"#707070\" strokeWidth=\"1\"/>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport const UnscoredTabletIcon = ({ value }: { value: number }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"58\" height=\"58\" viewBox=\"0 0 58 58\">\r\n    <g transform=\"translate(-28)\">\r\n      <g transform=\"translate(28 3)\" fill=\"#fff\" stroke=\"#707070\" strokeWidth=\"1\">\r\n        <ellipse cx=\"27\" cy=\"27.5\" rx=\"27\" ry=\"27.5\" stroke=\"none\"/>\r\n        <ellipse cx=\"27\" cy=\"27.5\" rx=\"26.5\" ry=\"27\" fill=\"none\"/>\r\n      </g>\r\n      <g transform=\"translate(61)\" fill={value > 0 ? '#0984E3' : '#707070'} stroke={value > 0 ? '#0984E3' : '#707070'}\r\n         strokeWidth=\"1\">\r\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12.5\" stroke=\"none\"/>\r\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12\" fill=\"none\"/>\r\n      </g>\r\n      <text transform=\"translate(70 18)\" textAnchor=\"middle\" alignmentBaseline=\"middle\" fill=\"#ffffff\" fontSize=\"13\" fontFamily=\"SegoeUI, Segoe UI\">\r\n        <tspan x=\"3\" y=\"0\">{value}</tspan>\r\n      </text>\r\n    </g>\r\n  </svg>\r\n\r\n);\r\n\r\nexport const CapsuleIcon = ({ value }: { value: number }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38.505\" height=\"58.088\" viewBox=\"0 0 38.505 58.088\">\r\n    <g transform=\"translate(-688.495 -657)\">\r\n      <g transform=\"translate(688.5 661.5)\" fill=\"#fff\" stroke=\"#707070\"\r\n         strokeLinejoin=\"bevel\" strokeWidth=\"1\">\r\n        <rect width=\"18.812\" height=\"53.588\" rx=\"9.406\" stroke=\"none\"/>\r\n        <rect x=\"0.5\" y=\"0.5\" width=\"17.812\" height=\"52.588\" rx=\"8.906\" fill=\"none\"/>\r\n      </g>\r\n      <line x2=\"19\" y2=\"0.206\" transform=\"translate(688.5 688.294)\" fill=\"none\"\r\n            stroke=\"#707070\" strokeWidth=\"1\"/>\r\n      <path d=\"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z\" transform=\"translate(702 657)\" fill={value > 0 ? '#0984E3' : '#707070'}/>\r\n      <text transform=\"translate(714 675)\" fill=\"#ffffff\" fontSize=\"13\" textAnchor=\"middle\" alignmentBaseline=\"middle\"\r\n            fontFamily=\"SegoeUI, Segoe UI\">\r\n        <tspan x=\"0\" y=\"0\">{value}</tspan>\r\n      </text>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport const ArrowUp = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"14\" viewBox=\"0 0 15 14\">\r\n    <path d=\"M5.737,3.291a2,2,0,0,1,3.526,0l4.16,7.765A2,2,0,0,1,11.66,14H3.34a2,2,0,0,1-1.763-2.944Z\" fill=\"#707070\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ArrowDown = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"14\" viewBox=\"0 0 15 14\">\r\n    <path d=\"M5.737,3.291a2,2,0,0,1,3.526,0l4.16,7.765A2,2,0,0,1,11.66,14H3.34a2,2,0,0,1-1.763-2.944Z\"\r\n          transform=\"translate(15 14) rotate(180)\" fill=\"#707070\"/>\r\n  </svg>\r\n\r\n);\r\n\r\nexport const CopyToClipboardIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\">\r\n    <image id=\"copy_icon\" data-name=\"copy icon\" width=\"25\" height=\"25\" xlinkHref=\"data:image/png;base64,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\"/>\r\n  </svg>\r\n\r\n);\r\n\r\nexport const ShareWithAppIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"42\" height=\"42\"\r\n       viewBox=\"0 0 42 42\">\r\n    <g fill=\"#fff\" stroke=\"#000\" strokeWidth=\"2\">\r\n      <circle cx=\"21\" cy=\"21\" r=\"21\" stroke=\"none\"/>\r\n      <circle cx=\"21\" cy=\"21\" r=\"20\" fill=\"none\"/>\r\n    </g>\r\n    <image width=\"25\" height=\"25\" transform=\"translate(9 9)\"\r\n           xlinkHref=\"data:image/png;base64,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\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ShareWithEmailIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"42\" height=\"42\"\r\n       viewBox=\"0 0 42 42\">\r\n    <g fill=\"#fff\" stroke=\"#000\" strokeWidth=\"2\">\r\n      <circle cx=\"21\" cy=\"21\" r=\"21\" stroke=\"none\"/>\r\n      <circle cx=\"21\" cy=\"21\" r=\"20\" fill=\"none\"/>\r\n    </g>\r\n    <image width=\"22\" height=\"22\" transform=\"translate(10 10)\"\r\n           xlinkHref=\"data:image/png;base64,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\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ShareWithPdfIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"42\" height=\"42\" viewBox=\"0 0 42 42\">\r\n    <defs>\r\n      <pattern id=\"pdf_pattern\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\" viewBox=\"0 0 512 512\">\r\n        <image width=\"512\" height=\"512\" xlinkHref=\"data:image/png;base64,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\"/>\r\n      </pattern>\r\n    </defs>\r\n    <g id=\"mail_circle\" data-name=\"mail circle\" fill=\"none\">\r\n      <path d=\"M21,0A21,21,0,1,1,0,21,21,21,0,0,1,21,0Z\" stroke=\"none\"/>\r\n      <path d=\"M 21 2 C 15.92491912841797 2 11.15360069274902 3.976341247558594 7.564968109130859 7.564968109130859 C 3.976341247558594 11.15360069274902 2 15.92491912841797 2 21 C 2 26.07508087158203 3.976341247558594 30.84640121459961 7.564968109130859 34.43502807617188 C 11.15360069274902 38.02365875244141 15.92491912841797 40 21 40 C 26.07508087158203 40 30.84640121459961 38.02365875244141 34.43502807617188 34.43502807617188 C 38.02365875244141 30.84640121459961 40 26.07508087158203 40 21 C 40 15.92491912841797 38.02365875244141 11.15360069274902 34.43502807617188 7.564968109130859 C 30.84640121459961 3.976341247558594 26.07508087158203 2 21 2 M 21 0 C 32.59798049926758 0 42 9.402019500732422 42 21 C 42 32.59798049926758 32.59798049926758 42 21 42 C 9.402019500732422 42 0 32.59798049926758 0 21 C 0 9.402019500732422 9.402019500732422 0 21 0 Z\" stroke=\"none\" fill=\"#000\"/>\r\n    </g>\r\n    <rect id=\"document\" width=\"26\" height=\"26\" rx=\"5\" transform=\"translate(8 8)\" fill=\"url(#pdf_pattern)\"/>\r\n  </svg>\r\n);\r\n","import * as React from 'react';\r\nimport styled from '@emotion/styled';\r\nimport { css } from '@emotion/react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { UserState } from '../redux/reducers/user';\r\nimport { RootState } from '../redux/reducers';\r\nimport JomhuriaWoff from '../assets/jomhuria-v12-latin-regular.woff';\r\nimport JomhuriaWoff2 from '../assets/jomhuria-v12-latin-regular.woff2';\r\n\r\nconst StyledHeader = styled.header`\r\n  display: flex;\r\n  //border: 1px solid blue;\r\n  //height: 8%;\r\n  height: 5%;\r\n  align-items: center;\r\n  width: 100%;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  /* jomhuria-regular - latin */\r\n  @font-face {\r\n    font-family: 'Jomhuria';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    src: local(''),\r\n    url(${JomhuriaWoff2}) format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\r\n    url(${JomhuriaWoff}) format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\r\n  }\r\n  \r\n  //flex-basis: 16%;\r\n  //width: 16%;\r\n  //flex: 0 0 200px;\r\n  flex: 0 1 16%;\r\n  text-align: center;\r\n  font-size: 3rem;\r\n  font-family: 'Jomhuria';\r\n  //font-weight: bold;\r\n  margin: 0;\r\n  color: #0984E3;\r\n\r\n`;\r\n\r\nconst DisplayUser = styled.div`\r\n  background-color: #0984E3;\r\n  border-bottom-left-radius: 17px;\r\n  text-align: right;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  flex: 1;\r\n  color: white;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst Header = () => {\r\n  const { me } = useSelector<RootState, UserState>((state) => state.user);\r\n  const history = useHistory();\r\n  const onClickLogo = () => {\r\n    history.push('/');\r\n  };\r\n  return (\r\n    <>\r\n      <StyledHeader>\r\n        <Logo onClick={onClickLogo}>AT Planner</Logo>\r\n        <DisplayUser>\r\n          <span css={css`margin-right: 86px`}>Hello, Dr. {me?.name}</span>\r\n        </DisplayUser>\r\n      </StyledHeader></>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import * as React from 'react';\r\nimport { css } from '@emotion/react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport {\r\n  HelpIcon, LogOutIcon, PatientsMenuIcon, SymptomTemplatesMenuIcon,\r\n} from '../assets/icons';\r\n\r\nconst NavBarStyle = css`\r\n  background-color: #0984E3;\r\n  border-top-right-radius: 17px;\r\n  //font-size: 24px;\r\n  font-size: 1rem;\r\n  color: white;\r\n  height: 100%;\r\n  //width: 16%;\r\n  //flex: 0 0 200px;\r\n  flex: 0 0 16%;\r\n  padding-top: 3%;\r\n`;\r\n\r\nconst helpAndLogoutStyle = css`\r\n  padding-left: 29px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: auto 0 19px 0;\r\n\r\n  & > div {\r\n    display: flex;\r\n    padding-bottom: 20px;\r\n    align-items: center;\r\n  }\r\n\r\n  & > div > div {\r\n    margin-left: 14px;\r\n  }`;\r\n\r\nconst NavBar = () => {\r\n  const location = useLocation();\r\n  const [currentMenu, setCurrentMenu] = useState<'schedule' | 'symptomTracker' | 'report'>('schedule');\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes('symptom-tracker')) {\r\n      setCurrentMenu('symptomTracker');\r\n    } else if (location.pathname.includes('report')) {\r\n      setCurrentMenu('report');\r\n    } else {\r\n      setCurrentMenu('schedule');\r\n    }\r\n  }, [location]);\r\n\r\n  const TabStyle = (name: 'patient' | 'symptomTemplates') => css`\r\n    height: 68px;\r\n    display: flex;\r\n    margin-top: 35px;\r\n    padding-left: 19px;\r\n      //align-items: ${name === 'patient' ? 'center' : 'start'};\r\n    align-items: center;\r\n    background-color: #0984E3;\r\n    color: white;\r\n\r\n    ${((name === 'patient' && location.pathname.match(/(\\/)|(\\/patient.+)|(\\/taper-configuration.+)/) !== null)\r\n            || (name === 'symptomTemplates' && location.pathname.match(/\\/symptom-templates.+/)) !== null)\r\n    && css`\r\n      background-color: white;\r\n      color: #0984E3;\r\n      border-top-left-radius: 17px;\r\n      border-right: 1px solid #0984E3;\r\n      border-bottom-left-radius: 17px;`\r\n}`;\r\n\r\n  const subMenuStyle = css`\r\n    background-color: white;\r\n    margin: 6px 0 0 39px;\r\n    color: #0984E3;\r\n    font-size: 0.8rem;\r\n    padding: 5px 0 5px 30px;\r\n    height: 131px;\r\n    border-top-left-radius: 17px;\r\n    border-bottom-left-radius: 17px;\r\n    border-right: 1px solid #0984E3;\r\n    display: ${location.pathname.match(/(\\/patient.+)|(\\/taper-configuration.+)/) === null\r\n    ? 'none'\r\n    : 'flex'};\r\n\r\n    flex-direction: column;\r\n    justify-content: center;\r\n\r\n    & > div {\r\n      flex: 1;\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  `;\r\n\r\n  const boldOnRoute = (menu: 'schedule' | 'symptomTracker' | 'report') => css`\r\n    font-weight: ${menu === currentMenu ? 'bold' : 'normal'}\r\n  `;\r\n\r\n  return (\r\n    <div css={NavBarStyle}>\r\n      <div css={css`\r\n        //margin-left: 17px;\r\n        margin-left: 5%;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;`}>\r\n        <div>\r\n          <div css={TabStyle('patient')}>\r\n            <div css={css`width: 40px;\r\n              height: 40px;\r\n              margin-right: 10px;`}>\r\n              <PatientsMenuIcon/>\r\n            </div>\r\n            <div>Patients</div>\r\n          </div>\r\n          <div css={subMenuStyle}>\r\n            <div css={boldOnRoute('schedule')}>Medication schedule</div>\r\n            <div css={boldOnRoute('symptomTracker')}>Symptom tracker</div>\r\n            <div css={boldOnRoute('report')}>Patient report</div>\r\n          </div>\r\n        </div>\r\n        <div css={TabStyle('symptomTemplates')}>\r\n          <div css={css`width: 40px;\r\n            height: 40px;\r\n            margin-right: 10px;`}>\r\n            <SymptomTemplatesMenuIcon/>\r\n          </div>\r\n          <div>Symptom Templates</div>\r\n        </div>\r\n        <div css={helpAndLogoutStyle}>\r\n          <div>\r\n            <HelpIcon/>\r\n            <div>Help</div>\r\n          </div>\r\n          <div>\r\n            <LogOutIcon/>\r\n            <div>Log Out</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import * as React from 'react';\r\nimport { FC, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { css } from '@emotion/react';\r\nimport { useHistory } from 'react-router';\r\nimport Button from 'antd/es/button';\r\nimport Input from 'antd/es/input';\r\nimport Table from 'antd/es/table';\r\nimport { SET_CURRENT_PATIENT, SetCurrentPatientAction } from '../redux/actions/user';\r\nimport { Patient } from '../types';\r\n\r\ninterface Props {\r\n  patients: Omit<Patient, 'password'>[]\r\n}\r\n\r\nconst headerStyle = css`\r\n  display: flex;\r\n  align-items: center\r\n`;\r\n\r\nconst titleStyle = css`\r\n  //font-size: 32px;\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  margin-right: 61px;\r\n  margin-bottom: 0;\r\n  align-self: center;\r\n`;\r\n\r\nconst searchStyle = css`\r\n  height: 50px;\r\n  width: 588px;\r\n  padding-top: 10px;\r\n  \r\n  & .ant-input {\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nconst buttonStyle = css`\r\n  align-self: center;\r\n  height: 41px;\r\n  margin-left: auto;\r\n  border-radius: 17px;\r\n  background-color:#0984E3;\r\n`;\r\n\r\nconst PatientsList: FC<Props> = ({ patients }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch<SetCurrentPatientAction>({\r\n      type: SET_CURRENT_PATIENT,\r\n      data: -1,\r\n    });\r\n  }, []);\r\n\r\n  const columns = [\r\n    { title: 'Name', dataIndex: 'name', key: 'name' },\r\n    { title: 'Medication', dataIndex: 'drug', key: 'drug' },\r\n    { title: 'Last Visit', dataIndex: 'recentVisit', key: 'recentVisit' },\r\n  ];\r\n\r\n  /*\r\n  const renderDrugsAndDosages = useCallback(() => {\r\n    return !currentPatient!.taperingConfiguration\r\n      ? <div>Drug(s): Drugs and dosages will appear hear.</div>\r\n      : prescribedDrugs && prescribedDrugs.reduce((prev, prescribedDrug) => {\r\n        const dosages = prescribedDrug.upcomingDosages.reduce(\r\n          (prevDosageStr, dosage) => `${prevDosageStr}${dosage.quantity} * ${dosage.dosage}`, '',\r\n        );\r\n        return `${prev} ${prescribedDrug.brand} (${dosages})`;\r\n      }, 'Drug(s):');\r\n  }, [currentPatient, prescribedDrugs]);\r\n   */\r\n  return (\r\n    <div css={css`height:100%;`}>\r\n      <div css={headerStyle}>\r\n        <h3 css={titleStyle}>Patients</h3>\r\n        <Input.Search\r\n          placeholder={'Search'}\r\n          css={searchStyle}\r\n        />\r\n        <Button\r\n          type={'primary'}\r\n          css={buttonStyle}>New Patient</Button>\r\n      </div>\r\n      <Table\r\n        css={css`font-size: 1.2rem;`}\r\n        columns={columns}\r\n        dataSource={patients.map((d) => ({ ...d, key: `${d.name}_${d.id}` }))}\r\n        onRow={(record) => ({\r\n          onClick: () => {\r\n            console.log('record: ', record);\r\n            history.push(`/patient/${record.id}`);\r\n          },\r\n        })\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientsList;\r\n","import * as React from 'react';\r\nimport {\r\n  FC, useContext,\r\n} from 'react';\r\nimport { css } from '@emotion/react';\r\nimport CapsuleOrTabletUnit from './CapsuleOrTabletUnit';\r\nimport { PrescriptionFormContext } from './PrescriptionForm';\r\nimport { CapsuleOrTabletDosage } from '../../types';\r\nimport useDosageSumDifferenceMessage from '../../hooks/useDosageSumDifferenceMessage';\r\nimport TargetDosageSettingForm from './TargetDosageSettingForm';\r\n\r\ninterface Props {\r\n  time: 'Prior' | 'Upcoming';\r\n  editable: boolean;\r\n}\r\n\r\nconst CapsuleOrTabletDosages: FC<Props> = ({ time, editable }) => {\r\n  const context = useContext(PrescriptionFormContext);\r\n  const {\r\n    chosenDrugForm, dosageOptions, priorDosagesQty, upcomingDosagesQty,\r\n  } = context;\r\n  const [dosageDifferenceMessage, dosageSum] = useDosageSumDifferenceMessage(time, priorDosagesQty, upcomingDosagesQty);\r\n\r\n  return (\r\n    <>\r\n      <h3 css={css`color: #636E72;\r\n        font-size: 1rem;`}>\r\n        {time}\r\n        {' '}\r\n        Dosage\r\n      </h3>\r\n      <div css={css`display: flex;\r\n        flex-direction: column;`}>\r\n        <div css={css`display: flex;`}>\r\n          <div css={css`\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            width: 400px;\r\n            margin-left: 64px;`}>\r\n            {(dosageOptions as CapsuleOrTabletDosage[])\r\n              .map((v: { dosage: string; isScored?: boolean }) => (\r\n                <CapsuleOrTabletUnit\r\n                  key={`${time}_${chosenDrugForm!.form}_${v.dosage}`}\r\n                  time={time}\r\n                  editable={editable}\r\n                  form={chosenDrugForm!.form}\r\n                  dosage={v.dosage}\r\n                  isScored={v.isScored ? v.isScored : undefined}\r\n                />))\r\n            }\r\n          </div>\r\n          <div css={css`display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n            justify-content: center;\r\n            margin-left: 64px;`}>\r\n            {time === 'Upcoming' && dosageDifferenceMessage\r\n            && (\r\n              <div css={css`color: #0984E3;`}>\r\n                {dosageDifferenceMessage}\r\n              </div>\r\n            )}\r\n            <div>\r\n              Total:\r\n              {dosageSum}\r\n              {' '}\r\n              {chosenDrugForm!.measureUnit}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {time === 'Upcoming' && <TargetDosageSettingForm/>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default CapsuleOrTabletDosages;\r\n","import * as React from 'react';\r\nimport {\r\n  FC, useCallback, useContext,\r\n} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { css } from '@emotion/react';\r\nimport { PrescriptionFormContext } from './PrescriptionForm';\r\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\r\nimport {\r\n  priorDosageChange, PriorDosageChangeAction, upcomingDosageChange, UpcomingDosageChangeAction,\r\n} from './actions';\r\nimport {\r\n  ArrowDown, ArrowUp, CapsuleIcon, ScoredTabletIcon, UnscoredTabletIcon,\r\n} from '../../assets/icons';\r\n\r\ninterface Props {\r\n  form: string;\r\n  time: 'Prior' | 'Upcoming'\r\n  dosage: string;\r\n  editable: boolean;\r\n  isScored?: boolean;\r\n}\r\n\r\nconst CapsuleOrTabletUnit: FC<Props> = ({\r\n  time, form, dosage, isScored, editable,\r\n}) => {\r\n  const context = useContext(PrescriptionFormContext);\r\n  const {\r\n    formActionDispatch, id, intervalDurationDays, allowSplittingUnscoredTablet, modal: { isModal, modalDispatch },\r\n  } = context;\r\n  const { dosages } = context[time];\r\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\r\n  const dispatch = (action: UpcomingDosageChangeAction | PriorDosageChangeAction) => {\r\n    if (isModal) {\r\n      formActionDispatch(action);\r\n      modalDispatch!(action);\r\n    } else {\r\n      formActionDispatch(action);\r\n      taperConfigActionDispatch(action);\r\n    }\r\n  };\r\n\r\n  const quantity = (change: 'increment' | 'decrement', dosages: { [dosage: string]: number }, dosage: string) => {\r\n    if (isScored) {\r\n      return change === 'increment' ? dosages[dosage] + 0.5 : dosages[dosage] - 0.5;\r\n    }\r\n    return change === 'increment' ? dosages[dosage] + 1 : dosages[dosage] - 1;\r\n  };\r\n\r\n  const onIncrement = useCallback(() => {\r\n    const actionData = {\r\n      id,\r\n      dosage: {\r\n        dosage,\r\n        quantity: quantity('increment', dosages, dosage),\r\n      },\r\n    };\r\n\r\n    if (time === 'Upcoming') {\r\n      dispatch(upcomingDosageChange(actionData));\r\n    } else {\r\n      dispatch(priorDosageChange(actionData));\r\n    }\r\n  }, [dosages, intervalDurationDays, allowSplittingUnscoredTablet]);\r\n\r\n  const onDecrement = useCallback(() => {\r\n    const actionData = {\r\n      id,\r\n      dosage: {\r\n        dosage,\r\n        quantity: quantity('decrement', dosages, dosage),\r\n      },\r\n    };\r\n\r\n    if (time === 'Upcoming') {\r\n      dispatch(upcomingDosageChange(actionData));\r\n    } else {\r\n      dispatch(priorDosageChange(actionData));\r\n    }\r\n  }, [dosages, intervalDurationDays, allowSplittingUnscoredTablet]);\r\n\r\n  const renderIcon = () => {\r\n    const wrapperStyle = css`\r\n      display: flex;\r\n      margin-left: 5px;`;\r\n    if (form === 'tablet') {\r\n      return (\r\n        <div css={wrapperStyle}>\r\n          {isScored\r\n            ? <ScoredTabletIcon value={dosages[dosage]}/>\r\n            : <UnscoredTabletIcon value={dosages[dosage]}/>}\r\n        </div>\r\n      );\r\n    }\r\n    return <div css={wrapperStyle}>\r\n      <CapsuleIcon value={dosages[dosage]}/>\r\n    </div>;\r\n  };\r\n  return (\r\n    <div css={css`display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-end;`}>\r\n      <div css={css`display: flex;\r\n        margin-bottom: 5px;`}>\r\n        <div className='dosage-arrow-button' css={css`display: flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          align-items: center;\r\n\r\n          & button {\r\n            border: none;\r\n            background-color: white;\r\n            padding: 5px 5px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: flex-end;\r\n          }`}>\r\n          <div>\r\n            <button onClick={editable ? onIncrement : () => {}}>\r\n              <ArrowUp/>\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <button onClick={editable ? onDecrement : () => {}}>\r\n              <ArrowDown/>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {renderIcon()}\r\n      </div>\r\n      <div css={css`margin-right: 10px;`}>{dosage}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CapsuleOrTabletUnit;\r\n","import * as React from 'react';\r\nimport { FC, useRef } from 'react';\r\nimport { css } from '@emotion/react';\r\nimport { SerializedStyles } from '@emotion/utils';\r\nimport { DrugForm, isCapsuleOrTablet } from '../../types';\r\nimport CapsuleOrTabletDosages from './CapsuleOrTabletDosages';\r\nimport OralFormDosage from './OralFormDosage';\r\n\r\ninterface Props {\r\n  drugForm: DrugForm | null | undefined,\r\n  time: 'Prior' | 'Upcoming'\r\n  editable: boolean;\r\n}\r\n\r\nconst Dosages: FC<Props> = ({ drugForm, time, editable }) => {\r\n  const containerStyle = useRef<SerializedStyles>(css`\r\n      margin-top: 44px;`);\r\n\r\n  if (!drugForm) {\r\n    return <div css={containerStyle.current}>\r\n      <h3 css={css`font-size: 1rem;\r\n        color: #c7c5c5;\r\n        margin-bottom: 121px;`}>{time} Dosage</h3>\r\n    </div>;\r\n  }\r\n\r\n  if (isCapsuleOrTablet(drugForm)) {\r\n    return (\r\n      <div css={containerStyle.current}>\r\n        <CapsuleOrTabletDosages time={time} editable={editable}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div css={containerStyle.current}>\r\n      <OralFormDosage time={time} editable={editable}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dosages;\r\n","import * as React from 'react';\r\nimport {\r\n  FC, useCallback, useContext, useRef, useState,\r\n} from 'react';\r\nimport Input from 'antd/es/input';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { css } from '@emotion/react';\r\nimport { PrescriptionFormContext } from './PrescriptionForm';\r\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\r\nimport { OralDosage } from '../../types';\r\nimport useDosageSumDifferenceMessage from '../../hooks/useDosageSumDifferenceMessage';\r\nimport {\r\n  priorDosageChange, PriorDosageChangeAction, upcomingDosageChange, UpcomingDosageChangeAction,\r\n} from './actions';\r\nimport TargetDosageSettingForm from './TargetDosageSettingForm';\r\n\r\ninterface Props {\r\n  time: 'Prior' | 'Upcoming';\r\n  editable: boolean;\r\n}\r\n\r\nconst inputStyle = {\r\n  width: 150,\r\n};\r\n\r\nconst OralFormDosage: FC<Props> = ({ time, editable }) => {\r\n  const context = useContext(PrescriptionFormContext);\r\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\r\n  const {\r\n    formActionDispatch, id, chosenDrugForm, priorDosagesQty, upcomingDosagesQty,\r\n    intervalDurationDays, oralDosageInfo, modal: { isModal, modalDispatch },\r\n  } = context;\r\n  const { dosages } = context[time];\r\n  const dosage = useRef('1mg');\r\n  const [mlDosage, setmlDosage] = useState(dosages['1mg']);\r\n  const [dosageDifferenceMessage, dosageSum] = useDosageSumDifferenceMessage(time, priorDosagesQty, upcomingDosagesQty);\r\n  const dispatch = (action: UpcomingDosageChangeAction | PriorDosageChangeAction) => {\r\n    if (isModal) {\r\n      formActionDispatch(action);\r\n      modalDispatch!(action);\r\n    } else {\r\n      formActionDispatch(action);\r\n      taperConfigActionDispatch(action);\r\n    }\r\n  };\r\n\r\n  const mgOnChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const mg = parseInt(e.target.value, 10);\r\n    const ml = mg / (chosenDrugForm!.dosages as OralDosage).rate.mg * (chosenDrugForm!.dosages as OralDosage).rate.ml;\r\n    const actionData = { id, dosage: { dosage: dosage.current, quantity: mg } };\r\n    if (time === 'Upcoming') {\r\n      dispatch(upcomingDosageChange(actionData));\r\n    } else {\r\n      dispatch(priorDosageChange(actionData));\r\n    }\r\n\r\n    setmlDosage(ml);\r\n  }, [chosenDrugForm, intervalDurationDays, upcomingDosagesQty, oralDosageInfo]);\r\n\r\n  const mlOnChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const ml = parseInt(e.target.value, 10);\r\n    setmlDosage(ml);\r\n    const mg = ml / (chosenDrugForm!.dosages as OralDosage).rate.ml * (chosenDrugForm!.dosages as OralDosage).rate.mg;\r\n    const actionData = { id, dosage: { dosage: dosage.current, quantity: mg } };\r\n    if (time === 'Upcoming') {\r\n      dispatch(upcomingDosageChange(actionData));\r\n    } else {\r\n      dispatch(priorDosageChange(actionData));\r\n    }\r\n  }, [chosenDrugForm, intervalDurationDays, upcomingDosagesQty, oralDosageInfo]);\r\n\r\n  return (\r\n    <>\r\n      <h3 css={css`font-size: 1rem;\r\n        color: #636E72;`}>\r\n        {time} Dosage\r\n      </h3>\r\n      <div css={css`display: flex;\r\n        flex-direction: column;`}>\r\n        <div>\r\n          <div css={css`\r\n            display: flex;\r\n            width: 500px;\r\n            justify-content: space-between;\r\n            margin-left: 90px;`}>\r\n            <div>\r\n              <Input type='number' value={dosages['1mg']} onChange={mgOnChange} readOnly={!editable} min={0}\r\n                     style={inputStyle}/> mg =\r\n              <Input type='number' value={mlDosage} onChange={mlOnChange} readOnly={!editable} min={0}\r\n                     style={inputStyle}/> ml\r\n            </div>\r\n            <div>\r\n              {time === 'Upcoming' && dosageDifferenceMessage\r\n              && (\r\n                <div css={css`color: #0984E3;`}>\r\n                  {dosageDifferenceMessage}\r\n                </div>\r\n              )}\r\n              <div>\r\n                Total: {dosageSum}\r\n                {' '}\r\n                {chosenDrugForm!.measureUnit}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {time === 'Upcoming' && <TargetDosageSettingForm/>}\r\n        </div>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OralFormDosage;\r\n","import * as React from 'react';\r\nimport {\r\n  useEffect, createContext, FC, Dispatch,\r\n} from 'react';\r\nimport { useReducer } from 'reinspect';\r\nimport Button from 'antd/es/button';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { css } from '@emotion/react';\r\nimport SelectInterval from './SelectInterval';\r\nimport {\r\n  initialState,\r\n  reducer,\r\n  PrescriptionFormReducer,\r\n} from './reducer';\r\nimport {\r\n  CHOOSE_BRAND,\r\n  CHOOSE_FORM,\r\n  FETCH_DRUGS,\r\n  priorDosageChange,\r\n  upcomingDosageChange,\r\n  ChooseFormAction,\r\n  ChooseBrandAction,\r\n  FetchDrugsAction,\r\n  LOAD_PRESCRIPTION_DATA, toggleAllowSplittingUnscoredTablet, PrescriptionFormActions,\r\n} from './actions';\r\nimport { IPrescriptionFormContext, PrescriptionFormState } from './types';\r\nimport { CapsuleOrTabletDosage, OralDosage, PrescribedDrug } from '../../types';\r\nimport {\r\n  CLEAR_SCHEDULE,\r\n  REMOVE_DRUG_FORM,\r\n} from '../../redux/actions/taperConfig';\r\n\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigActions, TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport PrescriptionSettingsForm from './PrescriptionSettingsForm';\r\nimport Dosages from './Dosages';\r\nimport { ModalActions } from '../Schedule/Modal/modalReducer';\r\n\r\nexport const PrescriptionFormContext = createContext<IPrescriptionFormContext>({\r\n  ...initialState,\r\n  modal: { isModal: false },\r\n  Prior: {\r\n    dosages: initialState.priorDosagesQty,\r\n  },\r\n  Upcoming: {\r\n    dosages: initialState.upcomingDosagesQty,\r\n  },\r\n  formActionDispatch: () => {\r\n  },\r\n  id: -1,\r\n});\r\n\r\ninterface Props {\r\n  prescribedDrug: PrescribedDrug;\r\n  title: string;\r\n  numberOfMedications?: number;\r\n  addNewPrescriptionForm?: () => void;\r\n  modal: { isModal: boolean, modalDispatch?: Dispatch<ModalActions> }\r\n}\r\n\r\nconst PrescriptionForm: FC<Props> = ({\r\n  prescribedDrug,\r\n  title,\r\n  addNewPrescriptionForm,\r\n  numberOfMedications,\r\n  modal: { isModal, modalDispatch },\r\n}) => {\r\n  const taperConfigActionDispatch = useDispatch();\r\n  const [state, formActionDispatch] = useReducer<PrescriptionFormReducer, PrescriptionFormState>(reducer, initialState, (init) => initialState, `PrescriptionFormReducer_${prescribedDrug.id}`);\r\n  const externalDispatchWrapper = (isModal: boolean) => {\r\n    if (isModal) {\r\n      console.log('modalDispatch');\r\n      return modalDispatch!;\r\n    }\r\n    return taperConfigActionDispatch;\r\n  };\r\n\r\n  const {\r\n    chosenBrand, chosenDrugForm, drugFormOptions,\r\n    priorDosagesQty, upcomingDosagesQty, allowSplittingUnscoredTablet,\r\n  } = state;\r\n  const { drugs } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n\r\n  useEffect(() => {\r\n    const action: FetchDrugsAction = {\r\n      type: FETCH_DRUGS,\r\n      data: { drugs, id: prescribedDrug.id },\r\n    };\r\n    formActionDispatch(action);\r\n\r\n    if (prescribedDrug.name !== '') {\r\n      formActionDispatch({ type: LOAD_PRESCRIPTION_DATA, data: prescribedDrug });\r\n    }\r\n  }, []);\r\n\r\n  const onBrandChange = (value: string) => {\r\n    const action: ChooseBrandAction = {\r\n      type: CHOOSE_BRAND,\r\n      data: { brand: value, id: prescribedDrug.id },\r\n    };\r\n\r\n    formActionDispatch(action);\r\n    // taperConfigActionDispatch(action);\r\n    externalDispatchWrapper(isModal)(action);\r\n  };\r\n\r\n  const onFormChange = (value: string) => {\r\n    const chooseFormActionData: ChooseFormAction['data'] = {\r\n      form: value,\r\n      id: prescribedDrug.id,\r\n      minDosageUnit: -1,\r\n      availableDosageOptions: [],\r\n      regularDosageOptions: [],\r\n      oralDosageInfo: null,\r\n    };\r\n\r\n    const newChosenDrugForm = drugFormOptions!.find((form) => form.form === value)!;\r\n    if (value === 'capsule' || value === 'tablet') {\r\n      chooseFormActionData.oralDosageInfo = null;\r\n      // TODO: consider if tablet is scored..?\r\n      const minDosage = Math.min(...(newChosenDrugForm.dosages as CapsuleOrTabletDosage[])\r\n        .map((dosage) => parseFloat(dosage.dosage)));\r\n      chooseFormActionData.minDosageUnit = value === 'capsule' ? minDosage : minDosage / 2;\r\n      chooseFormActionData.regularDosageOptions = (newChosenDrugForm.dosages as CapsuleOrTabletDosage[])\r\n        .map((option) => option.dosage);\r\n      chooseFormActionData.availableDosageOptions = [\r\n        ...new Set(\r\n          (newChosenDrugForm.dosages as CapsuleOrTabletDosage[])\r\n            .flatMap((option) => {\r\n              if (option.isScored) {\r\n                return [`${parseFloat(option.dosage) / 2}${newChosenDrugForm.measureUnit}`, option.dosage];\r\n              }\r\n              return option.dosage;\r\n            }),\r\n        )];\r\n    } else {\r\n      chooseFormActionData.oralDosageInfo = (newChosenDrugForm.dosages as OralDosage);\r\n      chooseFormActionData.minDosageUnit = chooseFormActionData.oralDosageInfo.rate.mg;\r\n      chooseFormActionData.regularDosageOptions = null;\r\n      chooseFormActionData.availableDosageOptions = ['1mg'];\r\n    }\r\n\r\n    formActionDispatch({\r\n      type: CHOOSE_FORM,\r\n      data: chooseFormActionData,\r\n    });\r\n    externalDispatchWrapper(isModal)({\r\n      type: CHOOSE_FORM,\r\n      data: chooseFormActionData,\r\n    });\r\n  };\r\n\r\n  const removeDrugForm = () => {\r\n    externalDispatchWrapper(isModal)({\r\n      type: REMOVE_DRUG_FORM,\r\n      data: prescribedDrug.id,\r\n    });\r\n    externalDispatchWrapper(isModal)({\r\n      type: CLEAR_SCHEDULE,\r\n    });\r\n  };\r\n\r\n  const toggleAllowSplittingUnscoredTabletCheckbox = (e: CheckboxChangeEvent) => {\r\n    formActionDispatch(toggleAllowSplittingUnscoredTablet({ id: prescribedDrug.id, allow: e.target.checked }));\r\n    externalDispatchWrapper(isModal)(toggleAllowSplittingUnscoredTablet({\r\n      id: prescribedDrug.id,\r\n      allow: e.target.checked,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <PrescriptionFormContext.Provider value={{\r\n      ...state,\r\n      id: prescribedDrug.id,\r\n      modal: { isModal, modalDispatch },\r\n      Prior: {\r\n        dosages: priorDosagesQty,\r\n        dosageChangeAction: priorDosageChange,\r\n      },\r\n      Upcoming: {\r\n        dosages: upcomingDosagesQty,\r\n        dosageChangeAction: upcomingDosageChange,\r\n      },\r\n      formActionDispatch,\r\n    }}\r\n    >\r\n      <div css={css`\r\n        margin-left: 42px;\r\n        padding-bottom: 71px;`}>\r\n\r\n        <h2 css={css`font-size: 1.1rem;\r\n          font-weight: bold;\r\n          color: #666666`}>{title}</h2>\r\n        <PrescriptionSettingsForm\r\n          prescribedDrug={prescribedDrug}\r\n          chosenBrand={chosenBrand}\r\n          onBrandChange={onBrandChange}\r\n          chosenDrugForm={chosenDrugForm}\r\n          onFormChange={onFormChange}\r\n          allowSplittingUnscoredTablet={allowSplittingUnscoredTablet}\r\n          toggleAllowSplittingUnscoredTabletCheckbox={toggleAllowSplittingUnscoredTabletCheckbox}/>\r\n\r\n        <Dosages drugForm={chosenDrugForm} time={'Prior'} editable={prescribedDrug.allowChangePriorDosage}/>\r\n        <Dosages drugForm={chosenDrugForm} time={'Upcoming'} editable={true}/>\r\n\r\n        <SelectInterval/>\r\n\r\n        {addNewPrescriptionForm && numberOfMedications && numberOfMedications < 2\r\n        && <Button css={css`border-radius: 10px;\r\n          background-color: #0984E3;\r\n          margin-top: 74px;`} type='primary' onClick={addNewPrescriptionForm}>Add Medication</Button>}\r\n\r\n        {numberOfMedications && numberOfMedications > 1\r\n        && <div css={css`display: flex;\r\n          flex-direction: column;\r\n          align-items: flex-end;`}>\r\n          <Button danger\r\n                  css={css`\r\n                    width: 180px;\r\n                    margin-right: 20px;\r\n                    border-radius: 10px;`}\r\n                  onClick={removeDrugForm}>Delete {title}</Button>\r\n          <hr css={css`\r\n            border: none;\r\n            width: 100%;\r\n            height: 3px;\r\n            margin: 18px auto;\r\n            background-color: #D1D1D1;\r\n          `}/>\r\n        </div>}\r\n      </div>\r\n    </PrescriptionFormContext.Provider>\r\n  );\r\n};\r\nexport default PrescriptionForm;\r\n","import * as React from 'react';\r\nimport { css } from '@emotion/react';\r\nimport Select from 'antd/es/select';\r\nimport Tooltip from 'antd/es/tooltip';\r\nimport { GrCircleInformation } from 'react-icons/gr';\r\nimport Checkbox, { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { FC, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  CapsuleOrTabletForm, DrugForm, DrugOption, OralForm, PrescribedDrug,\r\n} from '../../types';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport { RootState } from '../../redux/reducers';\r\n\r\nconst { OptGroup, Option } = Select;\r\n\r\ninterface Props {\r\n  prescribedDrug: PrescribedDrug;\r\n  chosenBrand: DrugOption | null;\r\n  onBrandChange: (value: string) => void;\r\n  chosenDrugForm: DrugForm | undefined | null;\r\n  onFormChange: (value: string) => void;\r\n  allowSplittingUnscoredTablet: boolean;\r\n  toggleAllowSplittingUnscoredTabletCheckbox: (e: CheckboxChangeEvent) => void;\r\n}\r\n\r\nconst PrescriptionSettingsForm: FC<Props> = ({\r\n  prescribedDrug,\r\n  chosenBrand,\r\n  chosenDrugForm,\r\n  onBrandChange,\r\n  onFormChange,\r\n  allowSplittingUnscoredTablet,\r\n  toggleAllowSplittingUnscoredTabletCheckbox,\r\n}) => {\r\n  const { drugs } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  const [drugFormOptions, setDrugFormOptions] = useState<DrugForm[] | null>(null);\r\n\r\n  useEffect(() => {\r\n    setDrugFormOptions(chosenBrand?.forms || null);\r\n  }, [chosenBrand]);\r\n\r\n  return (\r\n    <div css={css`\r\n      width: 700px;\r\n\r\n      & .medication-select-form {\r\n        display: flex;\r\n        width: 250px;\r\n        justify-content: space-between;\r\n        margin: 15px 30px 15px 51px;\r\n        align-items: center;\r\n      }`}>\r\n      <div>\r\n        <h3 css={css`font-size: 1rem;`}>Prescription settings</h3>\r\n        <div css={css`display: flex;\r\n          align-items: center;`}>\r\n          <div className='medication-select-form'>\r\n            <label>Brand:</label>\r\n            <Select showSearch value={chosenBrand?.brand} onChange={onBrandChange} css={css`width: 200px`}>\r\n              {drugs?.map(\r\n                (drug) => (\r\n                  <OptGroup key={`${drug.name}_group`} label={drug.name}>\r\n                    {drug.options.map(\r\n                      (option) => <Option key={option.brand} value={option.brand}>{option.brand}</Option>,\r\n                    )}\r\n                  </OptGroup>),\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <Tooltip title={`Half-life\\n${prescribedDrug.halfLife}`} overlayStyle={{ whiteSpace: 'pre-line' }}>\r\n            <GrCircleInformation size={'16px'}/>\r\n          </Tooltip>\r\n        </div>\r\n        <div css={css`display: flex;\r\n          align-items: center;`}>\r\n          <div className='medication-select-form'>\r\n            <label>Form:</label>\r\n            <Select value={chosenDrugForm?.form} onChange={onFormChange} style={{ width: 200 }}>\r\n              {drugFormOptions?.map(\r\n                (form: CapsuleOrTabletForm | OralForm) => <Option key={form.form}\r\n                                                                  value={form.form}>{form.form}</Option>,\r\n              )}\r\n            </Select>\r\n          </div>\r\n          {chosenDrugForm?.form === 'tablet'\r\n          && <Checkbox checked={allowSplittingUnscoredTablet} onChange={toggleAllowSplittingUnscoredTabletCheckbox}>Allow\r\n            splitting unscored tablet</Checkbox>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrescriptionSettingsForm;\r\n","import * as React from 'react';\r\nimport {\r\n  useRef, useContext, useCallback,\r\n} from 'react';\r\nimport add from 'date-fns/esm/add';\r\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\r\nimport format from 'date-fns/esm/format';\r\nimport isAfter from 'date-fns/esm/isAfter';\r\nimport isSameDay from 'date-fns/esm/isSameDay';\r\nimport sub from 'date-fns/esm/sub';\r\n\r\nimport Input from 'antd/es/input';\r\nimport Select from 'antd/es/select';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { css } from '@emotion/react';\r\nimport { PrescriptionFormContext } from './PrescriptionForm';\r\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\r\nimport {\r\n  IntervalActions,\r\n  intervalCountChange, intervalEndDateChange,\r\n  intervalStartDateChange, intervalUnitChange,\r\n} from './actions';\r\n\r\nconst { Option } = Select;\r\n\r\nconst selectIntervalStyle = css`\r\n  margin-top: 65px;\r\n  width: 330px;\r\n\r\n  & > h3 {\r\n    font-size: 1rem;\r\n    color: #636E72;\r\n    margin-bottom: 22px;\r\n  }\r\n\r\n  & .select-interval-form {\r\n    //font-size: 0.8rem;\r\n    margin: 0 0 1rem 39px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    width: 270px;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  & .select-interval-form > label {\r\n    margin-right: 17px;\r\n  }\r\n\r\n  & .select-interval-form > input {\r\n    width: 180px;\r\n  }\r\n`;\r\n\r\nconst SelectInterval = () => {\r\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\r\n  const {\r\n    formActionDispatch, intervalCount, intervalUnit,\r\n    intervalStartDate, intervalEndDate, id,\r\n    upcomingDosagesQty, modal: { isModal, modalDispatch },\r\n  } = useContext(PrescriptionFormContext);\r\n  const dispatch = (action: IntervalActions) => {\r\n    if (isModal) {\r\n      formActionDispatch(action);\r\n      modalDispatch!(action);\r\n    } else {\r\n      formActionDispatch(action);\r\n      taperConfigActionDispatch(action);\r\n    }\r\n  };\r\n\r\n  const units = useRef(['Days', 'Weeks', 'Months']);\r\n\r\n  const calcIntervalDurationDays = useCallback((startDate: Date, endDate: Date | null) => {\r\n    return !endDate ? 0 : differenceInCalendarDays(endDate, startDate) + 1;\r\n  }, []);\r\n\r\n  const onIntervalStartDateChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const date = new Date(e.target.value);\r\n    if (intervalEndDate && isAfter(date, intervalEndDate)) {\r\n      alert('Interval start date must be before the interval end date.');\r\n    } else {\r\n      const intervalDurationDays = calcIntervalDurationDays(date, intervalEndDate);\r\n      dispatch(intervalStartDateChange({\r\n        date, id, intervalDurationDays,\r\n      }));\r\n    }\r\n  }, [intervalEndDate, upcomingDosagesQty]);\r\n\r\n  const onIntervalEndDateChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const tempEndDate = new Date(e.target.value);\r\n    const newEndDate = new Date(tempEndDate.valueOf() + tempEndDate.getTimezoneOffset() * 60 * 1000);\r\n    const intervalDurationDays = calcIntervalDurationDays(intervalStartDate, newEndDate);\r\n    if (isSameDay(newEndDate, intervalStartDate) || isAfter(newEndDate, intervalStartDate)) {\r\n      dispatch(intervalEndDateChange({\r\n        date: newEndDate, id, intervalDurationDays,\r\n      }));\r\n    } else {\r\n      alert('End date cannot be before the start date.');\r\n      dispatch(intervalEndDateChange({\r\n        date: null, id, intervalDurationDays,\r\n      }));\r\n    }\r\n  }, [intervalStartDate, upcomingDosagesQty]);\r\n\r\n  const onIntervalUnitChange = useCallback((value: 'Days' | 'Weeks' | 'Months') => {\r\n    const endDate = sub(add(intervalStartDate, { [value.toLowerCase()]: intervalCount }), { days: 1 });\r\n    const intervalDurationDays = calcIntervalDurationDays(intervalStartDate, endDate);\r\n\r\n    dispatch(intervalUnitChange({\r\n      unit: value, intervalEndDate: endDate, intervalDurationDays, id,\r\n    }));\r\n  }, [intervalStartDate, intervalCount, upcomingDosagesQty]);\r\n\r\n  const onIntervalCountChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const count = parseInt(e.target.value, 10);\r\n    const endDate = count === 0\r\n      ? null\r\n      : sub(\r\n        add(intervalStartDate, { [intervalUnit.toLowerCase()]: count }),\r\n        { days: 1 },\r\n      );\r\n    const intervalDurationDays = calcIntervalDurationDays(intervalStartDate, endDate);\r\n\r\n    dispatch(intervalCountChange({\r\n      count: parseInt(e.target.value, 10), id, intervalEndDate: endDate, intervalDurationDays,\r\n    }));\r\n  }, [intervalStartDate, intervalUnit, upcomingDosagesQty]);\r\n\r\n  const onWheelEventHandler = (e: React.WheelEvent<HTMLInputElement>) => {\r\n    e.currentTarget.blur();\r\n  };\r\n\r\n  return (\r\n    <div css={selectIntervalStyle}>\r\n      <h3>Select Interval</h3>\r\n      <div className='select-interval-form'>\r\n        <label>Start on:</label>\r\n        <Input\r\n          type=\"date\"\r\n          value={format(intervalStartDate, 'yyyy-MM-dd')}\r\n          onChange={onIntervalStartDateChange}\r\n          css={css`width: 160px;`}\r\n        />\r\n      </div>\r\n\r\n      <div className='select-interval-form'>\r\n        <label>Interval:</label>\r\n        <div css={css`width: 180px;\r\n          display: flex;\r\n          justify-content: space-between;`}>\r\n          <Input type=\"number\" value={intervalCount} min={0}\r\n                 onWheel={onWheelEventHandler}\r\n                 onChange={onIntervalCountChange} css={css`width: 70px;\r\n            margin-right: 9px;`}/>\r\n          <Select value={intervalUnit} onChange={onIntervalUnitChange} css={css`\r\n            width: 100px;\r\n\r\n            & .ant-select-single .ant-select-selector {\r\n              //height: 1.7rem;\r\n            }\r\n          `}>\r\n            {units.current.map((unit) => <Option key={unit} value={unit}>{unit}</Option>)}\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='select-interval-form'>\r\n        <label>End on:</label>\r\n        <Input\r\n          type=\"date\"\r\n          value={intervalEndDate ? format(intervalEndDate, 'yyyy-MM-dd') : undefined}\r\n          onChange={onIntervalEndDateChange}\r\n          css={css`width: 160px;`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectInterval;\r\n","import * as React from 'react';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport Input from 'antd/es/input';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { css } from '@emotion/react';\r\nimport { PrescriptionFormContext } from './PrescriptionForm';\r\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\r\nimport {\r\n  SET_TARGET_DOSAGE,\r\n  SetUpcomingDosageGoalAction,\r\n} from './actions';\r\nimport { SET_IS_INPUT_COMPLETE, VALIDATE_INPUT_COMPLETION } from '../../redux/actions/taperConfig';\r\n\r\nconst TargetDosageSettingForm = () => {\r\n  const {\r\n    id, targetDosage, formActionDispatch, priorDosagesQty, upcomingDosagesQty, modal: { isModal, modalDispatch },\r\n  } = useContext(PrescriptionFormContext);\r\n  const [targetDosageValid, setTargetDosageValid] = useState(false);\r\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\r\n  const dispatch = (action: SetUpcomingDosageGoalAction) => {\r\n    if (isModal) {\r\n      formActionDispatch(action);\r\n      modalDispatch!(action);\r\n    } else {\r\n      formActionDispatch(action);\r\n      taperConfigActionDispatch(action);\r\n    }\r\n  };\r\n\r\n  const [dosageChange, setDosageChange] = useState<'increase' | 'decrease' | 'same' | null>(null);\r\n\r\n  useEffect(() => {\r\n    const priorDosageSum = Object.entries(priorDosagesQty)\r\n      .reduce((prev, [dosage, qty]) => prev + parseFloat(dosage) * qty, 0);\r\n    const upcomingDosageSum = Object.entries(upcomingDosagesQty)\r\n      .reduce((prev, [dosage, qty]) => prev + parseFloat(dosage) * qty, 0);\r\n\r\n    if (priorDosageSum > upcomingDosageSum) {\r\n      setDosageChange('decrease');\r\n    } else if (priorDosageSum < upcomingDosageSum) {\r\n      setDosageChange('increase');\r\n    } else {\r\n      setDosageChange('same');\r\n    }\r\n\r\n    if ((dosageChange === 'increase' && targetDosage < upcomingDosageSum)\r\n      || (dosageChange === 'decrease' && targetDosage > upcomingDosageSum)\r\n      || (dosageChange === 'same' && targetDosage !== upcomingDosageSum)) {\r\n      setTargetDosageValid(false);\r\n      taperConfigActionDispatch({\r\n        type: SET_IS_INPUT_COMPLETE,\r\n        data: { isComplete: false },\r\n      });\r\n    } else {\r\n      setTargetDosageValid(true);\r\n      taperConfigActionDispatch({\r\n        type: VALIDATE_INPUT_COMPLETION,\r\n      });\r\n    }\r\n  }, [upcomingDosagesQty, priorDosagesQty, targetDosage]);\r\n\r\n  const onChangeTargetDosage = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    dispatch({\r\n      type: SET_TARGET_DOSAGE,\r\n      data: { id, dosage: parseFloat(e.target.value) },\r\n    });\r\n  };\r\n\r\n  const onWheelEventHandler = (e: React.WheelEvent<HTMLInputElement>) => {\r\n    e.currentTarget.blur();\r\n  };\r\n\r\n  const renderValidateErrorMessage = () => {\r\n    const detail = () => {\r\n      if (dosageChange === 'increase') {\r\n        return 'When you increase the dosage, target dosage must be more than upcoming dosage.';\r\n      }\r\n      if (dosageChange === 'decrease') {\r\n        return 'When you decrease the dosage, target dosage must be less than upcoming dosage.';\r\n      }\r\n      return 'When you do not make any change to the dosage, target dosage must be equal to upcoming dosage.';\r\n    };\r\n\r\n    return <div css={css`color: red;\r\n      margin-left: 20px;`}>\r\n      Invalid target dosage.<br/>\r\n      {detail()}\r\n    </div>;\r\n  };\r\n\r\n  return (\r\n    <div css={css`\r\n      display: flex;\r\n      margin-top: 44px;\r\n      flex-direction: column;`}>\r\n      <div css={css`font-size: 0.9rem;\r\n        display: flex;\r\n        //flex-direction: column;\r\n        align-items: center;\r\n      `}>\r\n        <h3 css={css`font-size: 1rem;\r\n          color: #636E72;`}>Target dosage:</h3>\r\n        <div css={css`display: flex;\r\n          //margin-left: 64px;\r\n          align-items: center;\r\n          margin-left: 10px;\r\n\r\n          & input::-webkit-inner-spin-button,\r\n          & input::-webkit-outer-spin-button {\r\n            -webkit-appearance: none;\r\n            opacity: 0;\r\n            margin: 0;\r\n          }\r\n\r\n          & input[type=number] {\r\n            -moz-appearance: textfield;\r\n          }`}>\r\n          <Input type='number'\r\n                 value={targetDosage}\r\n                 onChange={onChangeTargetDosage}\r\n                 onWheel={onWheelEventHandler}\r\n                 min={0}\r\n                 css={css`width: 100px;\r\n                   display: inline;\r\n                 `}/> mg\r\n        </div>\r\n        {!targetDosageValid && renderValidateErrorMessage()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default TargetDosageSettingForm;\r\n","import { Drug, OralDosage, PrescribedDrug } from '../../types';\r\n\r\nexport const LOAD_PRESCRIPTION_DATA = 'LOAD_PRESCRIPTION_DATA' as const;\r\n\r\nexport interface LoadPrescriptionDataAction {\r\n  type: typeof LOAD_PRESCRIPTION_DATA,\r\n  data: PrescribedDrug;\r\n}\r\n\r\nexport const FETCH_DRUGS = 'FETCH_DRUGS' as const;\r\n\r\nexport interface FetchDrugsAction {\r\n  type: typeof FETCH_DRUGS,\r\n  data: { drugs: Drug[], id: number }\r\n}\r\n\r\nexport const CHOOSE_BRAND = 'CHOOSE_BRAND' as const;\r\n\r\nexport interface ChooseBrandAction {\r\n  type: typeof CHOOSE_BRAND,\r\n  data: { id: number; brand: string };\r\n}\r\n\r\nexport const CHOOSE_FORM = 'CHOOSE_FORM' as const;\r\n\r\nexport interface ChooseFormAction {\r\n  type: typeof CHOOSE_FORM,\r\n  data: { id: number;\r\n    form: string,\r\n    minDosageUnit: number,\r\n    availableDosageOptions: string[],\r\n    oralDosageInfo: OralDosage|null,\r\n    regularDosageOptions: string[]|null };\r\n}\r\n\r\nexport const PRIOR_DOSAGE_CHANGE = 'PRIOR_DOSAGE_CHANGE' as const;\r\n\r\nexport interface PriorDosageChangeAction {\r\n  type: typeof PRIOR_DOSAGE_CHANGE;\r\n  data: { id: number, dosage: { dosage: string, quantity: number } };\r\n}\r\n\r\nexport const priorDosageChange = (data: PriorDosageChangeAction['data']): PriorDosageChangeAction => ({\r\n  type: PRIOR_DOSAGE_CHANGE,\r\n  data,\r\n});\r\n\r\nexport const UPCOMING_DOSAGE_CHANGE = 'UPCOMING_DOSAGE_CHANGE' as const;\r\n\r\nexport interface UpcomingDosageChangeAction {\r\n  type: typeof UPCOMING_DOSAGE_CHANGE;\r\n  data: { id: number, dosage: { dosage: string, quantity: number } };\r\n}\r\n\r\nexport const upcomingDosageChange = (data: UpcomingDosageChangeAction['data']): UpcomingDosageChangeAction => ({\r\n  type: UPCOMING_DOSAGE_CHANGE,\r\n  data,\r\n});\r\n\r\nexport const SET_TARGET_DOSAGE = 'SET_UPCOMING_DOSAGE_GOAL';\r\n\r\nexport interface SetUpcomingDosageGoalAction {\r\n  type: typeof SET_TARGET_DOSAGE,\r\n  data: { id: number, dosage: number }\r\n}\r\n\r\nexport const ALLOW_SPLITTING_UNSCORED_TABLET = 'ALLOW_SPLITTING_UNSCORED_TABLET' as const;\r\n\r\nexport interface AllowSplittingUnscoredTabletAction {\r\n  type: typeof ALLOW_SPLITTING_UNSCORED_TABLET;\r\n  data: { id: number, allow: boolean };\r\n}\r\n\r\nexport const toggleAllowSplittingUnscoredTablet = (data: AllowSplittingUnscoredTabletAction['data']): AllowSplittingUnscoredTabletAction => ({\r\n  type: ALLOW_SPLITTING_UNSCORED_TABLET,\r\n  data,\r\n});\r\n\r\nexport const INTERVAL_START_DATE_CHANGE = 'INTERVAL_START_DATE_CHANGE' as const;\r\n\r\nexport interface IntervalStartDateChangeAction {\r\n  type: typeof INTERVAL_START_DATE_CHANGE,\r\n  data: {\r\n    date: Date,\r\n    intervalDurationDays: number,\r\n    id: number; } ;\r\n}\r\n\r\nexport const intervalStartDateChange = (data: IntervalStartDateChangeAction['data']): IntervalStartDateChangeAction => ({\r\n  type: INTERVAL_START_DATE_CHANGE,\r\n  data,\r\n});\r\n\r\nexport const INTERVAL_END_DATE_CHANGE = 'INTERVAL_END_DATE_CHANGE' as const;\r\n\r\nexport interface IntervalEndDateChangeAction {\r\n  type: typeof INTERVAL_END_DATE_CHANGE,\r\n  data: {\r\n    date: Date | null;\r\n    intervalDurationDays: number,\r\n    id: number }\r\n}\r\n\r\nexport const intervalEndDateChange = (data: IntervalEndDateChangeAction['data']): IntervalEndDateChangeAction => ({\r\n  type: INTERVAL_END_DATE_CHANGE,\r\n  data,\r\n});\r\n\r\nexport const INTERVAL_COUNT_CHANGE = 'INTERVAL_COUNT_CHANGE' as const;\r\n\r\nexport interface IntervalCountChangeAction {\r\n  type: typeof INTERVAL_COUNT_CHANGE,\r\n  data: {\r\n    count: number,\r\n    intervalDurationDays: number,\r\n    intervalEndDate: Date | null,\r\n    id:number }\r\n}\r\n\r\nexport const intervalCountChange = (data: IntervalCountChangeAction['data']): IntervalCountChangeAction => ({\r\n  type: INTERVAL_COUNT_CHANGE,\r\n  data,\r\n});\r\n\r\nexport const INTERVAL_UNIT_CHANGE = 'INTERVAL_UNIT_CHANGE' as const;\r\n\r\nexport interface IntervalUnitChangeAction {\r\n  type: typeof INTERVAL_UNIT_CHANGE;\r\n  data: {\r\n    unit: 'Days' | 'Weeks' | 'Months',\r\n    intervalEndDate: Date,\r\n    intervalDurationDays: number,\r\n    id: number }\r\n}\r\n\r\nexport const intervalUnitChange = (data: IntervalUnitChangeAction['data']): IntervalUnitChangeAction => ({\r\n  type: INTERVAL_UNIT_CHANGE,\r\n  data,\r\n});\r\n\r\nexport type IntervalActions =\r\n  | IntervalStartDateChangeAction\r\n  | IntervalEndDateChangeAction\r\n  | IntervalUnitChangeAction\r\n  | IntervalCountChangeAction;\r\n\r\nexport type PrescriptionFormActions =\r\n  | FetchDrugsAction\r\n  | LoadPrescriptionDataAction\r\n  | ChooseBrandAction\r\n  | ChooseFormAction\r\n  | PriorDosageChangeAction\r\n  | UpcomingDosageChangeAction\r\n  | SetUpcomingDosageGoalAction\r\n  | AllowSplittingUnscoredTabletAction\r\n  | IntervalActions;\r\n","import produce from 'immer';\r\nimport { PrescriptionFormState } from './types';\r\nimport {\r\n  ALLOW_SPLITTING_UNSCORED_TABLET,\r\n  CHOOSE_BRAND,\r\n  CHOOSE_FORM,\r\n  FETCH_DRUGS,\r\n  INTERVAL_COUNT_CHANGE,\r\n  INTERVAL_END_DATE_CHANGE,\r\n  INTERVAL_START_DATE_CHANGE,\r\n  INTERVAL_UNIT_CHANGE,\r\n  LOAD_PRESCRIPTION_DATA,\r\n  PrescriptionFormActions,\r\n  PRIOR_DOSAGE_CHANGE,\r\n  SET_TARGET_DOSAGE,\r\n  UPCOMING_DOSAGE_CHANGE,\r\n} from './actions';\r\nimport { CapsuleOrTabletDosage, isCapsuleOrTablet } from '../../types';\r\n\r\nexport const initialState: PrescriptionFormState = {\r\n  drugs: null,\r\n  chosenDrug: null,\r\n  chosenBrand: null,\r\n  chosenDrugForm: null,\r\n  brandOptions: [],\r\n  drugFormOptions: [],\r\n  dosageOptions: [],\r\n  availableDosageOptions: [],\r\n  regularDosageOptions: [],\r\n  minDosageUnit: 0,\r\n  priorDosagesQty: {},\r\n  upcomingDosagesQty: {},\r\n  targetDosage: 0,\r\n  allowSplittingUnscoredTablet: false,\r\n  oralDosageInfo: null,\r\n  intervalStartDate: new Date(),\r\n  intervalEndDate: null,\r\n  intervalCount: 0,\r\n  intervalUnit: 'Days',\r\n  intervalDurationDays: 0,\r\n};\r\n\r\nexport const reducer = (state: PrescriptionFormState, action: PrescriptionFormActions): PrescriptionFormState => {\r\n  console.log('action: ', action);\r\n  return produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case FETCH_DRUGS:\r\n        draft.drugs = action.data.drugs;\r\n        draft.brandOptions = draft.drugs.flatMap((drug) => drug.options);\r\n        break;\r\n\r\n      case LOAD_PRESCRIPTION_DATA: {\r\n        draft.chosenDrug = draft.drugs!.find((drug) => drug.name === action.data.name);\r\n        draft.chosenBrand = draft.brandOptions!.find((brand) => brand.brand === action.data.brand)!;\r\n        draft.drugFormOptions = draft.chosenBrand.forms;\r\n        draft.chosenDrugForm = draft.drugFormOptions.find((form) => form.form === action.data.form)!;\r\n        draft.dosageOptions = draft.chosenDrugForm.dosages;\r\n        draft.targetDosage = action.data.targetDosage;\r\n        draft.priorDosagesQty = action.data.priorDosages.reduce(\r\n          (prev: { [dosage: string]: number }, currentDosage) => {\r\n            prev[currentDosage.dosage] = currentDosage.quantity;\r\n            return prev;\r\n          }, {},\r\n        );\r\n        draft.upcomingDosagesQty = action.data.upcomingDosages.reduce(\r\n          (prev: { [dosage: string]: number }, nextDosage) => {\r\n            prev[nextDosage.dosage] = nextDosage.quantity;\r\n            return prev;\r\n          }, {},\r\n        );\r\n\r\n        if (isCapsuleOrTablet(draft.chosenDrugForm)) {\r\n          (draft.dosageOptions as CapsuleOrTabletDosage[]).forEach((dosage) => {\r\n            if (!Object.keys(draft.priorDosagesQty).includes(dosage.dosage)) {\r\n              draft.priorDosagesQty[dosage.dosage] = 0;\r\n            }\r\n\r\n            if (!Object.keys(draft.upcomingDosagesQty).includes(dosage.dosage)) {\r\n              draft.upcomingDosagesQty[dosage.dosage] = 0;\r\n            }\r\n          });\r\n          draft.oralDosageInfo = null;\r\n        }\r\n        draft.intervalStartDate = action.data.intervalStartDate;\r\n        draft.intervalEndDate = action.data.intervalEndDate;\r\n        draft.intervalCount = action.data.intervalCount;\r\n        draft.intervalUnit = action.data.intervalUnit;\r\n        break;\r\n      }\r\n\r\n      case CHOOSE_BRAND: {\r\n        const chosenBrandOption = draft.brandOptions!.find(\r\n          (brand) => brand.brand === action.data.brand,\r\n        )!;\r\n        const chosenDrugIdx = draft.drugs!.findIndex((drug) => {\r\n          return drug.options.find(\r\n            (option) => option.brand === action.data.brand,\r\n          );\r\n        });\r\n        draft.chosenDrug = draft.drugs![chosenDrugIdx];\r\n        draft.drugs!.splice(0, 0, draft.drugs!.splice(chosenDrugIdx, 1)[0]);\r\n        draft.chosenBrand = chosenBrandOption;\r\n        draft.chosenDrugForm = null;\r\n        draft.drugFormOptions = chosenBrandOption.forms;\r\n        draft.priorDosagesQty = {};\r\n        draft.oralDosageInfo = null;\r\n        draft.upcomingDosagesQty = {};\r\n        break;\r\n      }\r\n\r\n      case CHOOSE_FORM: {\r\n        const chosenDrugForm = draft.drugFormOptions!.find((form) => form.form === action.data.form)!;\r\n        draft.chosenDrugForm = chosenDrugForm;\r\n        draft.priorDosagesQty = {};\r\n        draft.upcomingDosagesQty = {};\r\n\r\n        draft.minDosageUnit = action.data.minDosageUnit;\r\n        draft.regularDosageOptions = action.data.regularDosageOptions;\r\n        draft.availableDosageOptions = action.data.availableDosageOptions;\r\n        draft.oralDosageInfo = action.data.oralDosageInfo;\r\n        draft.dosageOptions = chosenDrugForm.dosages;\r\n\r\n        if (isCapsuleOrTablet(chosenDrugForm)) {\r\n          chosenDrugForm.dosages.forEach((dosage) => {\r\n            draft.priorDosagesQty[dosage.dosage] = 0;\r\n            draft.upcomingDosagesQty[dosage.dosage] = 0;\r\n          });\r\n        } else {\r\n          draft.priorDosagesQty['1mg'] = 0;\r\n          draft.upcomingDosagesQty['1mg'] = 0;\r\n        }\r\n        break;\r\n      }\r\n\r\n      case PRIOR_DOSAGE_CHANGE:\r\n        if (action.data.dosage.quantity >= 0) {\r\n          draft.priorDosagesQty[action.data.dosage.dosage] = action.data.dosage.quantity;\r\n        }\r\n        break;\r\n\r\n      case UPCOMING_DOSAGE_CHANGE:\r\n        if (action.data.dosage.quantity >= 0) {\r\n          draft.upcomingDosagesQty[action.data.dosage.dosage] = action.data.dosage.quantity;\r\n          const upcomingDosageSum = Object.entries(draft.upcomingDosagesQty).reduce((prev, [k, v]) => {\r\n            return prev + parseFloat(k) * v;\r\n          }, 0);\r\n\r\n          const priorDosageSum = Object.entries(draft.priorDosagesQty).reduce((prev, [k, v]) => {\r\n            return prev + parseFloat(k) * v;\r\n          }, 0);\r\n\r\n          if (priorDosageSum < upcomingDosageSum) {\r\n            draft.targetDosage = upcomingDosageSum;\r\n          }\r\n        }\r\n        break;\r\n\r\n      case SET_TARGET_DOSAGE:\r\n        draft.targetDosage = action.data.dosage;\r\n        break;\r\n\r\n      case ALLOW_SPLITTING_UNSCORED_TABLET:\r\n        draft.allowSplittingUnscoredTablet = action.data.allow;\r\n        if (!action.data.allow) {\r\n          Object.entries(draft.priorDosagesQty).forEach(([k, v]) => {\r\n            draft.priorDosagesQty[k] = Math.floor(v);\r\n          });\r\n          Object.entries(draft.upcomingDosagesQty).forEach(([k, v]) => {\r\n            draft.upcomingDosagesQty[k] = Math.floor(v);\r\n          });\r\n        }\r\n        break;\r\n\r\n      case INTERVAL_START_DATE_CHANGE:\r\n        draft.intervalStartDate = new Date(action.data.date.valueOf() + action.data.date.getTimezoneOffset() * 60 * 1000);\r\n        draft.intervalUnit = 'Days';\r\n        if (draft.intervalEndDate) {\r\n          draft.intervalCount = action.data.intervalDurationDays;\r\n          draft.intervalDurationDays = action.data.intervalDurationDays;\r\n        }\r\n        break;\r\n\r\n      case INTERVAL_END_DATE_CHANGE:\r\n        draft.intervalEndDate = action.data.date;\r\n        draft.intervalUnit = 'Days';\r\n        draft.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.intervalCount = draft.intervalDurationDays;\r\n        break;\r\n\r\n      case INTERVAL_UNIT_CHANGE:\r\n        draft.intervalUnit = action.data.unit;\r\n        draft.intervalEndDate = action.data.intervalEndDate;\r\n        draft.intervalDurationDays = action.data.intervalDurationDays;\r\n        break;\r\n\r\n      case INTERVAL_COUNT_CHANGE:\r\n        draft.intervalCount = action.data.count;\r\n        draft.intervalEndDate = action.data.intervalEndDate;\r\n        draft.intervalDurationDays = action.data.intervalDurationDays;\r\n        break;\r\n    }\r\n  });\r\n};\r\n\r\nexport type PrescriptionFormReducer = typeof reducer;\r\n","import React, {\r\n  forwardRef, useEffect, useImperativeHandle, useState,\r\n} from 'react';\r\nimport format from 'date-fns/esm/format';\r\nimport Input from 'antd/es/input';\r\n\r\nexport default forwardRef((props: any, ref) => {\r\n  const [date, setDate] = useState<Date | null>(null);\r\n  useEffect(() => {\r\n    console.group('DateEditor');\r\n    console.log('props: ', props);\r\n    console.log('ref: ', ref);\r\n    console.groupEnd();\r\n  }, []);\r\n  const handleDateChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const tempDate = new Date(e.target.value);\r\n    const newDate = new Date(tempDate.valueOf() + tempDate.getTimezoneOffset() * 60 * 1000);\r\n\r\n    setDate(newDate);\r\n  };\r\n\r\n  useImperativeHandle(\r\n    ref, () => {\r\n      return {\r\n        getValue: () => {\r\n          return date;\r\n        },\r\n        isCancelAfterEnd: () => {\r\n          return !date;\r\n        },\r\n        afterGuiAttached: () => {\r\n          if (!props.value) {\r\n            return;\r\n          }\r\n\r\n          setDate(props.value);\r\n        },\r\n      };\r\n    },\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Input type='date'\r\n             style={{ width: '100%', height: '100%' }}\r\n             value={date ? format(date, 'MM-dd-yyyy') : undefined} onChange={handleDateChanged}/>\r\n    </>\r\n  );\r\n});\r\n","import * as React from 'react';\r\nimport { FC, useEffect } from 'react';\r\nimport Modal from 'antd/es/modal';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { css } from '@emotion/react';\r\nimport { useReducer } from 'reinspect';\r\nimport { TableRowData } from '../../../types';\r\nimport { RootState } from '../../../redux/reducers';\r\nimport { TaperConfigState } from '../../../redux/reducers/taperConfig';\r\nimport PrescriptionForm from '../../PrescriptionForm/PrescriptionForm';\r\nimport { EDIT_PROJECTED_SCHEDULE_FROM_MODAL, REMOVE_DRUG_FORM } from '../../../redux/actions/taperConfig';\r\nimport reducer, {\r\n  initialState,\r\n  POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE,\r\n  RowEditingModalReducer,\r\n  RowEditingModalState,\r\n} from './modalReducer';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  doubleClickedRowAndBefore: [TableRowData, TableRowData];\r\n  onCancel: (e: React.MouseEvent<HTMLElement>) => void;\r\n  onOk: (e: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst ProjectedScheduleTableRowEditingModal: FC<Props> = ({\r\n  doubleClickedRowAndBefore,\r\n  visible, onCancel, onOk,\r\n}) => {\r\n  const {\r\n    drugs,\r\n    lastPrescriptionFormId,\r\n    projectedSchedule,\r\n    prescribedDrugs,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  // const [drugFromRow, setDrugFromRow] = useState<PrescribedDrug | null>(null);\r\n  const [state, modalDispatch] = useReducer<RowEditingModalReducer, RowEditingModalState>(reducer, initialState, (init) => initialState, 'ProjectedScheduleTableRowEditingModal');\r\n  const { prescribedDrug } = state;\r\n  const dispatch = useDispatch();\r\n  // const [prescribedDrugId, setPrescribedDrugId] = useState<number>(-1);\r\n\r\n  useEffect(() => {\r\n    console.group('ProjectedScheduleTableRowEditingModal');\r\n    console.log(doubleClickedRowAndBefore);\r\n    modalDispatch({\r\n      type: POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE,\r\n      data: { prevRow: doubleClickedRowAndBefore[0], doubleClickedRow: doubleClickedRowAndBefore[1] },\r\n    });\r\n    console.groupEnd();\r\n  }, []);\r\n\r\n  const onClickOk = (e: React.MouseEvent<HTMLElement>) => {\r\n    onOk(e);\r\n    dispatch({\r\n      type: EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\r\n      data: { prevRow: doubleClickedRowAndBefore[0], doubleClickedRow: doubleClickedRowAndBefore[1], prescribedDrug },\r\n    });\r\n  };\r\n\r\n  const onClickCancel = (e: React.MouseEvent<HTMLElement>) => {\r\n    onCancel(e);\r\n    // TODO: flush prescribedDrug for modal..?\r\n    dispatch({\r\n      type: REMOVE_DRUG_FORM,\r\n      // data: prescribedDrug.id,\r\n    });\r\n  };\r\n\r\n  return prescribedDrug && <Modal visible={visible}\r\n                                  onCancel={onClickCancel}\r\n                                  onOk={onClickOk}\r\n                                  width={'50%'}\r\n                                  css={css`height: 85%;\r\n                                    overflow-y: scroll;`}>\r\n    <PrescriptionForm prescribedDrug={prescribedDrug} title={''} modal={{ isModal: true, modalDispatch }}/>\r\n  </Modal>;\r\n};\r\n\r\nexport default ProjectedScheduleTableRowEditingModal;\r\n","import produce from 'immer';\r\nimport { Drug, PrescribedDrug, TableRowData } from '../../../types';\r\nimport {\r\n  ALLOW_SPLITTING_UNSCORED_TABLET,\r\n  CHOOSE_BRAND,\r\n  CHOOSE_FORM, INTERVAL_COUNT_CHANGE, INTERVAL_END_DATE_CHANGE, INTERVAL_START_DATE_CHANGE, INTERVAL_UNIT_CHANGE,\r\n  PRIOR_DOSAGE_CHANGE, SET_TARGET_DOSAGE,\r\n  UPCOMING_DOSAGE_CHANGE,\r\n} from '../../PrescriptionForm/actions';\r\nimport drugs from '../../../redux/reducers/drugs';\r\nimport { VALIDATE_INPUT_COMPLETION } from '../../../redux/actions/taperConfig';\r\nimport { TaperConfigActions } from '../../../redux/reducers/taperConfig';\r\nimport { validateCompleteInputs } from '../../../redux/reducers/utils';\r\n\r\nexport const POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE = 'POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE';\r\nexport interface PopulatePrescribedDrug {\r\n  type: typeof POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE;\r\n  data: { prevRow: TableRowData; doubleClickedRow: TableRowData }\r\n}\r\n\r\nexport type ModalActions =\r\n  | TaperConfigActions\r\n  | PopulatePrescribedDrug;\r\n\r\nexport interface RowEditingModalState {\r\n  drugs: Drug[];\r\n  prescribedDrug: PrescribedDrug | null;\r\n  isModalInputComplete: boolean;\r\n}\r\n\r\nexport const initialState: RowEditingModalState = {\r\n  drugs,\r\n  prescribedDrug: null,\r\n  isModalInputComplete: true,\r\n};\r\n\r\nconst prescriptionToDosages = (row: TableRowData): { dosage: string, quantity: number }[] => {\r\n  if (row.prescription === null) {\r\n    return [];\r\n  }\r\n\r\n  if (row.form === 'capsule' || row.form === 'tablet') {\r\n    const dosages = row.prescribedDrug.regularDosageOptions!.map((option) => ({ dosage: option, quantity: 0 }));\r\n\r\n    Object.entries(row.prescription.data.dosage).forEach(([dosage, quantity]) => {\r\n      dosages.find((dos) => dos.dosage === dosage)!.quantity = quantity;\r\n    });\r\n    return dosages;\r\n  }\r\n\r\n  return [{ dosage: '1mg', quantity: row.prescription.data.dosage['1mg'] }];\r\n};\r\n\r\nconst reducer = (state: RowEditingModalState = initialState, action: ModalActions): RowEditingModalState => {\r\n  console.log('modalAction: ', action);\r\n  return produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case POPULATE_PRESCRIBED_DRUG_FROM_DOUBLE_CLICKED_ROW_AND_BEFORE: {\r\n        const { prevRow } = action.data;\r\n        const { doubleClickedRow } = action.data;\r\n\r\n        const priorDosageSum = (action.data.prevRow.prescription\r\n        && Object.entries(action.data.prevRow.prescription.data.dosage)\r\n          .reduce((prev, [dosage, qty]) => prev + parseFloat(dosage) * qty, 0)) || 0;\r\n\r\n        const upcomingDosageSum = (action.data.doubleClickedRow.prescription\r\n        && Object.entries(action.data.doubleClickedRow.prescription.data.dosage)\r\n          .reduce((prev, [dosage, qty]) => prev + parseFloat(dosage) * qty, 0)) || 0;\r\n\r\n        draft.prescribedDrug = {\r\n          ...doubleClickedRow.prescribedDrug,\r\n          isModal: true,\r\n          applyInSchedule: false,\r\n          // id..?\r\n          allowChangePriorDosage: false,\r\n          intervalStartDate: doubleClickedRow.startDate!,\r\n          intervalEndDate: doubleClickedRow.endDate!,\r\n          intervalUnit: doubleClickedRow.intervalUnit!,\r\n          intervalCount: doubleClickedRow.intervalCount,\r\n          priorDosages: prescriptionToDosages(prevRow),\r\n          upcomingDosages: prescriptionToDosages(doubleClickedRow),\r\n          priorDosageSum,\r\n          upcomingDosageSum,\r\n          targetDosage: upcomingDosageSum,\r\n        };\r\n        break;\r\n      }\r\n\r\n      case CHOOSE_BRAND: {\r\n        const correspondingDrugData = draft.drugs.find((d) => d.options.find((option) => option.brand === action.data.brand))!;\r\n        const drug = draft.prescribedDrug!;\r\n        drug.name = correspondingDrugData.name;\r\n        drug.halfLife = correspondingDrugData.halfLife;\r\n        drug.brand = action.data.brand;\r\n        drug.form = '';\r\n        drug.allowChangePriorDosage = false;\r\n        drug.oralDosageInfo = null;\r\n        drug.priorDosages = [];\r\n        drug.upcomingDosages = [];\r\n        draft.isModalInputComplete = false;\r\n        break;\r\n      }\r\n\r\n      case CHOOSE_FORM: {\r\n        const drug = draft.prescribedDrug!;\r\n        drug.form = action.data.form;\r\n        drug.minDosageUnit = action.data.minDosageUnit;\r\n        drug.priorDosages = [];\r\n        drug.upcomingDosages = [];\r\n        drug.oralDosageInfo = action.data.oralDosageInfo;\r\n        drug.availableDosageOptions = action.data.availableDosageOptions;\r\n        drug.regularDosageOptions = action.data.regularDosageOptions;\r\n        draft.isModalInputComplete = false;\r\n        break;\r\n      }\r\n\r\n      case PRIOR_DOSAGE_CHANGE: {\r\n        const drug = draft.prescribedDrug!;\r\n        const idx = drug.priorDosages.findIndex((curDosage) => curDosage.dosage === action.data.dosage.dosage);\r\n\r\n        if (idx === -1) {\r\n          drug.priorDosages.push(action.data.dosage);\r\n        } else {\r\n          drug.priorDosages[idx] = action.data.dosage;\r\n        }\r\n        draft.isModalInputComplete = validateCompleteInputs([drug]);\r\n        break;\r\n      }\r\n\r\n      case UPCOMING_DOSAGE_CHANGE: {\r\n        const drug = draft.prescribedDrug!;\r\n        const idx = drug.upcomingDosages.findIndex((nextDosage) => nextDosage.dosage === action.data.dosage.dosage);\r\n\r\n        if (idx === -1) {\r\n          drug.upcomingDosages.push(action.data.dosage);\r\n        } else {\r\n          drug.upcomingDosages[idx] = action.data.dosage;\r\n        }\r\n        draft.isModalInputComplete = validateCompleteInputs([drug]);\r\n        break;\r\n      }\r\n\r\n      case SET_TARGET_DOSAGE:\r\n        draft.prescribedDrug!.targetDosage = action.data.dosage;\r\n        break;\r\n\r\n      case ALLOW_SPLITTING_UNSCORED_TABLET:\r\n        draft.prescribedDrug!.allowSplittingUnscoredTablet = action.data.allow;\r\n        break;\r\n\r\n      case INTERVAL_START_DATE_CHANGE: {\r\n        const drug = draft.prescribedDrug!;\r\n        drug.intervalStartDate = new Date(action.data.date.valueOf() + action.data.date.getTimezoneOffset() * 60 * 1000);\r\n\r\n        if (drug.intervalEndDate) {\r\n          drug.intervalUnit = 'Days';\r\n          drug.intervalCount = action.data.intervalDurationDays;\r\n          drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        }\r\n        draft.isModalInputComplete = validateCompleteInputs([drug]);\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_END_DATE_CHANGE: {\r\n        const drug = draft.prescribedDrug!;\r\n        drug.intervalEndDate = action.data.date;\r\n        drug.intervalUnit = 'Days';\r\n        drug.intervalCount = action.data.intervalDurationDays;\r\n        drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.isModalInputComplete = validateCompleteInputs([drug]);\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_COUNT_CHANGE: {\r\n        const drug = draft.prescribedDrug!;\r\n        drug.intervalCount = action.data.count;\r\n        drug.intervalEndDate = action.data.intervalEndDate;\r\n        drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.isModalInputComplete = validateCompleteInputs([drug]);\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_UNIT_CHANGE: {\r\n        const drug = draft.prescribedDrug!;\r\n        drug.intervalUnit = action.data.unit;\r\n        drug.intervalEndDate = action.data.intervalEndDate;\r\n        drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.isModalInputComplete = validateCompleteInputs([drug]);\r\n        break;\r\n      }\r\n\r\n      case VALIDATE_INPUT_COMPLETION: {\r\n        draft.isModalInputComplete = validateCompleteInputs([draft.prescribedDrug!]);\r\n        break;\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nexport default reducer;\r\n\r\nexport type RowEditingModalReducer = typeof reducer;\r\n","import * as React from 'react';\r\nimport { css } from '@emotion/react';\r\nimport TextArea from 'antd/es/input/TextArea';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport Button from 'antd/es/button';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FC, useCallback, useRef } from 'react';\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport { changeMessageForPatient, changeNoteAndInstructions } from '../../redux/actions/taperConfig';\r\n\r\nconst NotesToShare: FC<{ editable: boolean }> = ({ editable }) => {\r\n  const {\r\n    instructionsForPatient, instructionsForPharmacy, taperConfigs, currentTaperConfigId,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  const dispatch = useDispatch();\r\n\r\n  const patientInstructions = (editable: boolean) => {\r\n    if (editable) {\r\n      return instructionsForPatient;\r\n    }\r\n    return taperConfigs.find((config) => config.id === currentTaperConfigId)!.instructionsForPatient;\r\n  };\r\n\r\n  const pharmacyInstructions = (editable: boolean) => {\r\n    if (editable) {\r\n      return instructionsForPharmacy;\r\n    }\r\n    return taperConfigs.find((config) => config.id === currentTaperConfigId)!.instructionsForPharmacy;\r\n  };\r\n\r\n  const onChangeMessageForPatient = useCallback((e) => {\r\n    dispatch(changeMessageForPatient(e.target.value));\r\n  }, []);\r\n\r\n  const onChangeInstructionsForPharmacy = useCallback((e) => {\r\n    dispatch(changeNoteAndInstructions(e.target.value));\r\n  }, []);\r\n\r\n  const instructionsForPatientPlaceholder = useRef('e.g., If you experience severe withdrawal symptoms, go back to the previous dosage. / call your provider / come back to provider\\'s office.');\r\n\r\n  const onInstructionsForPatientCopied = useCallback(() => {\r\n    alert('Instructions for patient copied.');\r\n  }, []);\r\n\r\n  const onInstructionsForPharmacyCopied = useCallback(() => {\r\n    alert('Instructions for pharmacy copied.');\r\n  }, []);\r\n\r\n  return (\r\n   <>\r\n     <div>\r\n       <h3 css={css`margin-top: 40px;`}>Notes for Patient</h3>\r\n       <TextArea\r\n         value={patientInstructions(editable)}\r\n         defaultValue={patientInstructions(editable)}\r\n         onChange={onChangeMessageForPatient}\r\n         placeholder={instructionsForPatientPlaceholder.current}\r\n         rows={6}\r\n         readOnly={!editable}\r\n       />\r\n       {!editable && <CopyToClipboard text={instructionsForPatient} onCopy={onInstructionsForPatientCopied}>\r\n         <Button>Copy to Clipboard</Button>\r\n       </CopyToClipboard>}\r\n     </div>\r\n\r\n     <div>\r\n       <h3 css={css`margin-top: 40px;`}>Notes for Pharmacy</h3>\r\n       <TextArea value={pharmacyInstructions(editable)}\r\n                 defaultValue={pharmacyInstructions(editable)}\r\n                 onChange={onChangeInstructionsForPharmacy}\r\n                 rows={6}\r\n                 readOnly={!editable}\r\n       />\r\n       {!editable && <CopyToClipboard text={instructionsForPharmacy} onCopy={onInstructionsForPharmacyCopied}>\r\n         <Button>Copy to Clipboard</Button>\r\n       </CopyToClipboard>}\r\n     </div>\r\n   </>\r\n  );\r\n};\r\n\r\nexport default NotesToShare;\r\n","import * as React from 'react';\r\nimport { forwardRef, useImperativeHandle, useState } from 'react';\r\nimport Input from 'antd/es/input';\r\n\r\nexport default forwardRef((props: any, ref) => {\r\n  const [value, setValue] = useState<number|null>(null);\r\n  const handleValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(parseFloat(e.target.value));\r\n  };\r\n\r\n  useImperativeHandle(\r\n    ref,\r\n    () => {\r\n      return {\r\n        getValue: () => value,\r\n        isCancelAfterEnd: () => !value,\r\n        afterGuiAttached: () => {\r\n          if (!props.value) {\r\n            return;\r\n          }\r\n          setValue(props.value);\r\n        },\r\n      };\r\n    },\r\n  );\r\n\r\n  return (\r\n    <>\r\n    <Input type='number'\r\n           style={{ width: '100%', height: '100%' }}\r\n           value={value || undefined}\r\n           min={0}\r\n           onChange={handleValueChange}\r\n    />\r\n    </>\r\n  );\r\n});\r\n","import * as React from 'react';\r\nimport {\r\n  ChangeEvent,\r\n  FC, useCallback, useRef,\r\n} from 'react';\r\nimport Input from 'antd/es/input';\r\nimport { useDispatch } from 'react-redux';\r\nimport { css } from '@emotion/react';\r\nimport {\r\n  Prescription, ValueOf,\r\n} from '../../types';\r\nimport { finalPrescriptionQuantityChange } from '../../redux/actions/taperConfig';\r\n\r\ninterface Props {\r\n  id: number,\r\n  prescription: ValueOf<Prescription>;\r\n  editable: boolean;\r\n}\r\n\r\nconst PrescribedQuantitiesForDrug: FC<Props> = ({ id, prescription, editable }) => {\r\n  const dispatch = useDispatch();\r\n  const initialPrescription = useRef<ValueOf<Prescription>>(prescription);\r\n  const qtyOrZero = useCallback((dosages: typeof prescription['dosageQty'], dosage: string): number => {\r\n    return dosages[dosage] ? Math.round(dosages[dosage]) : 0;\r\n  }, []);\r\n\r\n  const onPrescribedQuantityChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\r\n    dispatch(finalPrescriptionQuantityChange({\r\n      id,\r\n      dosage: e.target.title,\r\n      quantity: parseFloat(e.target.value),\r\n    }));\r\n  }, []);\r\n\r\n  const onWheelEventHandler = (e: React.WheelEvent<HTMLInputElement>) => {\r\n    e.currentTarget.blur();\r\n  };\r\n\r\n  const renderForms = useCallback((dosages: string[], prescription: ValueOf<Prescription>) => {\r\n    return (\r\n      <>\r\n        <div>{prescription.brand} {prescription.form}</div>\r\n        <div>\r\n\r\n          <div css={css`margin-top: 10px;`}>\r\n            {dosages.map((dos: string) => (\r\n              <div key={`${prescription.brand}_${prescription.form}_${dos}_final_prescription`}\r\n                   css={css`\r\n                     display: flex;\r\n                     align-items: center;\r\n                     margin: 0 0 24px 39px;\r\n                   `}>\r\n                <div>{dos}:</div>\r\n                <Input title={dos}\r\n                       css={css`\r\n                         margin-left: 14px;\r\n                         width: 60px;`}\r\n                       type='number'\r\n                       min={0}\r\n                       value={qtyOrZero(prescription.dosageQty, dos)}\r\n                       step={1}\r\n                       width={'50px'}\r\n                       readOnly={!editable}\r\n                       onWheel={onWheelEventHandler}\r\n                       onChange={onPrescribedQuantityChange}/>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }, []);\r\n\r\n  if (prescription.oralDosageInfo) {\r\n    return renderForms(prescription.oralDosageInfo.bottles, prescription);\r\n  }\r\n  // return renderForms(prescription.availableDosages, prescription);\r\n  return renderForms(prescription.regularDosageOptions, prescription);\r\n};\r\n\r\nexport default PrescribedQuantitiesForDrug;\r\n","import * as React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  FC,\r\n} from 'react';\r\nimport { css } from '@emotion/react';\r\nimport { ProjectedScheduleChart, ProjectedScheduleTable } from '.';\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport { PrescribedDrug, TableRowData } from '../../types';\r\nimport PrescribedQuantitiesForDrug from './PrescribedQuantitiesForDrug';\r\n\r\nexport interface Schedule {\r\n  drugs: PrescribedDrug[];\r\n  data: TableRowData[];\r\n}\r\n\r\nconst ProjectedSchedule: FC<{ editable: boolean, title: string }> = ({ editable, title }) => {\r\n  const {\r\n    projectedSchedule, scheduleChartData, finalPrescription,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n\r\n  const renderColorSamples = () => {\r\n    const drugs = ['F', 'C', ' S', 'P', 'E'];\r\n    return (\r\n      <div css={css`width: 400px;\r\n        height: 200px;\r\n        display: flex;\r\n        flex-direction: row;`}>\r\n        {['#00B894', '#E84393', '#0984C3', '#6C48F7', '#FF7575'].map((bgc, i) => (\r\n          <div key={i} css={css`width: 20%;\r\n            display: flex;\r\n            flex-direction: column;`}>\r\n            <div css={css`height: 50%;\r\n              background-color: ${bgc};\r\n              opacity: 0.5;\r\n              color: black;`}>{drugs[i]}</div>\r\n            <div css={css`height: 50%;\r\n              background-color: ${bgc};\r\n              opacity: 0.2;\r\n              color: black;`}>{drugs[i]}</div>\r\n          </div>))}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      {projectedSchedule.data.length\r\n        ? <>\r\n          {/* <h3 css={css`font-size: 18px; */}\r\n          <h3 css={css`font-size: 1.1rem;\r\n            color: #636E72;`}>{title}</h3>\r\n          <p>Check all the rows that you would like to prescribe.</p>\r\n          {/* {renderColorSamples()} */}\r\n          <div css={css`display: flex;\r\n            justify-content: space-between;`}>\r\n            {projectedSchedule.data.length !== 0\r\n            && <div css={css`flex: 3;`}><ProjectedScheduleTable editable={editable} projectedSchedule={projectedSchedule}/>\r\n            </div>}\r\n            <div>\r\n              <ProjectedScheduleChart scheduleChartData={scheduleChartData} width={400} height={400}/>\r\n            </div>\r\n          </div>\r\n          <h3 css={css`font-size: 18px;\r\n            margin-top: 33px;`}>Prescription for upcoming intervals</h3>\r\n          {Object.entries(finalPrescription).map(([id, prescription]) => {\r\n            return <PrescribedQuantitiesForDrug\r\n              key={`PrescribedQuantitiesFor${id}`} id={parseFloat(id)} prescription={prescription}\r\n              editable={editable}/>;\r\n          })}\r\n\r\n        </> : <div>No schedule yet</div>\r\n      }\r\n    </>\r\n  );\r\n};\r\nexport default ProjectedSchedule;\r\n","import * as React from 'react';\r\nimport {\r\n  CartesianGrid, Legend, Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis,\r\n} from 'recharts';\r\nimport format from 'date-fns/format';\r\nimport { FC, useMemo, useRef } from 'react';\r\nimport rgbHex from 'rgb-hex';\r\nimport { ScheduleChartData } from '../../redux/reducers/utils';\r\n\r\ninterface Props {\r\n  scheduleChartData: ScheduleChartData;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nconst CustomizedAxisTick: FC<{ x: number, y: number, stroke: string, payload: { value: Date } }> = ({\r\n  x,\r\n  y,\r\n  stroke,\r\n  payload,\r\n}) => {\r\n  return (\r\n    <g transform={`translate(${x}, ${y})`}>\r\n      <text x={0} y={0} dy={16} textAnchor='end' fill='#666' transform='rotate(-35)'>\r\n        {format(payload.value, 'MM-dd')}\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nconst ProjectedScheduleChart: FC<Props> = ({ scheduleChartData, width, height }) => {\r\n  console.log('scheduleChartData');\r\n  console.log(scheduleChartData);\r\n\r\n  const lineColors = useRef<{ [drugName: string]: string }>({\r\n    Fluoxetine: `#${rgbHex(0, 184, 148)}`,\r\n    Citalopram: `#${rgbHex(232, 67, 147)}`,\r\n    Sertraline: `#${rgbHex(9, 132, 195)}`,\r\n    Paroxetine: `#${rgbHex(108, 72, 247)}`,\r\n    Escitalopram: `#${rgbHex(255, 117, 117)}`,\r\n  });\r\n\r\n  return (\r\n    <ResponsiveContainer width={width} height={height}>\r\n      <LineChart data={scheduleChartData}>\r\n        <CartesianGrid strokeDasharray=\"3 3\"/>\r\n        <XAxis height={60} dataKey=\"timestamp\" type=\"number\" tick={(props) => <CustomizedAxisTick {...props}/>}\r\n               tickFormatter={(time) => format(time, 'MM-dd')}\r\n               domain={['auto', 'auto']} scale=\"time\"/>\r\n        <YAxis dataKey=\"dosage\"/>\r\n        <Tooltip formatter={(value: number) => `${value}mg`} labelFormatter={(time: number) => format(time, 'MM-dd')}/>\r\n        <Legend/>\r\n        {scheduleChartData.map((drug, i) => (\r\n          <Line dataKey=\"dosage\" data={drug.data} name={drug.brand} key={drug.brand} type={'stepAfter'}\r\n                stroke={lineColors.current[drug.name]}/>\r\n        ))}\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default ProjectedScheduleChart;\r\n","import * as React from 'react';\r\nimport {\r\n  FC, useCallback, useRef, useState,\r\n} from 'react';\r\nimport { useState as useStateLog } from 'reinspect';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AgGridReact } from 'ag-grid-react';\r\nimport {\r\n  CheckboxSelectionCallbackParams,\r\n  ColDef, ColumnApi,\r\n  FirstDataRenderedEvent, GridApi,\r\n  GridReadyEvent, RowDataChangedEvent, RowDoubleClickedEvent,\r\n  RowSelectedEvent,\r\n  SelectionChangedEvent, ValueFormatterParams, ValueSetterParams,\r\n} from 'ag-grid-community';\r\nimport format from 'date-fns/esm/format';\r\nimport { css } from '@emotion/react';\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport {\r\n  ADD_NEW_DRUG_FORM, OPEN_MODAL, OpenModalAction,\r\n  SCHEDULE_ROW_SELECTED,\r\n  ScheduleRowSelectedAction,\r\n} from '../../redux/actions/taperConfig';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\r\nimport './tableStyles.css';\r\nimport DateEditor from './DateEditor';\r\nimport NumberEditor from './NumberEditor';\r\nimport { Schedule } from './ProjectedSchedule';\r\nimport ProjectedScheduleTableRowEditingModal from './Modal/ProjectedScheduleTableRowEditingModal';\r\nimport { PrescribedDrug, TableRowData } from '../../types';\r\nimport PrescriptionForm from '../PrescriptionForm/PrescriptionForm';\r\n\r\nconst ProjectedScheduleTable: FC<{ editable: boolean, projectedSchedule: Schedule }> = ({\r\n  editable,\r\n  projectedSchedule,\r\n}) => {\r\n  const {\r\n    tableSelectedRows, lastPrescriptionFormId, prescribedDrugs,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  const dispatch = useDispatch();\r\n  const [gridApi, setGridApi] = useState<GridApi | null>(null);\r\n  const [gridColumnApi, setGridColumnApi] = useState<ColumnApi | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [doubleClickedRowAndBefore, setDoubleClickedRowAndBefore] = useState<[TableRowData, TableRowData] | null>(null);\r\n\r\n  const onGridReady = (params: GridReadyEvent) => {\r\n    console.log('onGridReady');\r\n    setGridColumnApi(params.columnApi);\r\n    setGridApi(params.api);\r\n    const selectedRows = projectedSchedule.data.reduce((res, row, i) => {\r\n      if (row.selected) {\r\n        res.push(i);\r\n      }\r\n      return res;\r\n    }, [] as number[]);\r\n    params.api.forEachNode((row) => {\r\n      if (selectedRows.includes(row.rowIndex!)) {\r\n        row.setSelected(true);\r\n      }\r\n    });\r\n    // params.api.sizeColumnsToFit();\r\n    // params.columnApi.autoSizeAllColumns();\r\n  };\r\n\r\n  const rowStyle = useRef<{ [p: string]: string | number }>({\r\n    fontSize: '0.8rem',\r\n  });\r\n\r\n  const defaultColumnDef = useRef<ColDef>({\r\n    resizable: true,\r\n    suppressMovable: true,\r\n  });\r\n\r\n  const columnDefs = useRef<ColDef[]>(\r\n    [{\r\n      headerName: '',\r\n      field: 'prescribe',\r\n      hide: !editable,\r\n      width: 10,\r\n      checkboxSelection: (params: CheckboxSelectionCallbackParams) => !params.data.isPriorDosage && editable,\r\n      cellStyle: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n      suppressSizeToFit: true,\r\n    },\r\n    {\r\n      headerName: 'Medication',\r\n      // field: 'drug',\r\n      field: 'brand',\r\n      sortable: true,\r\n      unSortIcon: true,\r\n      minWidth: 80,\r\n      cellStyle: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    }, {\r\n      headerName: 'Dosage',\r\n      field: 'dosage',\r\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\r\n      cellEditor: 'numberEditor',\r\n      width: 100,\r\n      valueFormatter: (params: ValueFormatterParams) => `${params.value}mg`,\r\n      // need to keep below valueSetter\r\n      valueSetter: (params: ValueSetterParams) => params.newValue,\r\n      // valueSetter: valueSetter((x: string) => parseFloat(x) >= 0),\r\n      cellStyle: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    }, {\r\n      headerName: 'Start Date',\r\n      field: 'startDate',\r\n      sortable: true,\r\n      unSortIcon: true,\r\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\r\n      // cellEditor: 'datePicker',\r\n      minWidth: 80,\r\n      maxWidth: 120,\r\n      valueFormatter: (params: ValueFormatterParams) => {\r\n        return params.value !== null ? format(params.value, 'MM/dd/yyyy') : '';\r\n      },\r\n      // need to keep below valueSetter\r\n      valueSetter: (params: ValueSetterParams) => params.newValue,\r\n      cellStyle: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n      suppressSizeToFit: true,\r\n    }, {\r\n      headerName: 'End Date',\r\n      field: 'endDate',\r\n      sortable: true,\r\n      unSortIcon: true,\r\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\r\n      // cellEditor: 'datePicker',\r\n      minWidth: 80,\r\n      maxWidth: 115,\r\n      valueFormatter: (params: ValueFormatterParams) => {\r\n        return params.value !== null ? format(params.value, 'MM/dd/yyyy') : '';\r\n      },\r\n      // need to keep below valueSetter\r\n      valueSetter: (params: ValueSetterParams) => params.newValue,\r\n      cellStyle: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n      suppressSizeToFit: true,\r\n    }, {\r\n      headerName: 'Prescription',\r\n      field: 'prescription.message',\r\n      suppressSizeToFit: true,\r\n      minWidth: 200,\r\n      flex: 1,\r\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\r\n    }],\r\n  );\r\n\r\n  const rowClassRules = useRef({\r\n    PriorDosage: (params: any) => params.data.isPriorDosage,\r\n    Fluoxetine: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Fluoxetine',\r\n    Citalopram: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Citalopram',\r\n    Sertraline: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Sertraline',\r\n    Paroxetine: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Paroxetine',\r\n    Escitalopram: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Escitalopram',\r\n  });\r\n\r\n  const onRowSelected = (e: RowSelectedEvent) => {\r\n    console.log(e);\r\n  };\r\n\r\n  const onSelectionChanged = (e: SelectionChangedEvent) => {\r\n    const selectedNodes = e.api.getSelectedNodes().map((row) => row.rowIndex);\r\n    dispatch<ScheduleRowSelectedAction>({ type: SCHEDULE_ROW_SELECTED, data: selectedNodes });\r\n  };\r\n\r\n  const onRowDataChanged = (e: RowDataChangedEvent) => {\r\n    e.api.forEachNode((row) => {\r\n      if (tableSelectedRows.includes(row.rowIndex)) {\r\n        row.setSelected(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onFirstDataRendered = (params: FirstDataRenderedEvent) => {\r\n    // params.api.sizeColumnsToFit();\r\n    // gridColumnApi?.autoSizeAllColumns();\r\n    // params.columnApi.autoSizeColumns(['startDate', 'endDate']);\r\n    params.columnApi.autoSizeColumn('startDate');\r\n    params.columnApi.autoSizeColumn('endDate');\r\n  };\r\n\r\n  const openModal = (event: RowDoubleClickedEvent) => {\r\n    console.group('openModal');\r\n    console.log('event: ', event);\r\n    // if (event.rowIndex !== 0) {\r\n    if (event.data.rowIndexInPrescribedDrug !== -1) {\r\n      // const prevRow: TableRowData = event.api.getRowNode(`${parseFloat(event.node.id!) - 1}`)!.data;\r\n      console.log('setDoubleClickedRowAndBefore');\r\n      // TODO: this prevRow must be the previous row with the same prescribed with the double clicked row.\r\n      const prevAndDoubleClickedRow: [TableRowData, TableRowData] = [] as unknown as [TableRowData, TableRowData];\r\n\r\n      event.api.forEachNode((row, i) => {\r\n        if (row.data.prescribedDrugId === event.data.prescribedDrugId\r\n          && row.data.rowIndexInPrescribedDrug === event.data.rowIndexInPrescribedDrug - 1) {\r\n          prevAndDoubleClickedRow[0] = row.data;\r\n          prevAndDoubleClickedRow[1] = event.data;\r\n        }\r\n        return null;\r\n      });\r\n      console.log('prevAndDoubleClickedRow: ', prevAndDoubleClickedRow);\r\n      setDoubleClickedRowAndBefore(prevAndDoubleClickedRow);\r\n      console.log('doubleClickedRowAndBefore: ', doubleClickedRowAndBefore);\r\n      setShowModal(true);\r\n      // dispatch({\r\n      //   type: OPEN_MODAL_FOR_EDITING_TABLE_ROW,\r\n      //   data: [event.api.getRowNode(`${parseFloat(event.node.id!) - 1}`)?.data, event.data],\r\n      // });\r\n    }\r\n    console.groupEnd();\r\n  };\r\n\r\n  const handleModalCancel = () => {\r\n    setShowModal(false);\r\n    // setDrugFromDoubleClickedRow(null);\r\n  };\r\n\r\n  const handleModalOk = () => {\r\n    setShowModal(false);\r\n    // setDrugFromDoubleClickedRow(null);\r\n  };\r\n\r\n  return (\r\n    <div className='ProjectedScheduleTable' css={css`\r\n      display: flex;\r\n      flex-direction: row;\r\n      height: 500px;\r\n      width: 100%;`}>\r\n      <div className='ag-theme-alpine'\r\n           css={css`\r\n             width: 100%;\r\n             flex-grow: 1;\r\n             overflow: hidden;\r\n\r\n             .ag-header-cell-label {\r\n               justify-content: center !important;\r\n             }\r\n\r\n             .ag-header-cell-text {\r\n               font-size: 0.8rem;\r\n             }\r\n\r\n             div[col-id='prescribe'] {\r\n               width: 10px;\r\n               padding: 0;\r\n               margin: auto;\r\n               justify-content: center;\r\n             }\r\n\r\n             .ag-selection-checkbox {\r\n               margin: 0 !important;\r\n             }\r\n           `}>\r\n        <AgGridReact\r\n          rowData={projectedSchedule.data}\r\n          defaultColDef={defaultColumnDef.current}\r\n          columnDefs={columnDefs.current}\r\n          rowSelection='multiple'\r\n          rowClassRules={rowClassRules.current}\r\n          rowHeight={40}\r\n          rowStyle={rowStyle.current}\r\n          onRowSelected={onRowSelected}\r\n          onRowDoubleClicked={editable ? openModal : undefined}\r\n          onRowDataChanged={onRowDataChanged}\r\n          onSelectionChanged={onSelectionChanged}\r\n          onFirstDataRendered={onFirstDataRendered}\r\n          onGridReady={onGridReady}\r\n          // onCellEditingStopped={onCellEditingStopped}\r\n          frameworkComponents={{ datePicker: DateEditor, numberEditor: NumberEditor }}\r\n          suppressDragLeaveHidesColumns={true}\r\n          suppressRowClickSelection={true}\r\n        />\r\n        {doubleClickedRowAndBefore\r\n        && showModal\r\n        && <ProjectedScheduleTableRowEditingModal\r\n          doubleClickedRowAndBefore={doubleClickedRowAndBefore}\r\n          visible={showModal} onCancel={handleModalCancel}\r\n          onOk={handleModalOk}/>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectedScheduleTable;\r\n","import ProjectedSchedule from './ProjectedSchedule';\r\nimport ProjectedScheduleTable from './ProjectedScheduleTable';\r\nimport ProjectedScheduleChart from './ProjectedScheduleChart';\r\n\r\nexport { ProjectedSchedule, ProjectedScheduleTable, ProjectedScheduleChart };\r\n","import { useCallback, useEffect, useState } from 'react';\r\n\r\ntype Type = (time: 'Prior'|'Upcoming', priorDosageQty: { [dosage: string]: number }, upcomingDosageQty: { [dosage: string]: number }) => [(string|null), number];\r\n\r\nconst useDosageSumDifferenceMessage: Type = (time, priorDosageQty, upcomingDosageQty) => {\r\n  const [dosageDifferenceMessage, setDosageDifferenceMessage] = useState<string|null>(null);\r\n\r\n  const calculateDosageSum = useCallback((dosages: { [key: string]: number }): number => Object\r\n    .entries(dosages)\r\n    .reduce((acc, [dosage, count]) => acc + parseFloat(dosage) * count, 0), []);\r\n\r\n  const [dosageSum, setDosageSum] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const priorDosageSum = calculateDosageSum(priorDosageQty);\r\n    const upcomingDosageSum = calculateDosageSum(upcomingDosageQty);\r\n    if (time === 'Upcoming') {\r\n      if (priorDosageSum === 0) {\r\n        setDosageDifferenceMessage(null);\r\n      }\r\n\r\n      if (priorDosageSum > upcomingDosageSum) { // decreasing -> decrease by rate\r\n        setDosageDifferenceMessage(`${Math.abs((upcomingDosageSum - priorDosageSum) / priorDosageSum * 100).toFixed(2)} % decrease`);\r\n      } else if (priorDosageSum < upcomingDosageSum) { // increasing -> increase by amount\r\n        setDosageDifferenceMessage(`${upcomingDosageSum - priorDosageSum} mg increase`);\r\n      } else {\r\n        setDosageDifferenceMessage(null);\r\n      }\r\n      setDosageSum(upcomingDosageSum);\r\n    } else {\r\n      setDosageSum(priorDosageSum);\r\n    }\r\n  }, [priorDosageQty, upcomingDosageQty]);\r\n\r\n  return [dosageDifferenceMessage, dosageSum];\r\n};\r\n\r\nexport default useDosageSumDifferenceMessage;\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { FC } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { StateInspector } from 'reinspect';\r\nimport App from './App';\r\nimport store from './redux/store';\r\n\r\nconst AppComponentOnMode: FC<{ component: JSX.Element, mode?: string }> = ({ component, mode }) => (mode && mode === 'production'\r\n  ? <>{component}</>\r\n  : <StateInspector name=\"PrescriptionForms\">{component}</StateInspector>);\r\nconst AppComponent: JSX.Element = <Provider store={store}><App/></Provider>;\r\n\r\nReactDOM.render(\r\n  <AppComponentOnMode component={AppComponent} mode={process.env.NODE_ENV}/>,\r\n  document.querySelector('#root'),\r\n);\r\n","import * as React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Route, Switch } from 'react-router';\r\nimport { GrNotification } from 'react-icons/gr';\r\nimport { css } from '@emotion/react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport NavBar from '../components/NavBar';\r\nimport PatientsList from '../components/PatientsList';\r\nimport {\r\n  LOAD_PATIENTS_REQUEST,\r\n  LoadPatientsRequestAction,\r\n} from '../redux/actions/user';\r\nimport { UserState } from '../redux/reducers/user';\r\nimport { RootState } from '../redux/reducers';\r\nimport PatientPage from './PatientPage';\r\n\r\nconst HomePage = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { me, patients, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    // if (!me) {\r\n    //   console.log('Move from HomePage to LoginPage');\r\n    //   history.push('/');\r\n    // } else {\r\n    dispatch<LoadPatientsRequestAction>({\r\n      type: LOAD_PATIENTS_REQUEST,\r\n      data: me!.id,\r\n    });\r\n    // }\r\n  }, [me]);\r\n\r\n  return (\r\n        <section css={css`\r\n          //flex: 1;\r\n          height: 100%;\r\n          `}>\r\n          <Switch>\r\n            <Route exact path=\"/\" render={() => <PatientsList patients={patients}/>}/>\r\n            <Route path=\"/patient/:patientId\" component={PatientPage}/>\r\n            {/* <Route path='/taper-configuration' */}\r\n            {/*       render={checkCurrentPatientAndRender(currentPatient, TaperConfigurationPage)}/> */}\r\n          </Switch>\r\n        </section>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import * as React from 'react';\r\n\r\nconst LoggingConfigurationPage = () => <div>Logging Configuration page</div>;\r\n\r\nexport default LoggingConfigurationPage;\r\n","import * as React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch } from 'react-redux';\r\nimport Input from 'antd/es/input';\r\nimport { css } from '@emotion/react';\r\nimport Button from 'antd/es/button';\r\nimport { LOGIN_REQUEST, LoginRequestAction } from '../redux/actions/user';\r\n\r\nconst LoginPage = () => {\r\n  const { register, handleSubmit } = useForm();\r\n  const dispatch = useDispatch();\r\n\r\n  // const onSubmit = (data: { email: string; password: string }) => {\r\n  const onSubmit = (data: { name: string }) => {\r\n    dispatch<LoginRequestAction>({\r\n      type: LOGIN_REQUEST,\r\n      data,\r\n    });\r\n  };\r\n  return (\r\n    <div css={css`display: flex;\r\n      height: 100%;\r\n      flex-direction: column;\r\n      justify-content: center;`}>\r\n        <div css={css`background-color: #0984E3;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          height: 30%;\r\n        `}>\r\n          <form css={css`width: 30%; transform: translateY(-10px)`} onSubmit={handleSubmit(onSubmit)}>\r\n            <h1 css={css`color: white;`}>AT Planner</h1>\r\n            <h3 css={css`color: white; margin-left: 5px;`}>Sign In</h3>\r\n            {/* <input type=\"email\" {...register('email', { required: true })} placeholder=\"Email address\" /> */}\r\n            {/* <input type=\"password\" {...register('password', { required: true })} placeholder=\"password\" /> */}\r\n            <div css={css`display: flex;`}>\r\n              <Input {...register('name', { required: true })} placeholder={'Please enter your name to sign in.'} />\r\n              <Button css={css`margin-left: 5px;`} htmlType='submit'>Sign In</Button>\r\n            </div>\r\n          </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import * as React from 'react';\r\nimport {\r\n  FC, useCallback, useEffect, useRef,\r\n} from 'react';\r\nimport { css } from '@emotion/react';\r\nimport Button from 'antd/es/button';\r\nimport Input from 'antd/es/input';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation } from 'react-router';\r\nimport { ProjectedScheduleChart, ProjectedScheduleTable } from '../components/Schedule';\r\nimport { RootState } from '../redux/reducers';\r\nimport { UserState } from '../redux/reducers/user';\r\nimport { TaperConfigState } from '../redux/reducers/taperConfig';\r\nimport { CHANGE_PATIENT_NOTES, SAVE_PATIENT_NOTES_REQUEST } from '../redux/actions/user';\r\n\r\nconst PatientLandingPage: FC = () => {\r\n  const history = useHistory();\r\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\r\n  const {\r\n    projectedSchedule,\r\n    scheduleChartData,\r\n    currentTaperConfigId,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n\r\n  const buttonStyle = useRef(css`\r\n    border-radius: 10px;\r\n    background-color: #0984E3;\r\n  `);\r\n\r\n  const onClickNewSchedule = useCallback(() => {\r\n    // history.push(`/taper-configuration/create/?clinicianId=${me!.id}&patientId=${currentPatient!.id}`);\r\n    history.push(`${location.pathname}/taper-configuration/create/`);\r\n  }, [me, currentPatient]);\r\n\r\n  const onClickAdjustSchedule = useCallback(() => {\r\n    history.push(`${location.pathname}/taper-configuration/edit`);\r\n  }, [currentPatient]);\r\n\r\n  const renderMedicationSchedule = useCallback(() => {\r\n    if (!currentPatient!.taperingConfiguration) {\r\n      return <p css={css`\r\n        //font-size: 20px;\r\n        font-size: 1rem;\r\n        color: #c7c5c5;\r\n        margin-top: 46px;\r\n      `}>No medication schedule created</p>;\r\n    }\r\n    return <div css={css`margin-top: 15px;`}>\r\n      <ProjectedScheduleTable editable={false}\r\n                              projectedSchedule={projectedSchedule!}/>\r\n    </div>;\r\n  }, [currentPatient]);\r\n\r\n  const onChangePatientNotes = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    dispatch({\r\n      type: CHANGE_PATIENT_NOTES,\r\n      data: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onClickNotesSaveButton = () => {\r\n    dispatch({\r\n      type: SAVE_PATIENT_NOTES_REQUEST,\r\n      data: { notes: currentPatient!.notes, patientId: currentPatient!.id },\r\n    });\r\n  };\r\n\r\n  const renderSymptomTracker = () => {\r\n    return <p css={css`\r\n      //font-size: 20px;\r\n      font-size: 1rem;\r\n      color: #c7c5c5;\r\n      margin-top: 46px;\r\n    `}>No symptom tracker configuration created.</p>;\r\n  };\r\n\r\n  const renderChart = useCallback(() => {\r\n    const chartAreaStyle = css`\r\n      width: 95%;\r\n      height: 360px;\r\n      border-radius: 17px;\r\n      color: #c7c5c5;\r\n      //font-size: 20px;\r\n      font-size: 1rem;\r\n      border: 1px solid #707070;\r\n      line-height: 300px;\r\n      text-align: center;\r\n    `;\r\n\r\n    if (scheduleChartData.length !== 0) {\r\n      return <div css={css`height: 400px;\r\n        margin-top: 56px;`}>\r\n        <ProjectedScheduleChart scheduleChartData={scheduleChartData} width={399} height={360}/>\r\n      </div>;\r\n    }\r\n\r\n    return <div>\r\n      <div css={chartAreaStyle}>No data.\r\n      </div>\r\n      <div css={css`\r\n        text-align: center;\r\n        //font-size: 20px;\r\n        font-size: 1rem;\r\n        color: #636e72;`}>Projected taper progress\r\n      </div>\r\n    </div>;\r\n  }, [scheduleChartData]);\r\n\r\n  const renderButton = useCallback(() => {\r\n    return currentPatient!.taperingConfiguration\r\n      ? <Button type='primary' css={buttonStyle.current} onClick={onClickAdjustSchedule}>Edit Schedule</Button>\r\n      : <Button type='primary' css={buttonStyle.current} onClick={onClickNewSchedule}>Create New</Button>;\r\n  }, [currentPatient]);\r\n\r\n  const renderNoteSection = () => {\r\n    return (\r\n      <>\r\n        <h3>Notes</h3>\r\n        <Input.TextArea\r\n          css={css`border-radius: 17px;`}\r\n          value={currentPatient!.notes || ''}\r\n          onChange={onChangePatientNotes}\r\n          rows={6}/>\r\n        <Button\r\n          onClick={onClickNotesSaveButton}\r\n          type={'primary'}\r\n          css={css`border-radius: 10px;\r\n            background-color: #0984E3;\r\n            margin-top: 5px;\r\n            float: right;`}>Save</Button>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div css={css`\r\n      overflow-y: scroll;\r\n\r\n      h3 {\r\n        //font-size: 26px;\r\n        font-size: 1.2rem;\r\n        color: #636272;\r\n      }`}\r\n         className='patient-initial'>\r\n      <div css={css`display: flex;\r\n        justify-content: space-between;`}>\r\n        <div css={css`\r\n          width: ${currentTaperConfigId === null ? '40%' : '65%'}`}>\r\n          {/* <div css={css`width: 447px;`}> */}\r\n          {/* <div css={css`width: 100%;`}> */}\r\n          <div css={css`display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;`}>\r\n            <h3>Medication Schedule</h3>\r\n            {renderButton()}\r\n          </div>\r\n          {renderMedicationSchedule()}\r\n          <div css={css`display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            margin-top: 76px;`}>\r\n            <h3>Symptom Tracker</h3>\r\n            <Button type='primary' css={css`border-radius: 10px;\r\n              background-color: #0984E3;`}>Create New</Button>\r\n          </div>\r\n          {renderSymptomTracker()}\r\n        </div>\r\n        <div css={css`padding-right: 20px;\r\n          width: 30%;`}>\r\n          {renderChart()}\r\n        </div>\r\n      </div>\r\n      <hr/>\r\n      {renderNoteSection()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientLandingPage;\r\n","import * as React from 'react';\r\nimport {\r\n  FC, useEffect,\r\n} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { RouteChildrenProps } from 'react-router/ts4.0';\r\nimport { useRouteMatch } from 'react-router';\r\nimport { css } from '@emotion/react';\r\nimport { format } from 'date-fns';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { UserState } from '../redux/reducers/user';\r\nimport { RootState } from '../redux/reducers';\r\nimport {\r\n  EMPTY_PRESCRIBED_DRUGS, EmptyPrescribedDrugs,\r\n  FETCH_TAPER_CONFIG_REQUEST,\r\n  FetchTaperConfigRequestAction,\r\n} from '../redux/actions/taperConfig';\r\nimport { SET_CURRENT_PATIENT, SetCurrentPatientAction } from '../redux/actions/user';\r\nimport { checkCurrentPatientAndRender } from './utils';\r\nimport TaperConfigurationPage from './TaperConfiguration/TaperConfigurationPage';\r\nimport PatientLandingPage from './PatientLandingPage';\r\n\r\nconst pageStyle = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n`;\r\n\r\nconst patientPageHeaderStyle = css`\r\n  & > h2 {\r\n    //font-size: 32px;\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n    margin: 0;\r\n  }\r\n\r\n  &:nth-child(2) {\r\n    //font-size: 20px;\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  & > hr {\r\n    border: none;\r\n    width: 100%;\r\n    height: 2px;\r\n    margin: 8px auto;\r\n    background-color: #D1D1D1;\r\n  }\r\n`;\r\nconst PatientPage: FC<RouteChildrenProps<{ patientId: string }>> = ({ match }) => {\r\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\r\n  const dispatch = useDispatch();\r\n  const { path, url } = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    const patientId = parseInt(match!.params.patientId, 10);\r\n\r\n    dispatch<SetCurrentPatientAction>({\r\n      type: SET_CURRENT_PATIENT,\r\n      data: patientId,\r\n    });\r\n\r\n    dispatch<FetchTaperConfigRequestAction>({\r\n      type: FETCH_TAPER_CONFIG_REQUEST,\r\n      data: { patientId, clinicianId: me!.id },\r\n    });\r\n\r\n    console.group('PatientPage');\r\n    console.log('url: ', url);\r\n    console.log('path: ', path);\r\n    console.groupEnd();\r\n    return () => {\r\n      dispatch<EmptyPrescribedDrugs>({\r\n        type: EMPTY_PRESCRIBED_DRUGS,\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!currentPatient ? <div>No such patient</div>\r\n        : <div css={pageStyle}>\r\n          <div css={patientPageHeaderStyle}>\r\n            <h2>{currentPatient.name}</h2>\r\n            <div>Last Visit: {format(currentPatient.recentVisit, 'MM/dd/yyyy')}</div>\r\n            <hr/>\r\n          </div>\r\n          <Switch>\r\n            <Route exact path={`${path}`} component={PatientLandingPage}/>\r\n            <Route path={`${path}/taper-configuration`}\r\n                   render={checkCurrentPatientAndRender(currentPatient, TaperConfigurationPage)}/>\r\n          </Switch>\r\n        </div>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PatientPage;\r\n","import * as React from 'react';\r\n\r\nconst SymptomReportPage = () => <div>Symptom Report page</div>;\r\n\r\nexport default SymptomReportPage;\r\n","import * as React from 'react';\r\nimport Button from 'antd/es/button';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  useCallback, useContext, useEffect, useRef,\r\n} from 'react';\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { css } from '@emotion/react';\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport {\r\n  SHARE_WITH_PATIENT_APP_REQUEST, SHARE_WITH_PATIENT_EMAIL_REQUEST,\r\n  TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT,\r\n} from '../../redux/actions/taperConfig';\r\nimport ProjectedSchedule from '../../components/Schedule/ProjectedSchedule';\r\nimport { ShareWithAppIcon, ShareWithEmailIcon, ShareWithPdfIcon } from '../../assets/icons';\r\nimport NotesToShare from '../../components/Schedule/NotesToShare';\r\n\r\nconst wrapperStyle = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nconst scheduleStyle = css`\r\n  width: 100%;\r\n  padding: 21px 38px 71px 38px;\r\n  background-color: white;\r\n  border-radius: 17px;\r\n  overflow-y: scroll;\r\n  margin-bottom: 34px;\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\r\n`;\r\n\r\nconst buttonStyle = css`\r\n  margin-bottom: 21px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > button {\r\n    width: 180px;\r\n    height: 38px;\r\n    border-radius: 10px;\r\n  };\r\n\r\n  & > button.return-to-patient-page {\r\n    width: 250px;\r\n}`;\r\n\r\n// TODO: remove shareProjectedScheduleWithPatient related parts\r\n\r\nconst ConfirmTaperConfiguration = () => {\r\n  const history = useHistory();\r\n  const { url } = useRouteMatch();\r\n  const urlSearchParams = useRef<URLSearchParams>(new URLSearchParams(useLocation().search));\r\n  const { isInputComplete, patientId } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  const dispatch = useDispatch();\r\n\r\n  const shareWithApp = useCallback(() => {\r\n    dispatch({\r\n      type: SHARE_WITH_PATIENT_APP_REQUEST,\r\n    });\r\n  }, []);\r\n\r\n  const shareWithEmail = useCallback(() => {\r\n    dispatch({\r\n      type: SHARE_WITH_PATIENT_EMAIL_REQUEST,\r\n    });\r\n  }, []);\r\n\r\n  const shareWithPdf = () => {\r\n\r\n  };\r\n\r\n  const moveToEditPage = () => {\r\n    history.push(url.replace('confirm', 'edit'));\r\n  };\r\n\r\n  const returnToPatientsPage = () => {\r\n    history.push(`/patient/${patientId}`);\r\n  };\r\n\r\n  return (\r\n    <div css={wrapperStyle}>\r\n      <div css={scheduleStyle}>\r\n        <h1 css={css`font-weight: bold; font-size: 1.5rem; text-align: center;`}>Prescription has been added.</h1>\r\n        <div css={css`margin-top: 44px;`}>\r\n          <h3>Share projected schedule and notes with patient</h3>\r\n          <div css={css`\r\n            display: flex;\r\n\r\n            & > button {\r\n              margin-right: 10px;\r\n              display: flex;\r\n              justify-content: center;\r\n              align-items: center;\r\n              flex-direction: column;\r\n            }`}>\r\n            <Button onClick={shareWithApp}>\r\n              App\r\n            </Button>\r\n            <Button onClick={shareWithEmail}>\r\n              E-mail\r\n            </Button>\r\n            <Button onClick={shareWithPdf}>\r\n              PDF\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <NotesToShare editable={false}/>\r\n      </div>\r\n      <div css={buttonStyle}>\r\n        <Button onClick={moveToEditPage}>Previous</Button>\r\n        <Button type='primary' className='return-to-patient-page' onClick={returnToPatientsPage}>Return to Patient Page</Button>\r\n      </div>\r\n    </div>);\r\n};\r\n\r\nexport default ConfirmTaperConfiguration;\r\n","import * as React from 'react';\r\nimport Button from 'antd/es/button';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  useCallback, useEffect, useRef,\r\n} from 'react';\r\nimport {\r\n  useHistory, useLocation,\r\n} from 'react-router';\r\nimport { css } from '@emotion/react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { PrescribedDrug } from '../../types';\r\nimport PrescriptionForm from '../../components/PrescriptionForm/PrescriptionForm';\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\nimport { ADD_NEW_DRUG_FORM } from '../../redux/actions/taperConfig';\r\n\r\nconst wrapperStyle = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  overflow-y: hidden;\r\n  //height: 100%;\r\n`;\r\n\r\nconst buttonsStyle = css`\r\n  margin-bottom: 21px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > button {\r\n    width: 180px;\r\n    height: 38px;\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nconst CreateTaperConfiguration = () => {\r\n  const {\r\n    prescribedDrugs,\r\n    isInputComplete,\r\n    patientId,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { path, url } = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    console.group('CreateTaperConfiguration');\r\n    console.log('history: ', history);\r\n    console.log('location: ', location);\r\n    console.log('path: ', path);\r\n    console.log('url: ', url);\r\n    console.groupEnd();\r\n  });\r\n\r\n  const addNewPrescriptionForm = useCallback(() => {\r\n    dispatch({\r\n      type: ADD_NEW_DRUG_FORM,\r\n      data: null,\r\n    });\r\n  }, []);\r\n\r\n  const prescriptionFormStyle = css`\r\n    padding-top: ${prescribedDrugs && prescribedDrugs.length !== 0 ? '25px' : '0px'};\r\n    background-color: white;\r\n    border-radius: 17px;\r\n    height: 100%;\r\n    overflow-y: scroll;\r\n    margin-bottom: 34px;\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\r\n  `;\r\n\r\n  const moveToEditPage = () => {\r\n    // TODO: continue from here - it makes taper-configuration/create/taper-configuration/edit..\r\n    history.push(url.replace('create', 'edit'));\r\n  };\r\n\r\n  const renderPrescriptionForms = (prescribedDrugs: PrescribedDrug[]) => {\r\n    const drugsToRender = prescribedDrugs.filter((prescribedDrug) => !prescribedDrug.prevVisit && !prescribedDrug.isModal);\r\n\r\n    return drugsToRender.map(\r\n      (drug, i) => {\r\n        return <PrescriptionForm\r\n          key={`PrescriptionForm${drug.id}`}\r\n          prescribedDrug={drug}\r\n          addNewPrescriptionForm={addNewPrescriptionForm}\r\n          // index={i}\r\n          modal={{ isModal: false }}\r\n          title={`Medication #${i + 1}`}\r\n          numberOfMedications={drugsToRender.length}/>;\r\n      },\r\n    );\r\n  };\r\n\r\n  const moveToPatientPage = () => {\r\n    history.push(`/patient/${patientId}`);\r\n  };\r\n  return (\r\n    <div\r\n      className='create-taper-configuration'\r\n      css={wrapperStyle}>\r\n      <div className='create-taper-configuration-prescription-forms' css={prescriptionFormStyle}>\r\n        {prescribedDrugs && renderPrescriptionForms(prescribedDrugs)}\r\n      </div>\r\n      <div css={buttonsStyle} className='create-taper-config-buttons'>\r\n        <Button onClick={moveToPatientPage}>Cancel</Button>\r\n        <Button css={css`background-color: #0984E3;`} type='primary' onClick={moveToEditPage}\r\n                disabled={!isInputComplete}>Next</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateTaperConfiguration;\r\n","import * as React from 'react';\r\nimport Button from 'antd/es/button';\r\nimport { useEffect } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { css } from '@emotion/react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ProjectedSchedule from '../../components/Schedule/ProjectedSchedule';\r\nimport NotesToShare from '../../components/Schedule/NotesToShare';\r\nimport {\r\n  ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\r\n  CLEAR_SCHEDULE,\r\n  MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\r\n} from '../../redux/actions/taperConfig';\r\nimport { RootState } from '../../redux/reducers';\r\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\r\n\r\nconst wrapperStyle = css`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst projectedScheduleStyle = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: scroll;\r\n  width: 100%;\r\n  background-color: white;\r\n  padding: 21px 38px 71px 38px;\r\n  border-radius: 17px;\r\n  margin-bottom: 34px;\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\r\n`;\r\n\r\nconst buttonStyle = css`\r\n  margin-bottom: 21px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > button {\r\n    width: 180px;\r\n    height: 38px;\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nconst EditTaperConfiguration = () => {\r\n  const history = useHistory();\r\n  const { url } = useRouteMatch();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    clinicianId,\r\n    patientId,\r\n    currentTaperConfigId,\r\n    instructionsForPatient,\r\n    instructionsForPharmacy,\r\n    projectedSchedule,\r\n    scheduleChartData,\r\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\r\n    });\r\n  }, []);\r\n\r\n  const moveToPrevious = () => {\r\n    if (url.includes('revisit')) {\r\n      history.goBack();\r\n    } else {\r\n      history.push(url.replace('edit', 'create'));\r\n    }\r\n    dispatch({\r\n      type: CLEAR_SCHEDULE,\r\n    });\r\n  };\r\n\r\n  const saveTaperConfigurationAndMoveToConfirmPage = () => {\r\n    dispatch({\r\n      type: ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\r\n      data: {\r\n        currentTaperConfigId,\r\n        clinicianId,\r\n        patientId,\r\n        projectedSchedule,\r\n        scheduleChartData,\r\n        instructionsForPharmacy,\r\n        instructionsForPatient,\r\n      },\r\n    });\r\n    history.push(url.replace('edit', 'confirm'));\r\n  };\r\n\r\n  return (\r\n    <div css={wrapperStyle}>\r\n      <div css={projectedScheduleStyle}>\r\n        {/* <Prompt when={!isSaved} */}\r\n        {/*        message={'Are you sure you want to leave?'}/> */}\r\n        <ProjectedSchedule title={'Projected Schedule based on the rates of reduction you specified'}\r\n                           editable={true}/>\r\n        <NotesToShare editable={true}/>\r\n      </div>\r\n      <div css={buttonStyle}>\r\n        <Button onClick={moveToPrevious}>Previous</Button>\r\n        <Button css={css`background-color: #0984E3;`} type='primary'\r\n                onClick={saveTaperConfigurationAndMoveToConfirmPage}>Save</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditTaperConfiguration;\r\n","import * as React from 'react';\r\nimport {\r\n  useEffect, useRef, useState,\r\n} from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  useLocation, useRouteMatch,\r\n} from 'react-router';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { css } from '@emotion/react';\r\nimport { RootState } from '../../redux/reducers';\r\nimport {\r\n  FETCH_TAPER_CONFIG_REQUEST,\r\n  FetchTaperConfigRequestAction,\r\n  INIT_NEW_TAPER_CONFIG,\r\n  InitTaperConfigAction,\r\n  EMPTY_TAPER_CONFIG_PAGE,\r\n  EmptyTaperConfigPage,\r\n} from '../../redux/actions/taperConfig';\r\nimport { CreateTaperConfiguration, EditTaperConfiguration, ConfirmTaperConfiguration } from './index';\r\nimport { UserState } from '../../redux/reducers/user';\r\nimport { checkCurrentPatientAndRender } from '../utils';\r\n\r\nconst navTextStyle = css`\r\n  display: flex;\r\n  font-family: Verdana;\r\n  font-size: 1rem;\r\n  color: #636E72;\r\n  margin-bottom: 20px;\r\n\r\n  & > div {\r\n    margin-right: 22px;\r\n  }\r\n`;\r\n\r\nconst TaperConfigurationPage = () => {\r\n  const dispatch = useDispatch();\r\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\r\n  const urlSearchParams = useRef<URLSearchParams>(new URLSearchParams(useLocation().search));\r\n  const { path, url } = useRouteMatch();\r\n  const location = useLocation();\r\n  const [step, setStep] = useState<1 | 2 | 3>(1);\r\n  const titles = useRef<['Create', 'Prescribe', 'Share']>(['Create', 'Prescribe', 'Share']);\r\n\r\n  useEffect(() => {\r\n    console.group('TaperConfigurationPage');\r\n    const id = urlSearchParams.current.get('id');\r\n    console.log('id: ', id);\r\n    console.log('path: ', path);\r\n    console.log('url: ', url);\r\n    console.groupEnd();\r\n\r\n    if (id) {\r\n      dispatch<FetchTaperConfigRequestAction>({\r\n        type: FETCH_TAPER_CONFIG_REQUEST,\r\n        data: { clinicianId: me!.id, patientId: currentPatient!.id },\r\n      });\r\n    } else {\r\n      dispatch<InitTaperConfigAction>({\r\n        type: INIT_NEW_TAPER_CONFIG,\r\n        data: {\r\n          clinicianId: me!.id,\r\n          patientId: currentPatient!.id,\r\n        },\r\n      });\r\n    }\r\n    return () => {\r\n      // dispatch<EmptyTaperConfigPage>({\r\n      //   type: EMPTY_TAPER_CONFIG_PAGE,\r\n      // });\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes('create')) {\r\n      setStep(1);\r\n    } else if (location.pathname.includes('edit')) {\r\n      setStep(2);\r\n    } else {\r\n      setStep(3);\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    console.group('TaperConfigurationPage Url/location');\r\n    console.log('location: ', location);\r\n    console.log(url);\r\n    console.groupEnd();\r\n  });\r\n\r\n  const assignStyle = (stepNumber: number) => {\r\n    return css`\r\n      ${stepNumber === step ? 'color: #0984E3; font-weight: bold;' : 'color: 636E72; font-weight: normal;'}`;\r\n  };\r\n\r\n  return (\r\n    <div css={css`\r\n      //height: calc(100vh - 307px);\r\n      height: calc(100vh - 255px);\r\n    `} className='taper-configuration'>\r\n      <div css={css`\r\n        font-size: 1.2rem;\r\n        color: #0984E3;\r\n        font-weight: bold;\r\n        margin-bottom: 5px;\r\n\r\n        & > hr {\r\n          border: none;\r\n          width: 100%;\r\n          height: 2px;\r\n          margin: 5px auto;\r\n          background-color: #D1D1D1;\r\n        }`}>\r\n        {titles.current[step - 1]}\r\n        <hr/>\r\n      </div>\r\n      <div css={css`display: flex;\r\n        height: calc(100% - 55px);\r\n      `} className='taper-configuration-pages'>\r\n        <Switch>\r\n          <Route path={`${path}/create`}\r\n                 render={checkCurrentPatientAndRender(currentPatient, CreateTaperConfiguration)}/>\r\n          <Route path={`${path}/edit`} render={checkCurrentPatientAndRender(currentPatient, EditTaperConfiguration)}/>\r\n          <Route path={`${path}/confirm`}\r\n                 render={checkCurrentPatientAndRender(currentPatient, ConfirmTaperConfiguration)}/>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaperConfigurationPage;\r\n","import TaperConfigurationPage from './TaperConfigurationPage';\r\nimport CreateTaperConfiguration from './CreateTaperConfiguration';\r\nimport EditTaperConfiguration from './EditTaperConfiguration';\r\nimport ConfirmTaperConfiguration from './ConfirmTaperConfiguration';\r\n\r\nexport {\r\n  TaperConfigurationPage, CreateTaperConfiguration, EditTaperConfiguration, ConfirmTaperConfiguration,\r\n};\r\n","import { Link, Redirect, RouteComponentProps } from 'react-router-dom';\r\nimport * as React from 'react';\r\nimport { FC } from 'react';\r\nimport { UserState } from '../redux/reducers/user';\r\n\r\nexport const checkCurrentPatientAndRender = (currentPatient: UserState['currentPatient'], Component: FC) => (props: RouteComponentProps) => {\r\n  return currentPatient ? <Component /> : <Redirect to={'/'}/>;\r\n};\r\n\r\nexport const checkAndRenderLink = (currentPatient: UserState['currentPatient'], link: string, title: string) => {\r\n  return currentPatient ? <Link to={link}>{title}</Link> : null;\r\n};\r\n","import { CellEditingStoppedEvent } from 'ag-grid-community';\r\nimport {\r\n  PrescribedDrug, Prescription, TableRowData, TaperingConfiguration,\r\n} from '../../types';\r\nimport { Schedule } from '../../components/Schedule/ProjectedSchedule';\r\nimport { ScheduleChartData } from '../reducers/utils';\r\n\r\nexport const GENERATE_SCHEDULE = 'GENERATE_SCHEDULE' as const;\r\nexport const CLEAR_SCHEDULE = 'CLEAR_SCHEDULE' as const;\r\n\r\nexport interface GenerateScheduleAction {\r\n  type: typeof GENERATE_SCHEDULE,\r\n  data: PrescribedDrug[]\r\n}\r\n\r\nexport interface ClearScheduleAction {\r\n  type: typeof CLEAR_SCHEDULE\r\n}\r\n\r\nexport const UPDATE_CHART = 'UPDATE_CHART' as const;\r\n\r\nexport interface UpdateChartAction {\r\n  type: typeof UPDATE_CHART,\r\n}\r\n\r\nexport const INIT_NEW_TAPER_CONFIG = 'INIT_NEW_TAPER_CONFIG' as const;\r\n\r\nexport interface InitTaperConfigAction {\r\n  type: typeof INIT_NEW_TAPER_CONFIG,\r\n  data: { clinicianId: number, patientId: number }\r\n}\r\n\r\nexport const EMPTY_TAPER_CONFIG_PAGE = 'EMPTY_TAPER_CONFIG_PAGE' as const;\r\n\r\nexport interface EmptyTaperConfigPage {\r\n  type: typeof EMPTY_TAPER_CONFIG_PAGE,\r\n}\r\n\r\nexport const EMPTY_PRESCRIBED_DRUGS = 'EMPTY_PRESCRIBED_DRUGS' as const;\r\n\r\nexport interface EmptyPrescribedDrugs {\r\n  type: typeof EMPTY_PRESCRIBED_DRUGS\r\n}\r\n\r\nexport const ADD_OR_UPDATE_TAPER_CONFIG_REQUEST = 'ADD_OR_UPDATE_TAPER_CONFIG_REQUEST' as const;\r\nexport const ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS = 'ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS' as const;\r\nexport const ADD_OR_UPDATE_TAPER_CONFIG_FAILURE = 'ADD_OR_UPDATE_TAPER_CONFIG_FAILURE' as const;\r\n\r\nexport interface AddOrUpdateTaperConfigRequestAction {\r\n  type: typeof ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\r\n  data: Omit<TaperingConfiguration, 'id'|'createdAt'> & { taperConfigId?: number }\r\n}\r\n\r\nexport const addOrUpdateTaperConfigRequest = (data: AddOrUpdateTaperConfigRequestAction['data']): AddOrUpdateTaperConfigRequestAction => ({\r\n  type: ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\r\n  data,\r\n});\r\n\r\nexport interface AddOrUpdateTaperConfigSuccessAction {\r\n  type: typeof ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\r\n  data: TaperingConfiguration\r\n}\r\n\r\nexport interface AddOrUpdateTaperConfigFailureAction {\r\n  type: typeof ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\r\n  error: any;\r\n}\r\n\r\nexport type AddOrUpdateTaperConfigAyncActions =\r\n  | AddOrUpdateTaperConfigRequestAction\r\n  | AddOrUpdateTaperConfigSuccessAction\r\n  | AddOrUpdateTaperConfigFailureAction;\r\n\r\nexport const ADD_NEW_DRUG_FORM = 'ADD_NEW_DRUG_FORM' as const;\r\nexport const REMOVE_DRUG_FORM = 'REMOVE_DRUG_FORM' as const;\r\n\r\nexport interface AddNewDrugFormAction {\r\n  type: typeof ADD_NEW_DRUG_FORM\r\n  data: PrescribedDrug | null;\r\n}\r\n\r\nexport interface RemoveDrugFormAction {\r\n  type: typeof REMOVE_DRUG_FORM,\r\n  data?: number;\r\n}\r\n\r\nexport const SCHEDULE_ROW_SELECTED = 'SCHEDULE_ROW_SELECTED' as const;\r\n\r\nexport interface ScheduleRowSelectedAction {\r\n  type: typeof SCHEDULE_ROW_SELECTED,\r\n  data: (number | null)[];\r\n}\r\n\r\nexport const FETCH_TAPER_CONFIG_REQUEST = 'FETCH_TAPER_CONFIG_REQUEST' as const;\r\nexport const FETCH_TAPER_CONFIG_SUCCESS = 'FETCH_TAPER_CONFIG_SUCCESS' as const;\r\nexport const FETCH_TAPER_CONFIG_FAILURE = 'FETCH_TAPER_CONFIG_FAILURE' as const;\r\n\r\nexport interface FetchTaperConfigRequestAction {\r\n  type: typeof FETCH_TAPER_CONFIG_REQUEST,\r\n  data: { clinicianId: number, patientId: number };\r\n}\r\n\r\nexport interface FetchTaperConfigSuccessAction {\r\n  type: typeof FETCH_TAPER_CONFIG_SUCCESS\r\n  data: TaperingConfiguration;\r\n}\r\n\r\nexport interface FetchTaperConfigFailureAction {\r\n  type: typeof FETCH_TAPER_CONFIG_FAILURE\r\n  error: any;\r\n}\r\n\r\nexport type FetchTaperConfigAsyncActions =\r\n  | FetchTaperConfigRequestAction\r\n  | FetchTaperConfigSuccessAction\r\n  | FetchTaperConfigFailureAction;\r\n\r\nexport const FETCH_PRESCRIBED_DRUGS_REQUEST = 'FETCH_PRESCRIBED_DRUGS_REQUEST' as const;\r\nexport const FETCH_PRESCRIBED_DRUGS_SUCCESS = 'FETCH_PRESCRIBED_DRUGS_SUCCESS' as const;\r\nexport const FETCH_PRESCRIBED_DRUGS_FAILURE = 'FETCH_PRESCRIBED_DRUGS_FAILURE' as const;\r\n\r\nexport interface FetchPrescribedDrugsRequestAction {\r\n  type: typeof FETCH_PRESCRIBED_DRUGS_REQUEST,\r\n  data: number; // tapering configuration id\r\n}\r\n\r\nexport interface FetchPrescribedDrugsSuccessAction {\r\n  type: typeof FETCH_PRESCRIBED_DRUGS_SUCCESS,\r\n  data: PrescribedDrug[];\r\n}\r\n\r\nexport interface FetchPrescribedDrugsFailureAction {\r\n  type: typeof FETCH_PRESCRIBED_DRUGS_FAILURE,\r\n  error: any;\r\n}\r\n\r\nexport type FetchPrescribedDrugAsyncActions =\r\n  | FetchPrescribedDrugsRequestAction\r\n  | FetchPrescribedDrugsSuccessAction\r\n  | FetchPrescribedDrugsFailureAction;\r\n\r\nexport const SHARE_WITH_PATIENT_APP_REQUEST = 'SHARE_WITH_PATIENT_APP_REQUEST' as const;\r\nexport const SHARE_WITH_PATIENT_APP_SUCCESS = 'SHARE_WITH_PATIENT_APP_SUCCESS' as const;\r\nexport const SHARE_WITH_PATIENT_APP_FAILURE = 'SHARE_WITH_PATIENT_APP_FAILURE' as const;\r\n\r\nexport interface ShareWithPatientAppRequest {\r\n  type: typeof SHARE_WITH_PATIENT_APP_REQUEST;\r\n  data: { patientId: number; clinicianId: number }\r\n}\r\n\r\nexport interface ShareWithPatientAppSuccess {\r\n  type: typeof SHARE_WITH_PATIENT_APP_SUCCESS;\r\n}\r\n\r\nexport interface ShareWithPatientAppFailure {\r\n  type: typeof SHARE_WITH_PATIENT_APP_FAILURE,\r\n  error: any;\r\n}\r\n\r\nexport type ShareWithPatientAppAsyncActions =\r\n  | ShareWithPatientAppRequest\r\n  | ShareWithPatientAppSuccess\r\n  | ShareWithPatientAppFailure;\r\n\r\nexport const SHARE_WITH_PATIENT_EMAIL_REQUEST = 'SHARE_WITH_PATIENT_EMAIL_REQUEST' as const;\r\nexport const SHARE_WITH_PATIENT_EMAIL_SUCCESS = 'SHARE_WITH_PATIENT_EMAIL_SUCCESS' as const;\r\nexport const SHARE_WITH_PATIENT_EMAIL_FAILURE = 'SHARE_WITH_PATIENT_EMAIL_FAILURE' as const;\r\n\r\nexport interface ShareWithPatientEmailRequest {\r\n  type: typeof SHARE_WITH_PATIENT_EMAIL_REQUEST,\r\n  data: { patientId: number; clinicianId: number }\r\n}\r\n\r\nexport interface ShareWithPatientEmailSuccess {\r\n  type: typeof SHARE_WITH_PATIENT_EMAIL_SUCCESS\r\n}\r\n\r\nexport interface ShareWithPatientEmailFailure {\r\n  type: typeof SHARE_WITH_PATIENT_EMAIL_FAILURE;\r\n  error: any;\r\n}\r\n\r\nexport type ShareWithPatientEmailAsyncActions =\r\n  | ShareWithPatientEmailRequest\r\n  | ShareWithPatientEmailSuccess\r\n  | ShareWithPatientEmailFailure;\r\n\r\nexport const TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT = 'TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT' as const;\r\n\r\nexport interface ToggleShareProjectedScheduleWithPatient {\r\n  type: typeof TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT;\r\n}\r\n\r\nexport const CHANGE_MESSAGE_FOR_PATIENT = 'CHANGE_MESSAGE_FOR_PATIENT' as const;\r\n\r\nexport interface ChangeMessageForPatient {\r\n  type: typeof CHANGE_MESSAGE_FOR_PATIENT,\r\n  data: string;\r\n}\r\n\r\nexport const changeMessageForPatient = (data: ChangeMessageForPatient['data']): ChangeMessageForPatient => ({\r\n  type: CHANGE_MESSAGE_FOR_PATIENT,\r\n  data,\r\n});\r\n\r\nexport const CHANGE_NOTE_AND_INSTRUCTIONS = 'CHANGE_NOTE_AND_INSTRUCTIONS' as const;\r\n\r\nexport interface ChangeNoteAndInstructions {\r\n  type: typeof CHANGE_NOTE_AND_INSTRUCTIONS,\r\n  data: string;\r\n}\r\n\r\nexport const changeNoteAndInstructions = (data: ChangeNoteAndInstructions['data']): ChangeNoteAndInstructions => ({\r\n  type: CHANGE_NOTE_AND_INSTRUCTIONS,\r\n  data,\r\n});\r\n\r\nexport const FINAL_PRESCRIPTION_QUANTITY_CHANGE = 'FINAL_PRESCRIPTION_QUANTITY_CHANGE' as const;\r\n\r\nexport interface FinalPrescriptionQuantityChange {\r\n  type: typeof FINAL_PRESCRIPTION_QUANTITY_CHANGE,\r\n  data: { id: number, dosage: string, quantity: number }\r\n}\r\n\r\nexport const finalPrescriptionQuantityChange = (data: FinalPrescriptionQuantityChange['data']): FinalPrescriptionQuantityChange => ({\r\n  type: FINAL_PRESCRIPTION_QUANTITY_CHANGE,\r\n  data,\r\n});\r\n\r\nexport const TABLE_START_DATE_EDITED = 'TABLE_START_DATE_EDITED' as const;\r\n\r\nexport interface TableStartDateEditedAction {\r\n  type: typeof TABLE_START_DATE_EDITED;\r\n  data: CellEditingStoppedEvent;\r\n}\r\n\r\nexport const TABLE_END_DATE_EDITED = 'TABLE_END_DATE_EDITED' as const;\r\n\r\nexport interface TableEndDateEditedAction {\r\n  type: typeof TABLE_END_DATE_EDITED,\r\n  data: CellEditingStoppedEvent;\r\n}\r\n\r\nexport const TABLE_DOSAGE_EDITED = 'TABLE_DOSAGE_EDITED' as const;\r\n\r\nexport interface TableDosageEditedAction {\r\n  type: typeof TABLE_DOSAGE_EDITED,\r\n  data: CellEditingStoppedEvent;\r\n}\r\n\r\nexport type TableEditingAction =\r\n  | TableStartDateEditedAction\r\n  | TableEndDateEditedAction\r\n  | TableDosageEditedAction;\r\n\r\nexport const SET_IS_INPUT_COMPLETE = 'SET_IS_INPUT_COMPLETE' as const;\r\n\r\nexport interface SetIsInputComplete {\r\n  type: typeof SET_IS_INPUT_COMPLETE,\r\n  data: { isComplete: boolean }\r\n}\r\n\r\nexport const VALIDATE_INPUT_COMPLETION = 'VALIDATE_INPUT_COMPLETION' as const;\r\n\r\nexport interface ValidateInputCompletionAction {\r\n  type: typeof VALIDATE_INPUT_COMPLETION;\r\n}\r\n\r\nexport const EDIT_PROJECTED_SCHEDULE_FROM_MODAL = 'EDIT_PROJECTED_SCHEDULE_FROM_MODAL';\r\n\r\nexport interface EditProjectedScheduleFromModal {\r\n  type: typeof EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\r\n  data: { prevRow: TableRowData, doubleClickedRow: TableRowData; prescribedDrug: PrescribedDrug }\r\n}\r\n\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport interface OpenModalAction {\r\n  type: typeof OPEN_MODAL,\r\n  data: { prevRow: TableRowData, doubleClickedRow: TableRowData, drugFromRows: PrescribedDrug }\r\n}\r\n\r\nexport const MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE = 'MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE';\r\nexport interface MoveFromCreateToPrescribePage {\r\n  type: typeof MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE;\r\n}\r\n","import { Clinician, Patient } from '../../types';\r\n\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST' as const;\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS' as const;\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE' as const;\r\n\r\nexport interface LoginRequestAction {\r\n  type: typeof LOGIN_REQUEST;\r\n  // data: { email: string; password: string }\r\n  data: { name: string };\r\n}\r\n\r\nexport interface LoginSuccessAction {\r\n  type: typeof LOGIN_SUCCESS;\r\n  data: Omit<Clinician, 'password'>\r\n}\r\n\r\nexport interface LoginFailureAction {\r\n  type: typeof LOGIN_FAILURE;\r\n  error: any;\r\n}\r\n\r\nexport type LoginActions =\r\n  | LoginRequestAction\r\n  | LoginSuccessAction\r\n  | LoginFailureAction;\r\n\r\nexport const ADD_NEW_PATIENT_REQUEST = 'ADD_NEW_PATIENT' as const;\r\nexport const ADD_NEW_PATIENT_SUCCESS = 'ADD_NEW_PATIENT_SUCCESS' as const;\r\nexport const ADD_NEW_PATIENT_FAILURE = 'ADD_NEW_PATIENT_FAILURE' as const;\r\n\r\nexport interface AddNewPatientRequest {\r\n  type: typeof ADD_NEW_PATIENT_REQUEST,\r\n  data: { name: string; email: string }\r\n}\r\n\r\nexport interface AddNewPatientSuccess {\r\n  type: typeof ADD_NEW_PATIENT_SUCCESS,\r\n  data: Omit<Patient, 'password'>\r\n}\r\n\r\nexport interface AddNewPatientFailure {\r\n  type: typeof ADD_NEW_PATIENT_FAILURE,\r\n  error: any;\r\n}\r\n\r\nexport type AddNewPatientActions =\r\n  | AddNewPatientRequest\r\n  | AddNewPatientSuccess\r\n  | AddNewPatientFailure;\r\n\r\nexport const LOAD_PATIENTS_REQUEST = 'LOAD_PATIENTS_REQUEST' as const;\r\nexport const LOAD_PATIENTS_SUCCESS = 'LOAD_PATIENTS_SUCCESS' as const;\r\nexport const LOAD_PATIENTS_FAILURE = 'LOAD_PATIENTS_FAILURE' as const;\r\n\r\nexport interface LoadPatientsRequestAction {\r\n  type: typeof LOAD_PATIENTS_REQUEST,\r\n  data: number; // clinician id\r\n}\r\n\r\nexport interface LoadPatientsSuccessAction {\r\n  type: typeof LOAD_PATIENTS_SUCCESS,\r\n  // data: Omit<Patient, 'password'|'taperConfigurations'>[];\r\n  data: Omit<Patient, 'password'>[]\r\n}\r\n\r\nexport interface LoadPatientsFailureAction {\r\n  type: typeof LOAD_PATIENTS_FAILURE,\r\n  error: any;\r\n}\r\n\r\nexport type LoadPatientsActions =\r\n  | LoadPatientsRequestAction\r\n  | LoadPatientsSuccessAction\r\n  | LoadPatientsFailureAction;\r\n\r\nexport const SET_CURRENT_PATIENT = 'SET_CURRENT_PATIENT' as const;\r\n\r\nexport interface SetCurrentPatientAction {\r\n  type: typeof SET_CURRENT_PATIENT,\r\n  data: number;\r\n}\r\n\r\nexport const CHANGE_PATIENT_NOTES = 'CHANGE_PATIENT_NOTES' as const;\r\n\r\nexport interface ChangePatientNotes {\r\n  type: typeof CHANGE_PATIENT_NOTES,\r\n  data: string\r\n}\r\n\r\nexport const SAVE_PATIENT_NOTES_REQUEST = 'SAVE_PATIENT_NOTES_REQUEST' as const;\r\nexport const SAVE_PATIENT_NOTES_SUCCESS = 'SAVE_PATIENT_NOTES_SUCCESS' as const;\r\nexport const SAVE_PATIENT_NOTES_FAILURE = 'SAVE_PATIENT_NOTES_FAILURE' as const;\r\n\r\nexport interface SavePatientNotesRequestAction {\r\n  type: typeof SAVE_PATIENT_NOTES_REQUEST,\r\n  data: { notes: string, patientId: number }\r\n}\r\n\r\nexport interface SavePatientNotesSuccessAction {\r\n  type: typeof SAVE_PATIENT_NOTES_SUCCESS\r\n  data: { notes: string, patientId: number }\r\n}\r\n\r\nexport interface SavePatientNotesFailureAction {\r\n  type: typeof SAVE_PATIENT_NOTES_FAILURE,\r\n  error: any,\r\n}\r\n\r\nexport type SavePatientNotesActions =\r\n  | SavePatientNotesRequestAction\r\n  | SavePatientNotesSuccessAction\r\n  | SavePatientNotesFailureAction;\r\n","import {\r\n  CapsuleOrTabletForm, Drug, OralDosage, OralForm,\r\n} from '../../types';\r\n\r\nconst drugs: Drug[] = [\r\n  {\r\n    name: 'Fluoxetine',\r\n    halfLife: 'Fluoxetine: 4-6 days\\nNorfluoxetine (active metabolite): 4-16 days',\r\n    options:\r\n      [\r\n        {\r\n          brand: 'generic (Prozac / Fluoxetine)',\r\n          forms: [\r\n            {\r\n              // form: 'bottle of oral solution',\r\n              form: 'oral solution',\r\n              dosages: { bottles: ['120ml'], rate: { mg: 4, ml: 1 } } as OralDosage,\r\n              measureUnit: 'mg',\r\n            } as OralForm,\r\n            {\r\n              form: 'capsule',\r\n              dosages: [{ dosage: '10mg' }, { dosage: '20mg' }, { dosage: '40mg' }],\r\n              measureUnit: 'mg',\r\n            } as CapsuleOrTabletForm,\r\n            {\r\n              form: 'tablet',\r\n              dosages: [{ dosage: '10mg', isScored: true }, { dosage: '20mg', isScored: true }, { dosage: '60mg', isScored: true }],\r\n              measureUnit: 'mg',\r\n            } as CapsuleOrTabletForm,\r\n          ],\r\n        },\r\n        {\r\n          brand: 'Prozac',\r\n          forms: [\r\n            {\r\n              form: 'capsule',\r\n              dosages: [{ dosage: '10mg' }, { dosage: '20mg' }, { dosage: '40mg' }],\r\n              measureUnit: 'mg',\r\n            } as CapsuleOrTabletForm,\r\n          ],\r\n        },\r\n      ],\r\n  },\r\n  {\r\n    name: 'Citalopram',\r\n    halfLife: '35 hours',\r\n    options: [\r\n      {\r\n        brand: 'generic (Celexa / Citalopram)',\r\n        forms: [\r\n          {\r\n            // form: 'ml of oral solution',\r\n            form: 'oral solution',\r\n            dosages: {\r\n              rate: { ml: 1, mg: 2 },\r\n              bottles: ['75ml', '150ml', '240ml', '300ml', '450ml',\r\n              ],\r\n            },\r\n            measureUnit: 'mg',\r\n          } as OralForm,\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '10mg', isScored: false },\r\n              { dosage: '20mg', isScored: true },\r\n              { dosage: '40mg', isScored: true }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n      {\r\n        brand: 'Celexa',\r\n        forms: [\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '10mg', isScored: false },\r\n              { dosage: '20mg', isScored: true },\r\n              { dosage: '40mg', isScored: true }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'Sertraline',\r\n    halfLife: '24 hours',\r\n    options: [\r\n      {\r\n        brand: 'generic (Zoloft / Sertraline)',\r\n        forms: [\r\n          {\r\n            form: 'oral solution',\r\n            dosages: {\r\n              rate: { ml: 1, mg: 20 },\r\n              bottles: ['60ml'],\r\n            },\r\n            measureUnit: 'mg',\r\n          } as OralForm,\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '25mg', isScored: true },\r\n              { dosage: '50mg', isScored: true },\r\n              { dosage: '100mg', isScored: true }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n      {\r\n        brand: 'Zoloft',\r\n        forms: [\r\n          {\r\n            form: 'oral solution',\r\n            dosages: {\r\n              rate: { ml: 1, mg: 20 },\r\n              bottles: ['60ml'],\r\n            },\r\n            measureUnit: 'ml',\r\n          } as OralForm,\r\n          {\r\n            form: 'tablet',\r\n            dosages: [{ dosage: '25mg', isScored: true },\r\n              { dosage: '50mg', isScored: true },\r\n              { dosage: '100mg', isScored: true }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n    ],\r\n  }, {\r\n    name: 'Paroxetine',\r\n    halfLife: '21 hours',\r\n    options: [\r\n      {\r\n        brand: 'generic (Brisdelle / Paxil / Paroxetine)',\r\n        forms: [\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '10mg', isScored: true },\r\n              { dosage: '20mg', isScored: true },\r\n              { dosage: '30mg', isScored: false },\r\n              { dosage: '40mg', isScored: false }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n      {\r\n        brand: 'Paxil',\r\n        forms: [\r\n          {\r\n            form: 'oral suspension',\r\n            dosages: {\r\n              rate: { ml: 1, mg: 2 },\r\n              bottles: ['250ml'],\r\n            },\r\n            measureUnit: 'ml',\r\n          } as OralForm,\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '10mg', isScored: true },\r\n              { dosage: '20mg', isScored: true },\r\n              { dosage: '30mg', isScored: false },\r\n              { dosage: '40mg', isScored: false }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'Escitalopram',\r\n    halfLife: '27-32 hours',\r\n    options: [\r\n      {\r\n        brand: 'generic (Lexapro/ Escitalopram)',\r\n        forms: [\r\n          {\r\n            // form: 'ml of oral solution',\r\n            form: 'oral solution',\r\n            dosages: {\r\n              rate: { ml: 1, mg: 1 },\r\n              bottles: ['150ml', '240ml', '300ml', '450ml', '600ml'],\r\n            },\r\n            measureUnit: 'mg',\r\n          } as OralForm,\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '5mg', isScored: false },\r\n              { dosage: '10mg', isScored: true },\r\n              { dosage: '20mg', isScored: true }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n      {\r\n        brand: 'Lexapro',\r\n        forms: [\r\n          {\r\n            form: 'tablet',\r\n            dosages: [\r\n              { dosage: '5mg', isScored: false },\r\n              { dosage: '10mg', isScored: true },\r\n              { dosage: '20mg', isScored: true }],\r\n            measureUnit: 'mg',\r\n          } as CapsuleOrTabletForm,\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default drugs;\r\n","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport taperConfig from './taperConfig/taperConfig';\r\n\r\nconst rootReducer = combineReducers({\r\n  user,\r\n  taperConfig,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport default rootReducer;\r\n","import {\r\n  Drug, PrescribedDrug, Prescription, TaperingConfiguration,\r\n} from '../../../types';\r\nimport { Schedule } from '../../../components/Schedule/ProjectedSchedule';\r\nimport { ScheduleChartData } from '../utils';\r\nimport {\r\n  AddNewDrugFormAction, AddOrUpdateTaperConfigAyncActions,\r\n  ChangeMessageForPatient,\r\n  ChangeNoteAndInstructions,\r\n  ClearScheduleAction, EditProjectedScheduleFromModal,\r\n  EmptyPrescribedDrugs,\r\n  EmptyTaperConfigPage, FetchPrescribedDrugAsyncActions, FetchTaperConfigAsyncActions,\r\n  FinalPrescriptionQuantityChange,\r\n  GenerateScheduleAction,\r\n  InitTaperConfigAction, OpenModalAction,\r\n  RemoveDrugFormAction,\r\n  ScheduleRowSelectedAction, SetIsInputComplete, ShareWithPatientAppAsyncActions, ShareWithPatientEmailAsyncActions,\r\n  TableEditingAction,\r\n  ToggleShareProjectedScheduleWithPatient, UpdateChartAction, ValidateInputCompletionAction,\r\n} from '../../actions/taperConfig';\r\nimport { PrescriptionFormActions } from '../../../components/PrescriptionForm/actions';\r\nimport drugs from '../drugs';\r\n\r\nexport interface TaperConfigState {\r\n  clinicianId: number;\r\n  patientId: number;\r\n  drugs: Drug[];\r\n  taperConfigs: TaperingConfiguration[];\r\n  currentTaperConfigId: number | null;\r\n  taperConfigCreatedAt: Date | null;\r\n  lastPrescriptionFormId: number;\r\n  prescriptionFormIds: number[];\r\n  prescribedDrugs: PrescribedDrug[] | null;\r\n  isSaved: boolean;\r\n\r\n  projectedSchedule: Schedule;\r\n  scheduleChartData: ScheduleChartData;\r\n  tableSelectedRows: (number | null)[];\r\n  finalPrescription: Prescription;\r\n  isInputComplete: boolean;\r\n\r\n  intervalDurationDays: number,\r\n\r\n  instructionsForPatient: string;\r\n  instructionsForPharmacy: string;\r\n\r\n  shareProjectedScheduleWithPatient: boolean;\r\n  showInstructionsForPatient: boolean;\r\n\r\n  fetchingTaperConfig: boolean;\r\n  fetchedTaperConfig: boolean;\r\n  fetchingTaperConfigError: any;\r\n\r\n  fetchingPrescribedDrugs: boolean;\r\n  fetchedPrescribedDrugs: boolean;\r\n  fetchingPrescribedDrugsError: any;\r\n\r\n  addingTaperConfig: boolean;\r\n  addedTaperConfig: boolean;\r\n  addingTaperConfigError: any;\r\n\r\n  sharingWithPatientApp: boolean;\r\n  sharedWithPatientApp: boolean;\r\n  sharingWithPatientAppError: any;\r\n\r\n  sharingWithPatientEmail: boolean;\r\n  sharedWithPatientEmail: boolean;\r\n  sharingWithPatientEmailError: any;\r\n}\r\n\r\ntype TaperConfigAsyncActions =\r\n  | FetchTaperConfigAsyncActions\r\n  | FetchPrescribedDrugAsyncActions\r\n  | AddOrUpdateTaperConfigAyncActions\r\n  | ShareWithPatientAppAsyncActions\r\n  | ShareWithPatientEmailAsyncActions;\r\n\r\nexport type TaperConfigActions =\r\n  | InitTaperConfigAction\r\n  | EmptyTaperConfigPage\r\n  | EmptyPrescribedDrugs\r\n  | AddNewDrugFormAction\r\n  | RemoveDrugFormAction\r\n  | GenerateScheduleAction\r\n  | ClearScheduleAction\r\n  | ScheduleRowSelectedAction\r\n  | ChangeMessageForPatient\r\n  | ChangeNoteAndInstructions\r\n  | ToggleShareProjectedScheduleWithPatient\r\n  | FinalPrescriptionQuantityChange\r\n  | TableEditingAction\r\n  | UpdateChartAction\r\n  | SetIsInputComplete\r\n  | OpenModalAction\r\n  | ValidateInputCompletionAction\r\n  | EditProjectedScheduleFromModal\r\n  | PrescriptionFormActions\r\n  | TaperConfigAsyncActions;\r\n\r\nexport const emptyPrescribedDrug = (id: number): PrescribedDrug => ({\r\n  id,\r\n  name: '',\r\n  brand: '',\r\n  form: '',\r\n  halfLife: '',\r\n  measureUnit: 'mg',\r\n  isModal: false,\r\n  applyInSchedule: true,\r\n  minDosageUnit: 0,\r\n  priorDosages: [],\r\n  priorDosageSum: 0,\r\n  allowChangePriorDosage: true,\r\n  upcomingDosages: [],\r\n  upcomingDosageSum: 0,\r\n  targetDosage: 0,\r\n  availableDosageOptions: [],\r\n  regularDosageOptions: [],\r\n  allowSplittingUnscoredTablet: false,\r\n  intervalStartDate: new Date(),\r\n  intervalEndDate: null,\r\n  intervalCount: 0,\r\n  intervalUnit: 'Days',\r\n  intervalDurationDays: 0,\r\n  prevVisit: false,\r\n  prescribedAt: new Date(),\r\n});\r\n\r\nexport const initialState: TaperConfigState = {\r\n  drugs,\r\n  clinicianId: -1,\r\n  patientId: -1,\r\n  taperConfigs: [],\r\n  currentTaperConfigId: null,\r\n  taperConfigCreatedAt: null,\r\n  lastPrescriptionFormId: 0,\r\n  prescriptionFormIds: [0],\r\n  isSaved: false,\r\n  prescribedDrugs: null,\r\n\r\n  projectedSchedule: { data: [], drugs: [] },\r\n  scheduleChartData: [],\r\n  tableSelectedRows: [],\r\n  finalPrescription: [],\r\n  isInputComplete: false,\r\n\r\n  intervalDurationDays: 0,\r\n\r\n  instructionsForPatient: '',\r\n  instructionsForPharmacy: '',\r\n\r\n  shareProjectedScheduleWithPatient: false,\r\n  showInstructionsForPatient: false,\r\n\r\n  fetchingTaperConfig: false,\r\n  fetchedTaperConfig: false,\r\n  fetchingTaperConfigError: null,\r\n\r\n  fetchingPrescribedDrugs: false,\r\n  fetchedPrescribedDrugs: false,\r\n  fetchingPrescribedDrugsError: null,\r\n\r\n  addingTaperConfig: false,\r\n  addedTaperConfig: false,\r\n  addingTaperConfigError: null,\r\n\r\n  sharingWithPatientApp: false,\r\n  sharedWithPatientApp: false,\r\n  sharingWithPatientAppError: null,\r\n\r\n  sharingWithPatientEmail: false,\r\n  sharedWithPatientEmail: false,\r\n  sharingWithPatientEmailError: null,\r\n};\r\n","import produce from 'immer';\r\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\r\nimport {\r\n  ADD_NEW_DRUG_FORM,\r\n  ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\r\n  ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\r\n  ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\r\n  CHANGE_MESSAGE_FOR_PATIENT,\r\n  CHANGE_NOTE_AND_INSTRUCTIONS,\r\n  CLEAR_SCHEDULE,\r\n  EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\r\n  EMPTY_PRESCRIBED_DRUGS,\r\n  EMPTY_TAPER_CONFIG_PAGE,\r\n  FETCH_PRESCRIBED_DRUGS_FAILURE,\r\n  FETCH_PRESCRIBED_DRUGS_REQUEST,\r\n  FETCH_PRESCRIBED_DRUGS_SUCCESS,\r\n  FETCH_TAPER_CONFIG_FAILURE,\r\n  FETCH_TAPER_CONFIG_REQUEST,\r\n  FETCH_TAPER_CONFIG_SUCCESS,\r\n  FINAL_PRESCRIPTION_QUANTITY_CHANGE,\r\n  GENERATE_SCHEDULE,\r\n  INIT_NEW_TAPER_CONFIG,\r\n  REMOVE_DRUG_FORM,\r\n  SCHEDULE_ROW_SELECTED,\r\n  SET_IS_INPUT_COMPLETE,\r\n  SHARE_WITH_PATIENT_APP_FAILURE,\r\n  SHARE_WITH_PATIENT_APP_REQUEST,\r\n  SHARE_WITH_PATIENT_APP_SUCCESS, SHARE_WITH_PATIENT_EMAIL_FAILURE,\r\n  SHARE_WITH_PATIENT_EMAIL_REQUEST, SHARE_WITH_PATIENT_EMAIL_SUCCESS,\r\n  TABLE_DOSAGE_EDITED,\r\n  TABLE_END_DATE_EDITED,\r\n  TABLE_START_DATE_EDITED,\r\n  TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT,\r\n  UPDATE_CHART,\r\n  VALIDATE_INPUT_COMPLETION,\r\n} from '../../actions/taperConfig';\r\n\r\nimport {\r\n  ALLOW_SPLITTING_UNSCORED_TABLET,\r\n  CHOOSE_BRAND,\r\n  CHOOSE_FORM,\r\n  INTERVAL_COUNT_CHANGE,\r\n  INTERVAL_END_DATE_CHANGE,\r\n  INTERVAL_START_DATE_CHANGE,\r\n  INTERVAL_UNIT_CHANGE,\r\n  PrescriptionFormActions,\r\n  PRIOR_DOSAGE_CHANGE,\r\n  SET_TARGET_DOSAGE,\r\n  UPCOMING_DOSAGE_CHANGE,\r\n} from '../../../components/PrescriptionForm/actions';\r\nimport {\r\n  calcFinalPrescription,\r\n  calcMinimumQuantityForDosage,\r\n  chartDataConverter, checkIntervalOverlappingRows, convert,\r\n  generateInstructionsForPatientFromSchedule,\r\n  generateInstructionsForPharmacy, generateTableRows,\r\n  isCompleteDrugInput,\r\n  prescription,\r\n  ScheduleChartData,\r\n  scheduleGenerator, sort,\r\n  validateCompleteInputs,\r\n} from '../utils';\r\nimport {\r\n  TaperConfigState, TaperConfigActions, emptyPrescribedDrug, initialState,\r\n} from './index';\r\nimport { Converted, TableRowData } from '../../../types';\r\n\r\nconst taperConfigReducer = (state: TaperConfigState = initialState, action: TaperConfigActions) => {\r\n  console.log('taperConfigAction: ', action);\r\n  return produce(state, (draft) => {\r\n    switch (action.type) {\r\n      case INIT_NEW_TAPER_CONFIG:\r\n        draft.clinicianId = action.data.clinicianId;\r\n        draft.patientId = action.data.patientId;\r\n        draft.taperConfigCreatedAt = null;\r\n        draft.lastPrescriptionFormId += 1;\r\n        draft.prescribedDrugs = [emptyPrescribedDrug(draft.lastPrescriptionFormId)];\r\n        draft.isSaved = false;\r\n        draft.isInputComplete = false;\r\n        break;\r\n\r\n      case EMPTY_TAPER_CONFIG_PAGE:\r\n        draft.currentTaperConfigId = null;\r\n        draft.taperConfigCreatedAt = null;\r\n        draft.scheduleChartData = [];\r\n        draft.isInputComplete = false;\r\n        draft.prescribedDrugs = draft.prescribedDrugs!.filter((drug) => isCompleteDrugInput(drug));\r\n        draft.projectedSchedule = { drugs: [], data: [] };\r\n        draft.instructionsForPatient = '';\r\n        draft.instructionsForPharmacy = '';\r\n        break;\r\n\r\n      case EMPTY_PRESCRIBED_DRUGS:\r\n        draft.isInputComplete = false;\r\n        draft.prescribedDrugs = null;\r\n        draft.projectedSchedule = { drugs: [], data: [] };\r\n        draft.instructionsForPatient = '';\r\n        draft.instructionsForPharmacy = '';\r\n        draft.scheduleChartData = [];\r\n        break;\r\n\r\n      case ADD_NEW_DRUG_FORM:\r\n        if (action.data === null) {\r\n          draft.prescriptionFormIds.push(draft.lastPrescriptionFormId + 1);\r\n          draft.prescribedDrugs!.push(emptyPrescribedDrug(draft.lastPrescriptionFormId + 1));\r\n          draft.isInputComplete = false;\r\n          draft.lastPrescriptionFormId += 1;\r\n          draft.showInstructionsForPatient = false;\r\n          draft.isSaved = false;\r\n        } else {\r\n          // change these on click ok in modal\r\n          // draft.prescriptionFormIds.push(action.data.id);\r\n          // draft.lastPrescriptionFormId = action.data.id;\r\n\r\n          draft.prescribedDrugs!.push(action.data);\r\n        }\r\n        break;\r\n\r\n      case REMOVE_DRUG_FORM:\r\n        if (action.data) {\r\n          draft.prescriptionFormIds = draft.prescriptionFormIds.filter((id) => id !== action.data);\r\n          draft.prescribedDrugs = draft.prescribedDrugs!.filter((drug) => drug.id !== action.data);\r\n        } else {\r\n          draft.prescriptionFormIds.pop();\r\n          draft.prescribedDrugs!.pop();\r\n        }\r\n        draft.isSaved = false;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        break;\r\n\r\n      case GENERATE_SCHEDULE: {\r\n        draft.projectedSchedule = scheduleGenerator(action.data);\r\n        draft.scheduleChartData = chartDataConverter(draft.projectedSchedule);\r\n        draft.instructionsForPatient = generateInstructionsForPatientFromSchedule(draft.projectedSchedule);\r\n        draft.instructionsForPharmacy = generateInstructionsForPharmacy(draft.instructionsForPatient, draft.finalPrescription);\r\n        draft.showInstructionsForPatient = true;\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case CLEAR_SCHEDULE:\r\n        draft.projectedSchedule = { data: [], drugs: [] };\r\n        draft.scheduleChartData = [];\r\n        draft.showInstructionsForPatient = false;\r\n        draft.instructionsForPharmacy = '';\r\n        draft.instructionsForPatient = '';\r\n        draft.isSaved = false;\r\n        break;\r\n\r\n      case UPDATE_CHART:\r\n        draft.scheduleChartData = chartDataConverter(draft.projectedSchedule);\r\n        break;\r\n\r\n      case SCHEDULE_ROW_SELECTED: {\r\n        draft.tableSelectedRows = action.data;\r\n        draft.projectedSchedule.data.forEach((row, i) => {\r\n          row.selected = draft.tableSelectedRows.includes(i);\r\n        });\r\n        draft.instructionsForPatient = generateInstructionsForPatientFromSchedule(draft.projectedSchedule);\r\n        draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\r\n        draft.instructionsForPharmacy = generateInstructionsForPharmacy(draft.instructionsForPatient, draft.finalPrescription);\r\n        break;\r\n      }\r\n\r\n      case FINAL_PRESCRIPTION_QUANTITY_CHANGE:\r\n        draft.finalPrescription[action.data.id].dosageQty[action.data.dosage] = action.data.quantity;\r\n        draft.instructionsForPharmacy = generateInstructionsForPharmacy(draft.instructionsForPatient, draft.finalPrescription);\r\n        draft.isSaved = false;\r\n        break;\r\n\r\n      case CHANGE_MESSAGE_FOR_PATIENT:\r\n        draft.instructionsForPatient = action.data;\r\n        break;\r\n\r\n      case CHANGE_NOTE_AND_INSTRUCTIONS:\r\n        draft.instructionsForPharmacy = action.data;\r\n        break;\r\n\r\n      case TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT:\r\n        draft.shareProjectedScheduleWithPatient = !draft.shareProjectedScheduleWithPatient;\r\n        break;\r\n\r\n      case CHOOSE_BRAND: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        const correspondingDrugData = draft.drugs.find((d) => d.options.find((option) => option.brand === action.data.brand))!;\r\n        drug.name = correspondingDrugData.name;\r\n        drug.halfLife = correspondingDrugData.halfLife;\r\n        // drug.name = draft.drugs.find(\r\n        //   (d) => d.options.find(\r\n        //     (option) => option.brand === action.data.brand,\r\n        //   ),\r\n        // )!.name;\r\n        drug.brand = action.data.brand;\r\n        drug.form = '';\r\n        drug.allowChangePriorDosage = true;\r\n        drug.oralDosageInfo = null;\r\n        drug.priorDosages = [];\r\n        drug.upcomingDosages = [];\r\n        draft.isInputComplete = false;\r\n        draft.isSaved = false;\r\n        draft.instructionsForPatient = '';\r\n        draft.instructionsForPharmacy = '';\r\n        draft.showInstructionsForPatient = false;\r\n        break;\r\n      }\r\n\r\n      case CHOOSE_FORM: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.form = action.data.form;\r\n        drug.minDosageUnit = action.data.minDosageUnit;\r\n        drug.priorDosages = [];\r\n        drug.upcomingDosages = [];\r\n        drug.oralDosageInfo = action.data.oralDosageInfo;\r\n        drug.availableDosageOptions = action.data.availableDosageOptions;\r\n        drug.regularDosageOptions = action.data.regularDosageOptions;\r\n        draft.isInputComplete = false;\r\n        draft.isSaved = false;\r\n        draft.instructionsForPatient = '';\r\n        draft.instructionsForPharmacy = '';\r\n        break;\r\n      }\r\n\r\n      case PRIOR_DOSAGE_CHANGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        const idx = drug.priorDosages.findIndex(\r\n          (curDosage) => curDosage.dosage === action.data.dosage.dosage,\r\n        );\r\n\r\n        if (idx === -1) {\r\n          drug.priorDosages.push(action.data.dosage);\r\n        } else {\r\n          drug.priorDosages[idx] = action.data.dosage;\r\n        }\r\n\r\n        drug.priorDosageSum = drug.priorDosages.reduce((prev, { dosage, quantity }) => {\r\n          return prev + parseFloat(dosage) * quantity;\r\n        }, 0);\r\n\r\n        draft.isSaved = false;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        break;\r\n      }\r\n\r\n      case UPCOMING_DOSAGE_CHANGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        const idx = drug.upcomingDosages.findIndex(\r\n          (nextDosage) => nextDosage.dosage === action.data.dosage.dosage,\r\n        );\r\n\r\n        if (idx === -1) {\r\n          drug.upcomingDosages.push(action.data.dosage);\r\n        } else {\r\n          drug.upcomingDosages[idx] = action.data.dosage;\r\n        }\r\n\r\n        drug.upcomingDosageSum = drug.upcomingDosages.reduce((prev, { dosage, quantity }) => {\r\n          return prev + parseFloat(dosage) * quantity;\r\n        }, 0);\r\n\r\n        if (drug.priorDosageSum < drug.upcomingDosageSum) {\r\n          drug.targetDosage = drug.upcomingDosageSum;\r\n        }\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case SET_TARGET_DOSAGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.targetDosage = action.data.dosage;\r\n        break;\r\n      }\r\n\r\n      case ALLOW_SPLITTING_UNSCORED_TABLET: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.allowSplittingUnscoredTablet = action.data.allow;\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_START_DATE_CHANGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.intervalStartDate = new Date(action.data.date.valueOf() + action.data.date.getTimezoneOffset() * 60 * 1000);\r\n\r\n        if (drug.intervalEndDate) {\r\n          drug.intervalUnit = 'Days';\r\n          drug.intervalCount = action.data.intervalDurationDays;\r\n          drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        }\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_END_DATE_CHANGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.intervalEndDate = action.data.date;\r\n        drug.intervalUnit = 'Days';\r\n        drug.intervalCount = action.data.intervalDurationDays;\r\n        drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_UNIT_CHANGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.intervalUnit = action.data.unit;\r\n        drug.intervalEndDate = action.data.intervalEndDate;\r\n        drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case INTERVAL_COUNT_CHANGE: {\r\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\r\n        drug.intervalCount = action.data.count;\r\n        drug.intervalEndDate = action.data.intervalEndDate;\r\n        drug.intervalDurationDays = action.data.intervalDurationDays;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        draft.isSaved = false;\r\n        break;\r\n      }\r\n\r\n      case TABLE_DOSAGE_EDITED: {\r\n        if (action.data.rowIndex !== null) {\r\n          const editedRow = draft.projectedSchedule.data[action.data.rowIndex];\r\n          const dosage = parseFloat(action.data.newValue);\r\n          const unitDosages = calcMinimumQuantityForDosage(editedRow.availableDosageOptions!, dosage, editedRow.regularDosageOptions);\r\n\r\n          draft.projectedSchedule.data[action.data.rowIndex] = {\r\n            ...editedRow,\r\n            dosage,\r\n            unitDosages,\r\n            prescription: prescription({ ...editedRow }, unitDosages),\r\n          };\r\n          draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      case TABLE_START_DATE_EDITED:\r\n        if (action.data.rowIndex !== null) {\r\n          const editedRow = draft.projectedSchedule.data[action.data.rowIndex];\r\n          editedRow.startDate = action.data.newValue;\r\n          editedRow.intervalUnit = 'Days';\r\n          editedRow.intervalDurationDays = differenceInCalendarDays(editedRow.endDate!, editedRow.startDate!) + 1;\r\n          editedRow.intervalCount = editedRow.intervalDurationDays;\r\n          editedRow.prescription = prescription({ ...editedRow }, editedRow.unitDosages!);\r\n          draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\r\n        }\r\n        break;\r\n\r\n      case TABLE_END_DATE_EDITED:\r\n        if (action.data.rowIndex !== null) {\r\n          const editedRow = draft.projectedSchedule.data[action.data.rowIndex];\r\n          editedRow.endDate = action.data.newValue;\r\n          editedRow.intervalUnit = 'Days';\r\n          editedRow.intervalDurationDays = differenceInCalendarDays(editedRow.endDate!, editedRow.startDate!) + 1;\r\n          editedRow.intervalCount = editedRow.intervalDurationDays;\r\n          editedRow.prescription = prescription({ ...editedRow }, editedRow.unitDosages!);\r\n          draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\r\n        }\r\n        break;\r\n\r\n      case SET_IS_INPUT_COMPLETE:\r\n        draft.isInputComplete = action.data.isComplete;\r\n        break;\r\n\r\n      case VALIDATE_INPUT_COMPLETION:\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        break;\r\n\r\n      case EDIT_PROJECTED_SCHEDULE_FROM_MODAL: {\r\n        /**\r\n         * When medication is changed: add new medication with full new settings\r\n         * When dosage is changed:\r\n         *  - when dosage was increasing before -> increase the dosage of other table rows by the same amount\r\n         *  - when dosage was decreasing before -> decrease the dosage of other table rows by new decreasing rate\r\n         * When start/end date is changed:\r\n         * - When start date is changed: only affect the double clicked row\r\n         * - - When new start date is overlapped with previous rows with the same prescribed drug:\r\n         * - When end date is changed: push the table rows with same prescribed drug back by the same interval unit count\r\n         */\r\n\r\n        /**\r\n         * Check further: when modal tries to make invalid modification, including invalid start/end dates..\r\n         */\r\n\r\n        // Delete related rows\r\n        draft.projectedSchedule.data.forEach((row, i) => {\r\n          if (row.brand === action.data.doubleClickedRow.brand\r\n            && row.rowIndexInPrescribedDrug >= action.data.doubleClickedRow.rowIndexInPrescribedDrug) {\r\n            draft.projectedSchedule.data.splice(i);\r\n          }\r\n        });\r\n\r\n        const converted: Converted[] = convert([action.data.prescribedDrug]);\r\n\r\n        const generatedTableRows: TableRowData[] = generateTableRows(converted, action.data.doubleClickedRow.rowIndexInPrescribedDrug);\r\n\r\n        // const intervalOverlapChecked: TableRowData[] = checkIntervalOverlappingRows(generatedTableRows);\r\n        const intervalOverlapChecked: TableRowData[] = generatedTableRows;\r\n\r\n        const drugNames: string[] = [...new Set(draft.projectedSchedule.drugs.map((drug) => drug.name).concat([action.data.prescribedDrug.name]))];\r\n\r\n        const sorted: TableRowData[] = sort(drugNames, draft.projectedSchedule.data.concat(intervalOverlapChecked));\r\n\r\n        draft.projectedSchedule.data = sorted;\r\n        draft.projectedSchedule.drugs = draft.prescribedDrugs!.filter((drug) => drug.brand === action.data.prescribedDrug.brand).length !== 0\r\n          ? draft.projectedSchedule.drugs\r\n          : draft.projectedSchedule.drugs.concat(action.data.prescribedDrug);\r\n\r\n        draft.scheduleChartData = chartDataConverter(draft.projectedSchedule);\r\n\r\n        break;\r\n      }\r\n\r\n      case ADD_OR_UPDATE_TAPER_CONFIG_REQUEST:\r\n        draft.addingTaperConfig = true;\r\n        draft.addedTaperConfig = false;\r\n        draft.addingTaperConfigError = null;\r\n        break;\r\n\r\n      case ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS: {\r\n        draft.addingTaperConfig = false;\r\n        draft.addedTaperConfig = true;\r\n        draft.currentTaperConfigId = action.data.id;\r\n\r\n        // TODO: may not need taperConfigCreatedAt.\r\n        // draft.taperConfigCreatedAt = action.data.createdAt;\r\n        // draft.prescribedDrugs!.forEach((drug) => {\r\n        //   drug.prescribedAt = action.data.createdAt;\r\n        // });\r\n\r\n        const taperConfigIdx = draft.taperConfigs\r\n          .findIndex((config) => {\r\n            return config.patientId === action.data.patientId\r\n              && config.clinicianId === action.data.clinicianId;\r\n          });\r\n\r\n        if (taperConfigIdx !== -1) {\r\n          draft.taperConfigs[taperConfigIdx] = action.data;\r\n        } else {\r\n          draft.taperConfigs.push(action.data);\r\n        }\r\n\r\n        // draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        // draft.isSaved = true;\r\n        break;\r\n      }\r\n\r\n      case ADD_OR_UPDATE_TAPER_CONFIG_FAILURE:\r\n        draft.addingTaperConfig = false;\r\n        draft.addedTaperConfig = false;\r\n        draft.addingTaperConfigError = action.error;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        break;\r\n\r\n      case FETCH_TAPER_CONFIG_REQUEST:\r\n        draft.fetchingTaperConfig = true;\r\n        draft.fetchedTaperConfig = false;\r\n        draft.fetchingTaperConfigError = null;\r\n        break;\r\n\r\n      case FETCH_TAPER_CONFIG_SUCCESS:\r\n        draft.fetchingTaperConfig = false;\r\n        draft.fetchedTaperConfig = true;\r\n        draft.clinicianId = action.data.clinicianId;\r\n        draft.patientId = action.data.patientId;\r\n        draft.projectedSchedule = action.data.projectedSchedule;\r\n        draft.instructionsForPatient = action.data.instructionsForPatient;\r\n        draft.instructionsForPharmacy = action.data.instructionsForPharmacy;\r\n        draft.finalPrescription = action.data.finalPrescription;\r\n        draft.scheduleChartData = action.data.scheduleChartData;\r\n        // draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        draft.isSaved = false;\r\n        break;\r\n\r\n      case FETCH_TAPER_CONFIG_FAILURE:\r\n        draft.fetchingTaperConfig = false;\r\n        draft.fetchingTaperConfigError = action.error;\r\n        break;\r\n\r\n      case FETCH_PRESCRIBED_DRUGS_REQUEST:\r\n        draft.fetchingPrescribedDrugs = true;\r\n        draft.fetchedPrescribedDrugs = false;\r\n        draft.fetchingPrescribedDrugsError = false;\r\n        break;\r\n\r\n      case FETCH_PRESCRIBED_DRUGS_SUCCESS:\r\n        draft.fetchingPrescribedDrugs = false;\r\n        draft.fetchedPrescribedDrugs = true;\r\n        draft.prescribedDrugs = action.data;\r\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\r\n        break;\r\n\r\n      case FETCH_PRESCRIBED_DRUGS_FAILURE:\r\n        draft.fetchingPrescribedDrugs = false;\r\n        draft.fetchingPrescribedDrugsError = action.error;\r\n        break;\r\n\r\n      case SHARE_WITH_PATIENT_APP_REQUEST:\r\n        draft.sharingWithPatientApp = true;\r\n        draft.sharedWithPatientApp = false;\r\n        draft.sharingWithPatientAppError = null;\r\n        break;\r\n\r\n      case SHARE_WITH_PATIENT_APP_SUCCESS:\r\n        draft.sharingWithPatientApp = false;\r\n        draft.sharedWithPatientApp = true;\r\n        break;\r\n\r\n      case SHARE_WITH_PATIENT_APP_FAILURE:\r\n        draft.sharingWithPatientApp = false;\r\n        draft.sharingWithPatientAppError = action.error;\r\n        break;\r\n\r\n      case SHARE_WITH_PATIENT_EMAIL_REQUEST:\r\n        draft.sharingWithPatientEmail = true;\r\n        draft.sharedWithPatientEmail = false;\r\n        draft.sharingWithPatientEmailError = null;\r\n        break;\r\n\r\n      case SHARE_WITH_PATIENT_EMAIL_SUCCESS:\r\n        draft.sharingWithPatientEmail = false;\r\n        draft.sharedWithPatientEmail = true;\r\n        break;\r\n\r\n      case SHARE_WITH_PATIENT_EMAIL_FAILURE:\r\n        draft.sharingWithPatientEmail = false;\r\n        draft.sharingWithPatientEmailError = action.error;\r\n        break;\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  });\r\n};\r\nexport default taperConfigReducer;\r\n","import produce from 'immer';\r\nimport {\r\n  ADD_NEW_PATIENT_FAILURE,\r\n  ADD_NEW_PATIENT_REQUEST,\r\n  ADD_NEW_PATIENT_SUCCESS,\r\n  AddNewPatientActions,\r\n  CHANGE_PATIENT_NOTES,\r\n  ChangePatientNotes,\r\n  LOAD_PATIENTS_FAILURE,\r\n  LOAD_PATIENTS_REQUEST,\r\n  LOAD_PATIENTS_SUCCESS,\r\n  LoadPatientsActions,\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LoginActions,\r\n  SAVE_PATIENT_NOTES_FAILURE,\r\n  SAVE_PATIENT_NOTES_REQUEST,\r\n  SAVE_PATIENT_NOTES_SUCCESS,\r\n  SavePatientNotesActions,\r\n  SET_CURRENT_PATIENT,\r\n  SetCurrentPatientAction,\r\n} from '../actions/user';\r\nimport { Clinician, Patient } from '../../types';\r\nimport { ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS, AddOrUpdateTaperConfigSuccessAction } from '../actions/taperConfig';\r\n\r\nexport interface UserState {\r\n  loggingIn: boolean;\r\n  loggedIn: boolean;\r\n  logInError: any;\r\n\r\n  addingPatient: boolean;\r\n  addedPatient: boolean;\r\n  addPatientError: any;\r\n\r\n  loadingPatients: boolean;\r\n  loadedPatients: boolean;\r\n  loadPatientsError: any;\r\n\r\n  savingPatientNotes: boolean;\r\n  savedPatientNotes: boolean;\r\n  savingPatientNotesError: any;\r\n\r\n  // patients: Omit<Patient, 'password'|'taperingConfigurations'>[];\r\n  patients: Omit<Patient, 'password'>[];\r\n  currentPatient: Omit<Patient, 'password'>|null;\r\n  me: Omit<Clinician, 'password'>|null;\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  loggingIn: false,\r\n  loggedIn: false,\r\n  logInError: null,\r\n\r\n  addingPatient: false,\r\n  addedPatient: false,\r\n  addPatientError: null,\r\n\r\n  loadingPatients: false,\r\n  loadedPatients: false,\r\n  loadPatientsError: null,\r\n\r\n  savingPatientNotes: false,\r\n  savedPatientNotes: false,\r\n  savingPatientNotesError: null,\r\n\r\n  patients: [],\r\n  currentPatient: null,\r\n  me: null,\r\n};\r\n\r\ntype UserReducerAction =\r\n  | LoginActions\r\n  | AddNewPatientActions\r\n  | AddOrUpdateTaperConfigSuccessAction\r\n  | LoadPatientsActions\r\n  | ChangePatientNotes\r\n  | SetCurrentPatientAction\r\n  | SavePatientNotesActions;\r\n\r\nconst userReducer = (state: UserState = initialState, action: UserReducerAction): UserState => produce(state, (draft) => {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      draft.loggingIn = true;\r\n      draft.loggedIn = false;\r\n      draft.logInError = null;\r\n      break;\r\n\r\n    case LOGIN_SUCCESS:\r\n      draft.loggingIn = false;\r\n      draft.loggedIn = true;\r\n      draft.me = action.data;\r\n      break;\r\n\r\n    case LOGIN_FAILURE:\r\n      draft.loggingIn = false;\r\n      draft.loggedIn = false;\r\n      draft.logInError = action.error;\r\n      break;\r\n\r\n    case ADD_NEW_PATIENT_REQUEST:\r\n      draft.addingPatient = true;\r\n      draft.addedPatient = false;\r\n      draft.addPatientError = null;\r\n      break;\r\n\r\n    case ADD_NEW_PATIENT_SUCCESS:\r\n      draft.addingPatient = false;\r\n      draft.addedPatient = true;\r\n      break;\r\n\r\n    case ADD_NEW_PATIENT_FAILURE:\r\n      draft.addingPatient = false;\r\n      draft.addPatientError = action.error;\r\n      break;\r\n\r\n    case LOAD_PATIENTS_REQUEST:\r\n      draft.loadingPatients = true;\r\n      draft.loadedPatients = false;\r\n      draft.loadPatientsError = null;\r\n      break;\r\n\r\n    case LOAD_PATIENTS_SUCCESS:\r\n      draft.loadingPatients = false;\r\n      draft.loadedPatients = true;\r\n      draft.patients = action.data;\r\n      break;\r\n\r\n    case LOAD_PATIENTS_FAILURE:\r\n      draft.loadingPatients = false;\r\n      draft.loadPatientsError = action.error;\r\n      break;\r\n\r\n    case SAVE_PATIENT_NOTES_REQUEST:\r\n      draft.savingPatientNotes = true;\r\n      draft.savedPatientNotes = false;\r\n      draft.savingPatientNotesError = null;\r\n      break;\r\n\r\n    case SAVE_PATIENT_NOTES_SUCCESS:\r\n      draft.savingPatientNotes = false;\r\n      draft.savedPatientNotes = true;\r\n      draft.currentPatient!.notes = action.data.notes;\r\n      break;\r\n\r\n    case SAVE_PATIENT_NOTES_FAILURE:\r\n      draft.savingPatientNotes = false;\r\n      draft.savingPatientNotesError = action.error;\r\n      break;\r\n\r\n    case SET_CURRENT_PATIENT:\r\n      if (action.data === -1) {\r\n        draft.currentPatient = null;\r\n      }\r\n      draft.currentPatient = draft.patients.find((patient) => patient.id === action.data)!;\r\n      break;\r\n\r\n    case ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS:\r\n      draft.currentPatient!.taperingConfiguration = action.data;\r\n      break;\r\n\r\n    case CHANGE_PATIENT_NOTES:\r\n      draft.currentPatient!.notes = action.data;\r\n      break;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n});\r\n\r\nexport default userReducer;\r\n","import add from 'date-fns/esm/add';\r\nimport areIntervalsOverlapping from 'date-fns/esm/areIntervalsOverlapping';\r\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\r\nimport format from 'date-fns/esm/format';\r\nimport isAfter from 'date-fns/esm/isAfter';\r\nimport isBefore from 'date-fns/esm/isBefore';\r\nimport sub from 'date-fns/esm/sub';\r\n\r\nimport {\r\n  OralDosage, PrescribedDrug, TableRowData, Converted, Prescription, ValueOf,\r\n} from '../../types';\r\nimport { Schedule } from '../../components/Schedule/ProjectedSchedule';\r\n\r\nexport const isCompleteDrugInput = (drug: PrescribedDrug) => {\r\n  const priorDosageSum = drug.priorDosages.reduce((prev, { dosage, quantity }) => {\r\n    return prev + parseFloat(dosage) * quantity;\r\n  }, 0);\r\n\r\n  const upcomingDosageSum = drug.upcomingDosages.reduce((prev, { dosage, quantity }) => {\r\n    return prev + parseFloat(dosage) * quantity;\r\n  }, 0);\r\n\r\n  return drug.name !== ''\r\n    && drug.brand !== ''\r\n    && drug.form !== ''\r\n    && drug.intervalEndDate !== null\r\n    && drug.intervalCount !== 0\r\n    && (\r\n      (priorDosageSum < upcomingDosageSum && drug.targetDosage >= upcomingDosageSum)\r\n      || (priorDosageSum > upcomingDosageSum && drug.targetDosage <= upcomingDosageSum)\r\n      || (priorDosageSum === upcomingDosageSum && upcomingDosageSum === drug.targetDosage)\r\n    )\r\n    && drug.upcomingDosages.length !== 0\r\n    && !drug.upcomingDosages.every((dosage) => dosage.quantity === 0);\r\n};\r\n\r\nexport const completePrescribedDrugs = (drugs: PrescribedDrug[] | null | undefined): PrescribedDrug[] | [] => {\r\n  return drugs ? drugs.filter((drug) => isCompleteDrugInput(drug)) : [];\r\n};\r\n\r\nexport const validateCompleteInputs = (drugs: PrescribedDrug[] | null | undefined): boolean => {\r\n  return !(drugs === null || drugs === undefined || drugs.length === 0) && drugs\r\n    .map((drug) => isCompleteDrugInput(drug))\r\n    .every((cond) => cond);\r\n};\r\n\r\nconst rowIntervalOverlapping = (prev: TableRowData, current: TableRowData) => {\r\n  return prev.drug === current.drug\r\n    && (areIntervalsOverlapping(\r\n      { start: prev.startDate!, end: prev.endDate! },\r\n      { start: current.startDate!, end: current.endDate! },\r\n      { inclusive: true },\r\n    ));\r\n};\r\n\r\nconst rowIntervalIsAfter = (fromPrev: TableRowData, fromCurrent: TableRowData) => {\r\n  return fromPrev.drug === fromCurrent.drug\r\n    && isAfter(fromPrev.startDate!, fromCurrent.endDate!);\r\n};\r\n\r\nexport const convert = (drugs: PrescribedDrug[]): Converted[] => {\r\n  return drugs.map((drug) => {\r\n    const priorDosageSum = drug.priorDosages\r\n      .reduce((acc, d) => acc + parseFloat(d.dosage) * d.quantity, 0);\r\n    const upcomingDosageSum = drug.upcomingDosages\r\n      .reduce((acc, d) => acc + parseFloat(d.dosage) * d.quantity, 0);\r\n\r\n    const changeDirection = (() => {\r\n      if (priorDosageSum < upcomingDosageSum) {\r\n        return 'increase';\r\n      }\r\n      if (priorDosageSum > upcomingDosageSum) {\r\n        return 'decrease';\r\n      }\r\n      return 'same';\r\n    })();\r\n\r\n    return {\r\n      ...drug,\r\n      priorDosageSum,\r\n      upcomingDosageSum,\r\n      changeAmount: upcomingDosageSum - priorDosageSum,\r\n      changeRate: upcomingDosageSum / priorDosageSum,\r\n      intervalEndDate: drug.intervalEndDate!,\r\n      changeDirection,\r\n    };\r\n  });\r\n};\r\n\r\nconst calcProjectedDosages = (drug: Converted, prescribedDosage: number, length: number): number[] => {\r\n  console.group('calcProjectedDosages');\r\n  console.log('drug: ', drug);\r\n  console.log('prescribedDosage: ', prescribedDosage);\r\n  console.log('length: ', length);\r\n  console.groupEnd();\r\n\r\n  const res: number[] = [];\r\n  res.push(prescribedDosage);\r\n\r\n  // increasing\r\n  if (drug.changeDirection === 'increase') {\r\n    // Array(length - 1).fill(null).forEach((_, i) => {\r\n    Array(length).fill(null).forEach((_, i) => {\r\n      if (res[i] + drug.changeAmount < drug.targetDosage!) {\r\n        res.push(res[i] + drug.changeAmount);\r\n      } else {\r\n        res.push(drug.targetDosage!);\r\n      }\r\n    });\r\n  } else {\r\n    // decreasing\r\n    const minDosage = parseFloat(drug.availableDosageOptions[0]);\r\n    // Array(length - 1).fill(null).forEach((_, i) => {\r\n    Array(length).fill(null).forEach((_, i) => {\r\n      const nextTemp = drug.changeRate * res[i];\r\n      const remainder = nextTemp % minDosage;\r\n\r\n      if (nextTemp < drug.targetDosage!) {\r\n        res.push(drug.targetDosage!);\r\n      } else if (remainder === 0) {\r\n        res.push(nextTemp);\r\n      } else {\r\n        const floor = Math.floor(nextTemp / minDosage) * minDosage;\r\n        const ceiling = Math.ceil(nextTemp / minDosage) * minDosage;\r\n\r\n        if (i === length - 2 && drug.form === 'tablet' && drug.allowSplittingUnscoredTablet) {\r\n          res.push(ceiling - minDosage / 2);\r\n        } else if (ceiling === res[i]) {\r\n          res.push(floor);\r\n        } else if (ceiling > nextTemp) {\r\n          res.push(floor);\r\n        } else {\r\n          res.push(ceiling);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return res;\r\n};\r\n\r\nconst subtractDosageOptionsFromDosage = (dosage: number, dosageOptions: string[]): [number, { [dosage: string]: number }] => {\r\n  const dosages: { [dosage: string]: number } = {};\r\n  let d = dosage;\r\n  dosageOptions.concat()\r\n    .sort((a, b) => parseFloat(b) - parseFloat(a))\r\n    .forEach((dos) => {\r\n      const quot = Math.floor(d / parseFloat(dos));\r\n      if (quot >= 1) {\r\n        // while (quot >= 1) {\r\n        dosages[dos] = quot;\r\n        d -= quot * parseFloat(dos);\r\n      }\r\n    });\r\n\r\n  return [d, dosages];\r\n};\r\n\r\nexport const calcMinimumQuantityForDosage = (availableOptions: string[], dosage: number, regularDosageOptions: string[] | null): { [dosageQty: string]: number } => {\r\n  if (dosage === 0) {\r\n    const putZeros = (prev: { [p: string]: number }, option: string) => {\r\n      prev[option] = 0;\r\n      return prev;\r\n    };\r\n\r\n    if (regularDosageOptions) {\r\n      return regularDosageOptions.reduce(putZeros, {});\r\n    }\r\n    return availableOptions.reduce(putZeros, {});\r\n  }\r\n\r\n  if (regularDosageOptions) { // in case of tablet or capsules\r\n    const [d, dosages] = subtractDosageOptionsFromDosage(dosage, regularDosageOptions);\r\n\r\n    if (d > 0) {\r\n      const splittingOption = availableOptions.find((option) => parseFloat(option) === d);\r\n      if (!splittingOption) {\r\n        console.error('dosage case not covered.');\r\n        return dosages;\r\n      }\r\n\r\n      const dosageToAdd = regularDosageOptions.find((dos) => parseFloat(splittingOption) / parseFloat(dos) === 0.5);\r\n      if (!dosageToAdd) {\r\n        console.error('dosage case not covered. - no dosage to split');\r\n        return dosages;\r\n      }\r\n      if (dosages[dosageToAdd]) {\r\n        dosages[dosageToAdd] += 0.5;\r\n      } else {\r\n        dosages[dosageToAdd] = 0.5;\r\n      }\r\n    }\r\n    return dosages;\r\n  }\r\n\r\n  // oral solution / suspense\r\n  let [d, dosages] = subtractDosageOptionsFromDosage(dosage, availableOptions);\r\n\r\n  if (Object.values(dosages).every((qty) => qty === 0)) {\r\n    dosages[availableOptions[0]] = 1;\r\n    d = 0;\r\n  }\r\n\r\n  if (d > 0) {\r\n    dosages[availableOptions[0]] += 1;\r\n  }\r\n  return dosages;\r\n};\r\n\r\ntype PrescriptionFunction = (args: { form: string, intervalCount: number, intervalUnit: 'Days' | 'Weeks' | 'Months' | null, oralDosageInfo?: OralDosage | null }, dosageQty: { [dosage: string]: number }) => { message: string; data: { form: string, unit: string; dosage: { [dosage: string]: number } } };\r\nexport const prescription: PrescriptionFunction = (\r\n  {\r\n    form, intervalCount, intervalUnit, oralDosageInfo,\r\n  },\r\n  dosageQty,\r\n) => {\r\n  console.log('oralDosageInfo: ', oralDosageInfo);\r\n  const message = Object.entries(dosageQty)\r\n    .filter(([dosage, qty]) => qty !== 0)\r\n    .reduce((res, [dosage, qty], i, arr) => {\r\n      if (oralDosageInfo) {\r\n        return `${res} ${qty / oralDosageInfo.rate.mg * oralDosageInfo.rate.ml}ml ${form} for ${intervalCount} ${intervalUnit!.toLowerCase()}`;\r\n      }\r\n\r\n      if (i === arr.length - 1) {\r\n        return `${res} ${qty} X ${dosage} ${form} for ${intervalCount} ${intervalUnit!.toLowerCase()}`;\r\n      }\r\n\r\n      return `${res} ${qty} X ${dosage} ${form}, `;\r\n    }, '');\r\n\r\n  const data = {\r\n    form,\r\n    unit: oralDosageInfo !== null ? 'ml' : 'mg',\r\n    dosage: dosageQty,\r\n  };\r\n\r\n  return {\r\n    message,\r\n    data,\r\n  };\r\n};\r\n\r\nconst projectionLengthOfEachDrug = (drug: Converted): number => {\r\n  if (drug.changeDirection === 'increase') {\r\n    const increasingLength = drug.targetDosage! / drug.changeAmount;\r\n    return Number.isInteger(increasingLength) ? increasingLength - 1 : Math.floor(increasingLength);\r\n  }\r\n\r\n  if (drug.changeDirection === 'decrease') {\r\n    return Math.floor(Math.log(drug.upcomingDosageSum) / Math.log(1 / drug.changeRate)) + 1;\r\n  }\r\n\r\n  // when drug.changeDirection === 'same'\r\n  return 2;\r\n};\r\n\r\nexport const generateTableRows = (drugs: Converted[], startRowIndexInPrescribedDrug = 0): TableRowData[] => {\r\n  // const lengthOfProjection = Math.max(...drugs.map(projectionLengthOfEachDrug));\r\n  console.group('generateTableRows');\r\n  const tableRowsByDrug = drugs.map((drug) => {\r\n    const rows: TableRowData[] = [];\r\n    const durationInDaysCount = { days: differenceInCalendarDays(drug.intervalEndDate, drug.intervalStartDate) + 1 };\r\n    console.log('drug: ', drug);\r\n    const lengthOfProjection: number = projectionLengthOfEachDrug(drug);\r\n    console.log('lengthOfProjection: ', lengthOfProjection);\r\n    const upcomingDosages: number[] = calcProjectedDosages(drug, drug.upcomingDosageSum, lengthOfProjection);\r\n    console.log('upcomingDosages: ', upcomingDosages);\r\n    rows.push({\r\n      rowIndexInPrescribedDrug: startRowIndexInPrescribedDrug,\r\n      prescribedDrugId: drug.id,\r\n      prescribedDrug: drug,\r\n      drug: drug.name,\r\n      brand: drug.brand,\r\n      dosage: upcomingDosages[0],\r\n      startDate: drug.intervalStartDate,\r\n      endDate: drug.intervalEndDate,\r\n      prescription: prescription({ ...drug }, drug.upcomingDosages.reduce(\r\n        (prev, d) => ({ ...prev, [d.dosage]: d.quantity }), {},\r\n      )),\r\n      unitDosages: drug.upcomingDosages.reduce((prev, { dosage, quantity }) => {\r\n        prev[dosage] = quantity;\r\n        return prev;\r\n      }, {} as { [dosage: string]: number }),\r\n      addedInCurrentVisit: !drug.prevVisit,\r\n      selected: !drug.prevVisit,\r\n      availableDosageOptions: drug.availableDosageOptions,\r\n      regularDosageOptions: drug.regularDosageOptions,\r\n      form: drug.form,\r\n      isPriorDosage: false,\r\n      intervalDurationDays: drug.intervalDurationDays,\r\n      intervalCount: drug.intervalCount,\r\n      intervalUnit: drug.intervalUnit,\r\n      measureUnit: drug.measureUnit,\r\n      oralDosageInfo: drug.oralDosageInfo ? drug.oralDosageInfo : undefined,\r\n    });\r\n\r\n    const projectionStartDate = add(drug.intervalEndDate, { days: 1 });\r\n    const newEndDate = sub(add(projectionStartDate, durationInDaysCount), { days: 1 });\r\n    const newRowData = {\r\n      Drug: drug.name,\r\n      upcomingDosageSum: upcomingDosages[1],\r\n      // prescribedDosages: calcMinimumQuantityForDosage(drug.availableDosageOptions, upcomingDosages[1], drug.regularDosageOptions),\r\n      unitDosages: calcMinimumQuantityForDosage(drug.availableDosageOptions, upcomingDosages[1], drug.regularDosageOptions),\r\n      startDate: projectionStartDate,\r\n      endDate: newEndDate,\r\n      selected: false,\r\n      form: drug.form,\r\n      Prescription: '',\r\n      intervalCount: drug.intervalCount,\r\n      intervalUnit: drug.intervalUnit,\r\n      oralDosageInfo: drug.oralDosageInfo ? drug.oralDosageInfo : undefined,\r\n    };\r\n\r\n    Array(lengthOfProjection).fill(null).forEach((_, i) => {\r\n      if (newRowData.upcomingDosageSum !== 0) {\r\n        rows.push({\r\n          rowIndexInPrescribedDrug: startRowIndexInPrescribedDrug + i + 1,\r\n          prescribedDrug: drug,\r\n          prescribedDrugId: drug.id,\r\n          drug: drug.name,\r\n          brand: drug.brand,\r\n          dosage: newRowData.upcomingDosageSum,\r\n          startDate: newRowData.startDate,\r\n          endDate: newRowData.endDate,\r\n          prescription: prescription({ ...drug }, newRowData.unitDosages),\r\n          selected: false,\r\n          addedInCurrentVisit: !drug.prevVisit,\r\n          availableDosageOptions: drug.availableDosageOptions,\r\n          regularDosageOptions: drug.regularDosageOptions,\r\n          unitDosages: newRowData.unitDosages,\r\n          isPriorDosage: false,\r\n          intervalDurationDays: drug.intervalDurationDays,\r\n          intervalCount: drug.intervalCount,\r\n          intervalUnit: drug.intervalUnit,\r\n          measureUnit: drug.measureUnit,\r\n          form: drug.form,\r\n          oralDosageInfo: drug.oralDosageInfo ? drug.oralDosageInfo : undefined,\r\n        });\r\n\r\n        newRowData.upcomingDosageSum = upcomingDosages[i + 2];\r\n        newRowData.unitDosages = calcMinimumQuantityForDosage(drug.availableDosageOptions, newRowData.upcomingDosageSum, drug.regularDosageOptions);\r\n        newRowData.startDate = add(newRowData.endDate, { days: 1 });\r\n        newRowData.endDate = sub(add(newRowData.startDate, durationInDaysCount), { days: 1 });\r\n      }\r\n    });\r\n    return { drug: drug.name, lastEndDate: rows[rows.length - 1].endDate!, rows };\r\n  });\r\n\r\n  const endDates = tableRowsByDrug.map((d) => d.lastEndDate);\r\n  const lastEndDateAndIndex: [number, Date] = endDates.reduce(([i, prev], curr, j) => {\r\n    if (isAfter(prev, curr)) {\r\n      return [i, prev];\r\n    }\r\n    return [j, curr];\r\n  }, [0, endDates[0]]);\r\n\r\n  tableRowsByDrug.forEach((drug, i) => {\r\n    if (i !== lastEndDateAndIndex[0]) {\r\n      drug.rows.push({\r\n        ...drug.rows[drug.rows.length - 1],\r\n        startDate: add(drug.lastEndDate, { days: 1 }),\r\n        endDate: lastEndDateAndIndex[1],\r\n      });\r\n    }\r\n  });\r\n\r\n  console.groupEnd();\r\n  return tableRowsByDrug.flatMap((drug) => drug.rows);\r\n};\r\n\r\nexport const checkIntervalOverlappingRows = (rows: TableRowData[]): TableRowData[] => {\r\n  const rowsAddedInCurrentVisit = rows.filter((row) => row.addedInCurrentVisit);\r\n  const rowsFromPreviousVisits = rows.filter((row) => !row.addedInCurrentVisit);\r\n\r\n  rowsAddedInCurrentVisit.forEach((fromCurrent) => {\r\n    rowsFromPreviousVisits.forEach((fromPrev, i, arr) => {\r\n      if (rowIntervalOverlapping(fromPrev, fromCurrent)) {\r\n        fromPrev.endDate = sub(fromCurrent.startDate!, { days: 1 });\r\n        // fromPrev.Dates = `${format(fromPrev.startDate, 'MM/dd/yyyy')} - ${format(fromPrev.endDate, 'MM/dd/yyyy')}`;\r\n        fromPrev.intervalUnit = 'Days';\r\n        fromPrev.intervalCount = differenceInCalendarDays(fromPrev.endDate, fromPrev.startDate!) + 1;\r\n        fromPrev.prescription = prescription({\r\n          form: fromPrev.form,\r\n          intervalCount: fromPrev.intervalCount,\r\n          intervalUnit: fromPrev.intervalUnit,\r\n        },\r\n        fromPrev.unitDosages!);\r\n\r\n        if (isBefore(fromPrev.endDate, fromPrev.startDate!)) {\r\n          arr.splice(i, 1);\r\n        }\r\n      }\r\n\r\n      if (rowIntervalIsAfter(fromPrev, fromCurrent)) {\r\n        arr.splice(i, 1);\r\n      }\r\n    });\r\n  });\r\n\r\n  return [...rowsFromPreviousVisits, ...rowsAddedInCurrentVisit];\r\n};\r\n\r\nexport const sort = (drugNames: string[], rows: TableRowData[]): TableRowData[] => {\r\n  const compare = (a: TableRowData, b: TableRowData) => {\r\n    if (isBefore(a.startDate!, b.startDate!)) {\r\n      return -1;\r\n    }\r\n\r\n    if (a.startDate === b.startDate) {\r\n      return 1;\r\n    }\r\n\r\n    const compareDrugNames = drugNames\r\n      .findIndex((drug) => drug === a.drug) < drugNames.findIndex((drug) => drug === b.drug);\r\n\r\n    if (compareDrugNames) {\r\n      return -1;\r\n    }\r\n    return 1;\r\n  };\r\n\r\n  return rows.sort(compare);\r\n};\r\n\r\nexport const scheduleGenerator = (prescribedDrugs: PrescribedDrug[]): Schedule => {\r\n  console.group('scheduleGenerator');\r\n  console.log('prescribedDrugs: ', prescribedDrugs);\r\n  const drugsToApplyInSchedule = prescribedDrugs.filter((drug) => drug.applyInSchedule);\r\n  // const drugNames = prescribedDrugs.map((drug) => drug.name);\r\n  const drugNames = drugsToApplyInSchedule.map((drug) => drug.name);\r\n\r\n  // const converted: Converted[] = convert(prescribedDrugs);\r\n  const converted: Converted[] = convert(drugsToApplyInSchedule);\r\n  console.log('converted: ', converted);\r\n  const rows: TableRowData[] = generateTableRows(converted);\r\n  console.log('rows: ', rows);\r\n\r\n  // TODO: reflect later for saving feature\r\n  const intervalOverlapCheckedRows: TableRowData[] = checkIntervalOverlappingRows(rows);\r\n  console.log('intervalOverlapCheckedRows: ', intervalOverlapCheckedRows);\r\n  // const tableDataSorted: TableRowData[] = sort(drugNames, intervalOverlapCheckedRows);\r\n  const tableDataSorted: TableRowData[] = sort(drugNames, rows);\r\n  console.log('tableData: ', tableDataSorted);\r\n  // tableDataSorted.unshift(...prescribedDrugs.map((drug) => ({\r\n  tableDataSorted.unshift(...drugsToApplyInSchedule\r\n    .filter((drug) => !drug.isModal)\r\n    .map((drug) => ({\r\n      rowIndexInPrescribedDrug: -1,\r\n      prescribedDrugId: drug.id,\r\n      isPriorDosage: true,\r\n      prescribedDrug: drug,\r\n      drug: drug.name,\r\n      brand: drug.brand,\r\n      dosage: drug.priorDosages.reduce((prev, { dosage, quantity }) => {\r\n        return prev + parseFloat(dosage) * quantity;\r\n      }, 0),\r\n      prescription: null,\r\n      startDate: null,\r\n      endDate: tableDataSorted[0].startDate,\r\n      selected: false,\r\n      availableDosageOptions: [],\r\n      regularDosageOptions: null,\r\n      unitDosages: {},\r\n      addedInCurrentVisit: false,\r\n      intervalDurationDays: -1,\r\n      intervalCount: -1,\r\n      intervalUnit: null,\r\n      measureUnit: drug.measureUnit,\r\n      form: drug.form,\r\n    })) as TableRowData[]);\r\n  console.groupEnd();\r\n\r\n  // return { data: tableDataSorted, drugs: prescribedDrugs };\r\n  return { data: tableDataSorted, drugs: drugsToApplyInSchedule };\r\n};\r\n\r\nexport type ScheduleChartData = { name: string, brand: string, changeDirection: 'increase' | 'decrease' | 'same', data: { timestamp: number, dosage: number }[] }[];\r\n\r\nexport const chartDataConverter = (schedule: Schedule): ScheduleChartData => {\r\n  const rowsGroupByDrug: { [drugName_brand: string]: TableRowData[] } = {};\r\n\r\n  const scheduleChartData: ScheduleChartData = [];\r\n\r\n  schedule.drugs.forEach((drug) => {\r\n    rowsGroupByDrug[`${drug.name}_${drug.brand}`] = [];\r\n  });\r\n\r\n  schedule.data\r\n    .filter((row) => !row.isPriorDosage)\r\n    .forEach((row) => {\r\n      rowsGroupByDrug[`${row.drug}_${row.brand}`].push(row);\r\n    });\r\n\r\n  const changeDirections: { [drugName_brand: string]: 'increase' | 'decrease' | 'same' } = schedule.drugs.reduce((prev, drug) => {\r\n    const priorDosageSum = drug.priorDosages.reduce((acc, { dosage, quantity }) => {\r\n      return acc + parseFloat(dosage) * quantity;\r\n    }, 0);\r\n\r\n    const upcomingDosageSum = drug.upcomingDosages.reduce((acc, { dosage, quantity }) => {\r\n      return acc + parseFloat(dosage) * quantity;\r\n    }, 0);\r\n\r\n    if (priorDosageSum > upcomingDosageSum) {\r\n      prev[`${drug.name}_${drug.brand}`] = 'decrease';\r\n    } else if (priorDosageSum < upcomingDosageSum) {\r\n      prev[`${drug.name}_${drug.brand}`] = 'increase';\r\n    } else {\r\n      prev[`${drug.name}_${drug.brand}`] = 'same';\r\n    }\r\n\r\n    return prev;\r\n  }, {} as { [drugName_brand: string]: 'increase' | 'decrease' | 'same' });\r\n\r\n  Object.entries(rowsGroupByDrug).forEach(([k, rows]) => {\r\n    const [drugName, drugBrand] = k.split('_');\r\n    scheduleChartData.push({\r\n      name: drugName, brand: drugBrand, changeDirection: changeDirections[k], data: [],\r\n    });\r\n\r\n    rows.forEach((row, i) => {\r\n      const chartData = scheduleChartData.find((el) => el.brand === drugBrand)!;\r\n      Array(differenceInCalendarDays(row.endDate!, row.startDate!) + 1).fill(null).forEach((_, j) => {\r\n        chartData.data.push({\r\n          timestamp: add(row.startDate!, { days: j }).getTime(),\r\n          dosage: row.dosage,\r\n        });\r\n      });\r\n\r\n      if (i === rows.length - 1) {\r\n        chartData.data.push({\r\n          timestamp: row.endDate!.getTime(),\r\n          dosage: row.dosage,\r\n        });\r\n      }\r\n    });\r\n  });\r\n\r\n  return scheduleChartData;\r\n};\r\n\r\nexport const generateInstructionsForPatientFromSchedule = (schedule: Schedule): string => {\r\n  return schedule.data\r\n    .filter((row) => row.selected && !row.isPriorDosage)\r\n    .reduce((message, row) => {\r\n      const startDate = format(row.startDate!, 'MMM dd, yyyy');\r\n      const endDate = format(row.endDate!, 'MMM dd, yyyy');\r\n      const dosagesPrescribed = row.prescription!.message.replace(/ for.+/, '');\r\n      return `${message}Take ${row.drug} (${row.brand}) ${dosagesPrescribed} from ${startDate} to ${endDate} (${row.intervalCount} ${row.intervalUnit}).\\n`;\r\n    }, '');\r\n};\r\n\r\nexport const generateInstructionsForPharmacy = (patientInstructions: string, prescription: Prescription): string => {\r\n  const instructionsForPatients = `Instructions for Patient:\r\n  ${patientInstructions\r\n    .split('\\n')\r\n    .filter((instruction) => instruction !== '')\r\n    .reduce((prev, line, i, instructionsArr) => {\r\n      if (i === instructionsArr.length - 1) {\r\n        return `${prev}\\t${line}`;\r\n      }\r\n      return `${prev}\\t${line}\\n`;\r\n    }, '')}\\n---------------------------------------------------\\n`;\r\n\r\n  return Object.values(prescription).reduce((instruction, { name, brand, dosageQty }, i, prescriptionArr) => {\r\n    const dosages = Object.entries(dosageQty).reduce((acc, [dos, qty], j, dosageArr) => {\r\n      if (j === dosageArr.length - 1) {\r\n        return `${acc}${qty} X ${dos}`;\r\n      }\r\n      return `${acc}${qty} X ${dos}, `;\r\n    }, '');\r\n\r\n    return `${instruction}${name} (${brand}): ${dosages}\\n`;\r\n  }, instructionsForPatients);\r\n};\r\n\r\nexport const calcFinalPrescription = (scheduleData: TableRowData[], tableSelectedRows: (number | null)[]): Prescription => {\r\n  const finalPrescription = scheduleData\r\n    .filter((row, i) => tableSelectedRows.includes(i))\r\n    .reduce((prev, row) => {\r\n      if (!prev[row.prescribedDrugId]) {\r\n        const obj: ValueOf<Prescription> = {\r\n          name: '',\r\n          brand: '',\r\n          form: '',\r\n          // availableDosages: [],\r\n          regularDosageOptions: [],\r\n          oralDosageInfo: null,\r\n          dosageQty: {},\r\n        };\r\n        obj.name = row.drug;\r\n        obj.brand = row.brand;\r\n        obj.form = row.form;\r\n        if (row.oralDosageInfo) {\r\n          obj.oralDosageInfo = row.oralDosageInfo;\r\n        }\r\n        // obj.availableDosages = row.availableDosageOptions!;\r\n        obj.regularDosageOptions = row.regularDosageOptions!;\r\n        obj.dosageQty = Object.entries(row.unitDosages!)\r\n          .reduce((dosages, [dosage, qty]) => {\r\n            if (!dosages[dosage]) {\r\n              dosages[dosage] = qty * row.intervalDurationDays!;\r\n            } else {\r\n              dosages[dosage] += qty * row.intervalDurationDays!;\r\n            }\r\n            return dosages;\r\n          }, {} as { [dosage: string]: number });\r\n        prev[row.prescribedDrugId] = obj;\r\n      } else {\r\n        Object.entries(row.unitDosages!)\r\n          .forEach(([dosage, qty]) => {\r\n            if (!prev[row.prescribedDrugId].dosageQty[dosage]) {\r\n              prev[row.prescribedDrugId].dosageQty[dosage] = qty * row.intervalDurationDays!;\r\n            } else {\r\n              prev[row.prescribedDrugId].dosageQty[dosage] += qty * row.intervalDurationDays!;\r\n            }\r\n          });\r\n      }\r\n      return prev;\r\n    }, {} as Prescription);\r\n\r\n  Object.entries(finalPrescription).forEach(([id, prescription]) => {\r\n    if (prescription.oralDosageInfo) {\r\n      const dosageInMl = prescription.dosageQty['1mg'] / prescription.oralDosageInfo.rate.mg * prescription.oralDosageInfo.rate.ml;\r\n      prescription.dosageQty = calcMinimumQuantityForDosage(prescription.oralDosageInfo.bottles, dosageInMl, null);\r\n    }\r\n  });\r\n  return finalPrescription;\r\n};\r\n","import { Clinician, Patient } from '../../types';\r\n\r\nexport const sally: Omit<Patient, 'password'> = {\r\n  id: 1,\r\n  name: 'Sally Johnson',\r\n  email: 'sallyj@uci.edu',\r\n  // taperingConfigurations: [\r\n  //   {\r\n  //     id: 1,\r\n  //     clinicianId: 1,\r\n  //     patientId: 1,\r\n  //     createdAt: new Date(),\r\n  //     prescribedDrugs: [\r\n  //       {\r\n  //         name: 'Fluoxetine',\r\n  //         brand: 'Prozac',\r\n  //         form: 'capsule',\r\n  //         currentDosages: [{ dosage: '10mg', quantity: 1 }, { dosage: '20mg', quantity: 2 }],\r\n  //         nextDosages: [{ dosage: '20mg', quantity: 2 }],\r\n  //       },\r\n  //       {\r\n  //         name: 'Citalopram',\r\n  //         brand: 'Celexa',\r\n  //         form: 'tablet',\r\n  //         currentDosages: [{ dosage: '10mg', count: 1 }],\r\n  //         nextDosages: [{ dosage: '20mg', count: 1 }],\r\n  //       },\r\n  //     ],\r\n  //   },\r\n  // ] as TaperingConfiguration[],\r\n  taperingConfiguration: null,\r\n  recentVisit: new Date(),\r\n  notes: '',\r\n};\r\n\r\nexport const john: Omit<Patient, 'password'> = {\r\n  id: 2,\r\n  name: 'John Greenberg',\r\n  email: 'johng@uci.edu',\r\n  notes: '',\r\n  taperingConfiguration: null,\r\n  recentVisit: new Date('2021-05-14T21:13:39.673Z'),\r\n};\r\n\r\nexport const xiao: Omit<Patient, 'password'> = {\r\n  id: 3,\r\n  email: 'xiaoz@uci.edu',\r\n  name: 'Xiao Zhang',\r\n  taperingConfiguration: null,\r\n  recentVisit: new Date(),\r\n  notes: '',\r\n};\r\n\r\nexport const christian: Omit<Clinician, 'password'> = {\r\n  email: 'clinician@gmail.com',\r\n  name: 'Christian Lee',\r\n  id: 1,\r\n  patients: [\r\n    { id: sally.id, name: sally.name },\r\n    { id: john.id, name: john.name },\r\n  ],\r\n};\r\n","import { all, fork } from 'redux-saga/effects';\r\nimport userSaga from './userSaga';\r\nimport taperConfigSaga from './taperConfigSaga';\r\n\r\nexport default function* rootSaga() {\r\n  yield all([fork(userSaga), fork(taperConfigSaga)]);\r\n}\r\n","import {\r\n  all, put, fork, takeLatest, select,\r\n} from 'redux-saga/effects';\r\nimport {\r\n  ADD_NEW_DRUG_FORM,\r\n  ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\r\n  ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\r\n  ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\r\n  AddNewDrugFormAction,\r\n  AddOrUpdateTaperConfigFailureAction,\r\n  AddOrUpdateTaperConfigRequestAction,\r\n  AddOrUpdateTaperConfigSuccessAction,\r\n  CLEAR_SCHEDULE,\r\n  ClearScheduleAction, EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\r\n  FETCH_PRESCRIBED_DRUGS_FAILURE,\r\n  FETCH_PRESCRIBED_DRUGS_REQUEST,\r\n  FETCH_PRESCRIBED_DRUGS_SUCCESS,\r\n  FETCH_TAPER_CONFIG_FAILURE,\r\n  FETCH_TAPER_CONFIG_REQUEST,\r\n  FETCH_TAPER_CONFIG_SUCCESS,\r\n  FetchPrescribedDrugsFailureAction,\r\n  FetchPrescribedDrugsRequestAction,\r\n  FetchPrescribedDrugsSuccessAction,\r\n  FetchTaperConfigFailureAction,\r\n  FetchTaperConfigRequestAction,\r\n  FetchTaperConfigSuccessAction,\r\n  GENERATE_SCHEDULE,\r\n  GenerateScheduleAction, MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\r\n  TABLE_DOSAGE_EDITED,\r\n  TABLE_END_DATE_EDITED,\r\n  TABLE_START_DATE_EDITED,\r\n  UPDATE_CHART,\r\n  UpdateChartAction,\r\n} from '../actions/taperConfig';\r\nimport {\r\n  PrescribedDrug, Prescription, TableRowData, TaperingConfiguration,\r\n} from '../../types';\r\nimport { completePrescribedDrugs, ScheduleChartData } from '../reducers/utils';\r\nimport { TaperConfigState } from '../reducers/taperConfig';\r\nimport {\r\n  ALLOW_SPLITTING_UNSCORED_TABLET,\r\n  CHOOSE_BRAND,\r\n  CHOOSE_FORM, INTERVAL_COUNT_CHANGE, INTERVAL_END_DATE_CHANGE, INTERVAL_START_DATE_CHANGE, INTERVAL_UNIT_CHANGE,\r\n  PRIOR_DOSAGE_CHANGE, SET_TARGET_DOSAGE,\r\n  UPCOMING_DOSAGE_CHANGE,\r\n} from '../../components/PrescriptionForm/actions';\r\nimport taperConfig from '../reducers/taperConfig/taperConfig';\r\nimport { UserState } from '../reducers/user';\r\nimport { Schedule } from '../../components/Schedule/ProjectedSchedule';\r\n\r\nlet taperConfigId = 0;\r\n\r\nfunction* generateOrClearSchedule() {\r\n  const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\r\n\r\n  const validPrescribedDrugsInputs = completePrescribedDrugs(taperConfigState.prescribedDrugs);\r\n  if (validPrescribedDrugsInputs.length !== 0) {\r\n    yield put<GenerateScheduleAction>({\r\n      type: GENERATE_SCHEDULE,\r\n      data: validPrescribedDrugsInputs,\r\n    });\r\n  } else {\r\n    yield put<ClearScheduleAction>({\r\n      type: CLEAR_SCHEDULE,\r\n    });\r\n  }\r\n}\r\n//\r\n// function addOrUpdateTaperConfigAPI(action: AddOrUpdateTaperConfigRequestAction): { data: TaperingConfiguration } {\r\n//   if (taperConfigState.taperConfigs.findIndex((config) => config.patientId === action.data.patientId && config.clinicianId === action.data.clinicianId)) {\r\n//     return action.data;\r\n//   }\r\n//\r\n//   taperConfigId += 1;\r\n//   return {\r\n//     data: {\r\n//       id: taperConfigId,\r\n//       ...action.data,\r\n//       createdAt: new Date(),\r\n//     },\r\n//   };\r\n// }\r\n\r\nfunction* addOrUpdateTaperConfig(action: AddOrUpdateTaperConfigRequestAction) {\r\n  try {\r\n    // yield delay(1000);\r\n    // const result = addOrUpdateTaperConfigAPI(action);\r\n    const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\r\n\r\n    const existingTaperConfigIndex = taperConfigState.taperConfigs.findIndex((config) => config.patientId === action.data.patientId && config.clinicianId === action.data.clinicianId);\r\n\r\n    if (existingTaperConfigIndex) {\r\n      yield put<AddOrUpdateTaperConfigSuccessAction>({\r\n        type: ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\r\n        data: {\r\n          ...taperConfigState.taperConfigs[existingTaperConfigIndex],\r\n          ...action.data,\r\n          id: taperConfigId,\r\n          createdAt: new Date(),\r\n        },\r\n      });\r\n    } else {\r\n      taperConfigId += 1;\r\n      yield put<AddOrUpdateTaperConfigSuccessAction>({\r\n        type: ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\r\n        data: { ...action.data, id: taperConfigId, createdAt: new Date() },\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    yield put<AddOrUpdateTaperConfigFailureAction>({\r\n      type: ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\r\n      error: err.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction* watchAddOrUpdateTaperConfig() {\r\n  yield takeLatest(ADD_OR_UPDATE_TAPER_CONFIG_REQUEST, addOrUpdateTaperConfig);\r\n}\r\n\r\n// function fetchTaperConfigAPI(action: FetchTaperConfigRequestAction): { data: TaperingConfiguration } {\r\n//   return {\r\n//     data: {\r\n//       id: action.data,\r\n//       clinicianId: 1,\r\n//       patientId: 1,\r\n//       createdAt: new Date('2021-05-14T21:00:06.387Z'),\r\n//       projectedSchedule: { drugs: [] as PrescribedDrug[], data: [] as TableRowData[] },\r\n//       finalPrescription: {} as Prescription,\r\n//       instructionsForPatient: '',\r\n//       instructionsForPharmacy: '',\r\n//       scheduleChartData: {} as ScheduleChartData,\r\n//     },\r\n//   };\r\n// }\r\n\r\nfunction* fetchTaperConfig(action: FetchTaperConfigRequestAction) {\r\n  try {\r\n    // const result = fetchTaperConfigAPI(action);\r\n    // yield delay(1000);\r\n\r\n    const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\r\n\r\n    const taperConfigIndex = taperConfigState.taperConfigs.findIndex((config) => config.patientId === action.data.patientId && config.clinicianId === action.data.clinicianId);\r\n    if (taperConfigIndex !== -1) {\r\n      yield put<FetchTaperConfigSuccessAction>({\r\n        type: FETCH_TAPER_CONFIG_SUCCESS,\r\n        data: taperConfigState.taperConfigs[taperConfigIndex],\r\n      });\r\n    } else {\r\n      taperConfigId += 1;\r\n      yield put<FetchTaperConfigSuccessAction>({\r\n        type: FETCH_TAPER_CONFIG_SUCCESS,\r\n        data: {\r\n          id: taperConfigId,\r\n          clinicianId: action.data.clinicianId,\r\n          patientId: action.data.patientId,\r\n          createdAt: new Date(),\r\n          projectedSchedule: {} as Schedule,\r\n          instructionsForPharmacy: '',\r\n          instructionsForPatient: '',\r\n          finalPrescription: {} as Prescription,\r\n          scheduleChartData: [] as ScheduleChartData,\r\n        },\r\n      });\r\n    }\r\n\r\n    yield generateOrClearSchedule();\r\n  } catch (err) {\r\n    console.error(err);\r\n    yield put<FetchTaperConfigFailureAction>({\r\n      type: FETCH_TAPER_CONFIG_FAILURE,\r\n      error: err.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction* watchFetchTaperConfig() {\r\n  yield takeLatest(FETCH_TAPER_CONFIG_REQUEST, fetchTaperConfig);\r\n}\r\n\r\nfunction* updateChart() {\r\n  yield put<UpdateChartAction>({\r\n    type: UPDATE_CHART,\r\n  });\r\n}\r\n\r\nfunction* watchTaperConfigFormChange() {\r\n  yield takeLatest([MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\r\n    // EDIT_PROJECTED_SCHEDULE_FROM_MODAL\r\n  ],\r\n  generateOrClearSchedule);\r\n}\r\n\r\nfunction* watchProjectedScheduleTableEdit() {\r\n  yield takeLatest([TABLE_DOSAGE_EDITED, TABLE_START_DATE_EDITED, TABLE_END_DATE_EDITED], updateChart);\r\n}\r\n\r\nexport default function* taperConfigSaga() {\r\n  yield all([\r\n    fork(watchFetchTaperConfig),\r\n    fork(watchAddOrUpdateTaperConfig),\r\n    fork(watchTaperConfigFormChange),\r\n    fork(watchProjectedScheduleTableEdit),\r\n  ]);\r\n}\r\n","import {\r\n  all, delay, fork, put, takeLatest,\r\n} from 'redux-saga/effects';\r\nimport {\r\n  ADD_NEW_PATIENT_FAILURE,\r\n  ADD_NEW_PATIENT_REQUEST,\r\n  ADD_NEW_PATIENT_SUCCESS,\r\n  AddNewPatientFailure,\r\n  AddNewPatientRequest,\r\n  AddNewPatientSuccess,\r\n  LoadPatientsRequestAction,\r\n  LoadPatientsSuccessAction,\r\n  LoadPatientsFailureAction,\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LoginFailureAction,\r\n  LoginRequestAction,\r\n  LoginSuccessAction,\r\n  LOAD_PATIENTS_SUCCESS,\r\n  LOAD_PATIENTS_FAILURE,\r\n  LOAD_PATIENTS_REQUEST,\r\n  SavePatientNotesRequestAction,\r\n  SavePatientNotesSuccessAction,\r\n  SAVE_PATIENT_NOTES_SUCCESS,\r\n  SAVE_PATIENT_NOTES_FAILURE,\r\n  SavePatientNotesFailureAction, SAVE_PATIENT_NOTES_REQUEST,\r\n\r\n} from '../actions/user';\r\nimport { Clinician, Patient } from '../../types';\r\nimport {\r\n  christian, xiao, sally, john,\r\n} from './dummies';\r\n\r\nfunction loginAPI(action: LoginRequestAction): { data: Omit<Clinician, 'password'> } {\r\n  // return { data: christian };\r\n  return {\r\n    data: {\r\n      id: 1,\r\n      email: '',\r\n      name: action.data.name,\r\n      patients: [\r\n        { id: sally.id, name: sally.name },\r\n        { id: john.id, name: john.name },\r\n      ],\r\n    },\r\n  };\r\n}\r\n\r\nfunction* logIn(action: LoginRequestAction) {\r\n  try {\r\n    // yield delay(1000);\r\n    const result = loginAPI(action);\r\n\r\n    yield put<LoginSuccessAction>({\r\n      type: LOGIN_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (err) {\r\n    console.error(err);\r\n    yield put<LoginFailureAction>({\r\n      type: LOGIN_FAILURE,\r\n      error: err.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction addPatientAPI(action: AddNewPatientRequest): { data: Omit<Patient, 'password'> } {\r\n  return { data: xiao };\r\n}\r\n\r\nfunction* addPatient(action: AddNewPatientRequest) {\r\n  try {\r\n    // yield delay(1000);\r\n    const result = addPatientAPI(action);\r\n\r\n    yield put<AddNewPatientSuccess>({\r\n      type: ADD_NEW_PATIENT_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (err) {\r\n    console.error(err);\r\n    yield put<AddNewPatientFailure>({\r\n      type: ADD_NEW_PATIENT_FAILURE,\r\n      error: err.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadPatientsAPI(action: LoadPatientsRequestAction): { data: Omit<Patient, 'password'>[] } {\r\n  return { data: [sally, john, xiao] };\r\n}\r\n\r\nfunction* loadPatients(action: LoadPatientsRequestAction) {\r\n  try {\r\n    // yield delay(1000);\r\n    const result = loadPatientsAPI(action);\r\n\r\n    yield put<LoadPatientsSuccessAction>({\r\n      type: LOAD_PATIENTS_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (err) {\r\n    console.error(err);\r\n    yield put<LoadPatientsFailureAction>({\r\n      type: LOAD_PATIENTS_FAILURE,\r\n      error: err.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction savePatientNotesApi(action: SavePatientNotesRequestAction): { data: SavePatientNotesSuccessAction['data'] } {\r\n  return { data: action.data };\r\n}\r\n\r\nfunction* savePatientNotes(action: SavePatientNotesRequestAction) {\r\n  try {\r\n    const result = savePatientNotesApi(action);\r\n\r\n    yield put<SavePatientNotesSuccessAction>({\r\n      type: SAVE_PATIENT_NOTES_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (err) {\r\n    console.error(err);\r\n    yield put<SavePatientNotesFailureAction>({\r\n      type: SAVE_PATIENT_NOTES_FAILURE,\r\n      error: err.response.data,\r\n    });\r\n  }\r\n}\r\n\r\nfunction* watchLogIn() {\r\n  yield takeLatest(LOGIN_REQUEST, logIn);\r\n}\r\n\r\nfunction* watchAddPatient() {\r\n  yield takeLatest(ADD_NEW_PATIENT_REQUEST, addPatient);\r\n}\r\n\r\nfunction* watchLoadPatients() {\r\n  yield takeLatest(LOAD_PATIENTS_REQUEST, loadPatients);\r\n}\r\n\r\nfunction* watchSavePatientNotes() {\r\n  yield takeLatest(SAVE_PATIENT_NOTES_REQUEST, savePatientNotes);\r\n}\r\n\r\nexport default function* userSaga() {\r\n  yield all([\r\n    fork(watchLogIn),\r\n    fork(watchAddPatient),\r\n    fork(watchLoadPatients),\r\n    fork(watchSavePatientNotes)]);\r\n}\r\n","import {\r\n  AnyAction, applyMiddleware, compose, createStore, Middleware, Store,\r\n} from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware, { Task } from 'redux-saga';\r\n\r\nimport reducer, { RootState } from './reducers';\r\nimport rootSaga from './sagas';\r\n\r\ninterface SagaStore extends Store<RootState, AnyAction> {\r\n  sagaTask: Task;\r\n}\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middlewares: Middleware[] = [sagaMiddleware];\r\nconst enhancer = process.env.NODE_ENV === 'production'\r\n  ? compose(applyMiddleware(...middlewares))\r\n  : composeWithDevTools(applyMiddleware(...middlewares));\r\n\r\nconst store = createStore(reducer, enhancer);\r\n(store as unknown as SagaStore).sagaTask = sagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import { Schedule } from '../components/Schedule/ProjectedSchedule';\r\nimport { ScheduleChartData } from '../redux/reducers/utils';\r\n\r\nexport interface Clinician {\r\n  id: number;\r\n  email: string;\r\n  password: string;\r\n  name: string;\r\n  patients: Pick<Patient, 'id' | 'name' | 'image'>[];\r\n  taperingConfigurations?: TaperingConfiguration[];\r\n}\r\n\r\nexport interface Patient {\r\n  id: number;\r\n  email: string;\r\n  password: string;\r\n  name: string;\r\n  image?: string;\r\n  patientSignedUp?: boolean; // considering Clinician's adding patient account in the office\r\n  taperingConfiguration: TaperingConfiguration | null;\r\n  recentVisit: Date;\r\n  notes: string;\r\n}\r\n\r\nexport interface TaperingConfiguration {\r\n  id: number;\r\n  clinicianId: number;\r\n  patientId: number;\r\n  createdAt: Date;\r\n  projectedSchedule: Schedule;\r\n  instructionsForPatient: string;\r\n  instructionsForPharmacy: string;\r\n  finalPrescription: Prescription;\r\n  scheduleChartData: ScheduleChartData;\r\n}\r\n\r\nexport interface Drug {\r\n  name: string;\r\n  halfLife: string;\r\n  options: DrugOption[]\r\n}\r\n\r\nexport interface DrugOption {\r\n  brand: string;\r\n  forms: DrugForm[]\r\n}\r\n\r\nexport interface CapsuleOrTabletForm {\r\n  form: string;\r\n  measureUnit: string;\r\n  dosages: CapsuleOrTabletDosage[];\r\n}\r\n\r\nexport interface OralForm {\r\n  form: string;\r\n  measureUnit: string;\r\n  dosages: OralDosage;\r\n}\r\n\r\nexport type DrugForm = CapsuleOrTabletForm | OralForm;\r\n\r\nexport interface CapsuleOrTabletDosage {\r\n  dosage: string;\r\n  isScored?: boolean;\r\n}\r\n\r\nexport interface OralDosage {\r\n  rate: { mg: number, ml: number },\r\n  bottles: string[]\r\n}\r\n\r\nexport const isCapsuleOrTablet = (form: DrugForm | PrescribedDrug): form is CapsuleOrTabletForm => {\r\n  return form.form === 'tablet' || form.form === 'capsule';\r\n};\r\n\r\nexport interface PrescribedDrug {\r\n  id: number;\r\n  name: string;\r\n  brand: string;\r\n  form: string;\r\n  halfLife: string;\r\n  measureUnit: string;\r\n  minDosageUnit: number;\r\n\r\n  /**\r\n   * available dosage options including splitting tablet\r\n   */\r\n  availableDosageOptions: string[];\r\n\r\n  /**\r\n   * available dosage options without considering splitting tablet\r\n   */\r\n  regularDosageOptions: string[] | null;\r\n  /**\r\n   * In modal, keep setting false before adding to taperConfig state\r\n   */\r\n  applyInSchedule: boolean;\r\n  isModal: boolean;\r\n  /**\r\n   * When opening a PrescriptionForm in Modal, it disallows to change prior dosage\r\n   * unless drug name or brand are not changed.\r\n   */\r\n  allowChangePriorDosage: boolean;\r\n  priorDosages: { dosage: string; quantity: number }[];\r\n  upcomingDosages: { dosage: string; quantity: number }[];\r\n  /**\r\n   * priorDosageSum, upcomingDosageSum are used only in modal\r\n   */\r\n  priorDosageSum: number;\r\n  upcomingDosageSum: number;\r\n  targetDosage: number;\r\n  intervalStartDate: Date;\r\n  intervalEndDate: Date | null;\r\n  intervalCount: number;\r\n  intervalUnit: 'Days' | 'Weeks' | 'Months';\r\n  intervalDurationDays: number;\r\n  allowSplittingUnscoredTablet: boolean;\r\n  prevVisit: boolean;\r\n  prescribedAt: Date;\r\n  oralDosageInfo?: OralDosage | null;\r\n}\r\n\r\nexport interface Prescription {\r\n  [id: number]: {\r\n    name: string,\r\n    brand: string,\r\n    form: string,\r\n    oralDosageInfo: OralDosage | null;\r\n    /*\r\n    // available options for capsule or tablet\r\n    availableDosages: string[];\r\n     */\r\n    regularDosageOptions: string[];\r\n    dosageQty: { [dosage: string]: number }\r\n  }\r\n}\r\n\r\nexport type ValueOf<T> = T[keyof T];\r\n\r\nexport interface Converted extends PrescribedDrug {\r\n  intervalEndDate: Date;\r\n  priorDosageSum: number;\r\n  upcomingDosageSum: number;\r\n  changeRate: number;\r\n  changeAmount: number;\r\n  // isIncreasing: boolean;\r\n  changeDirection: 'increase' | 'decrease' | 'same';\r\n}\r\n\r\nexport interface TableRowData {\r\n  rowIndexInPrescribedDrug: number;\r\n  prescribedDrugId: number;\r\n  prescribedDrug: PrescribedDrug;\r\n  isPriorDosage: boolean;\r\n  drug: string;\r\n  brand: string;\r\n  dosage: number;\r\n  prescription: {\r\n    message: string,\r\n    data: {\r\n      form: string,\r\n      unit: string,\r\n      oralDosageInfo?: OralDosage\r\n      dosage: { [dosage: string]: number },\r\n    }\r\n  } | null;\r\n  startDate: Date | null,\r\n  endDate: Date | null,\r\n  selected: boolean,\r\n  /**\r\n   * Includes Oral solution\r\n   */\r\n  availableDosageOptions: string[] | null;\r\n\r\n  /**\r\n   * In case of capsule or tablet\r\n   */\r\n  regularDosageOptions: string[] | null;\r\n  /**\r\n   * dosages counts from upcoming dosages\r\n   * or minimum quantity calculation without considering intervalDurationDays\r\n   */\r\n  unitDosages: { [dosage: string]: number } | null,\r\n  addedInCurrentVisit: boolean,\r\n  intervalDurationDays: number,\r\n  intervalCount: number,\r\n  intervalUnit: 'Days' | 'Weeks' | 'Months' | null,\r\n  oralDosageInfo?: OralDosage,\r\n  measureUnit: string,\r\n  form: string\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/antidepressant-tapering\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktapering_antidepressant\"] = self[\"webpackChunktapering_antidepressant\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [20], () => (__webpack_require__(7070)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}